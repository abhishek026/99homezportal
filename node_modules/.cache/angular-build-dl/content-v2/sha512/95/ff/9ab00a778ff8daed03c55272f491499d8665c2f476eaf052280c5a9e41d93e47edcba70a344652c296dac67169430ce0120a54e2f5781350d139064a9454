{"version":3,"sources":["webpack:///node_modules/@progress/kendo-angular-l10n/__ivy_ngcc__/dist/fesm2015/index.js","webpack:///node_modules/@progress/kendo-angular-treeview/__ivy_ngcc__/dist/fesm2015/index.js","webpack:///node_modules/rxjs-compat/BehaviorSubject.js","webpack:///node_modules/rxjs-compat/Subscription.js","webpack:///node_modules/rxjs-compat/observable/empty.js","webpack:///node_modules/rxjs-compat/observable/merge.js","webpack:///node_modules/rxjs-compat/observable/of.js","webpack:///node_modules/rxjs-compat/operators/catchError.js","webpack:///node_modules/rxjs-compat/operators/delay.js","webpack:///node_modules/rxjs-compat/operators/filter.js","webpack:///node_modules/rxjs-compat/operators/map.js","webpack:///node_modules/rxjs-compat/operators/skip.js","webpack:///node_modules/rxjs-compat/operators/switchMap.js","webpack:///node_modules/rxjs-compat/operators/take.js","webpack:///node_modules/rxjs-compat/operators/takeUntil.js","webpack:///node_modules/rxjs-compat/operators/tap.js","webpack:///node_modules/rxjs/BehaviorSubject.js","webpack:///node_modules/rxjs/Subscription.js","webpack:///node_modules/rxjs/observable/empty.js","webpack:///node_modules/rxjs/observable/merge.js","webpack:///node_modules/rxjs/observable/of.js","webpack:///node_modules/rxjs/operators/catchError.js","webpack:///node_modules/rxjs/operators/delay.js","webpack:///node_modules/rxjs/operators/filter.js","webpack:///node_modules/rxjs/operators/map.js","webpack:///node_modules/rxjs/operators/skip.js","webpack:///node_modules/rxjs/operators/switchMap.js","webpack:///node_modules/rxjs/operators/take.js","webpack:///node_modules/rxjs/operators/takeUntil.js","webpack:///node_modules/rxjs/operators/tap.js","webpack:///src/app/services/course-services/topic-listing.service.ts"],"names":["MessageService","changes","rtl","next","key","undefined","ɵfac","MessageService_Factory","t","ɵprov","token","factory","ctorParameters","type","ComponentMessages","register","Object","keys","some","field","isFirstChange","service","notifyChanges","subscription","pipe","subscribe","forEach","override","unsubscribe","ComponentMessages_Factory","ɵdir","features","RTL","L10N_PREFIX","LocalizationService","prefix","messageService","_rtl","dictionary","shortKey","value","message","hasOwnProperty","defaultValue","alt","get","LocalizationService_Factory","decorators","args","_c0","TreeViewGroupComponent_li_0_span_2_Template","rf","ctx","_r10","TreeViewGroupComponent_li_0_span_2_Template_span_click_0_listener","ctx_r9","index_r2","index","node_r1","$implicit","ctx_r8","expandNode","nodeIndex","isExpanded","ctx_r11","ctx_r3","TreeViewGroupComponent_li_0_kendo_checkbox_3_Template","_r14","TreeViewGroupComponent_li_0_kendo_checkbox_3_Template_kendo_checkbox_checkStateChange_0_listener","ctx_r12","checkNode","ctx_r15","ctx_r4","isChecked","TreeViewGroupComponent_li_0_ng_container_6_ng_template_1_Template","_c1","a0","a1","TreeViewGroupComponent_li_0_ng_container_6_Template","ctx_r17","ctx_r5","nodeTemplateRef","TreeViewGroupComponent_li_0_ng_container_7_Template","ctx_r6","nodeText","TreeViewGroupComponent_li_0_ul_8_Template","ctx_r19","ctx_r7","fetchChildren","checkboxes","expandIcons","children","hasChildren","isDisabled","disabled","isSelected","nextFields","TreeViewGroupComponent_li_0_Template","ctx_r0","parentDataItem","parentIndex","hasTemplate","NodeTemplateDirective","templateRef","NodeTemplateDirective_Factory","selectors","selector","ExpandStateService","dataItem","expand","ExpandStateService_Factory","IndexBuilderService","INDEX_SEPARATOR","level","split","slice","join","parts","length","NaN","parseInt","IndexBuilderService_Factory","LoadingNotificationService","LoadingNotificationService_Factory","NodeChildrenService","item","NodeChildrenService_Factory","focusableRegex","match","element","matcher","matches","msMatchesSelector","webkitMatchesSelector","call","closestWithMatch","document","documentElement","contains","parent","nodeType","parentElement","parentNode","noop","isPresent","isBlank","isArray","Array","isNullOrEmptyString","trim","isDocumentAvailable","hasObservers","emitter","observers","isChanged","propertyName","skipFirstChange","previousValue","currentValue","closestNode","closest","isFocusable","tagName","toLowerCase","tabIndex","getAttribute","skipTab","focusable","test","isContent","scopeSelector","node","predicate","hasParent","container","Boolean","focusableNode","nativeElement","querySelector","nodeId","guid","id","random","i","Math","toString","last","list","safe","safeChildren","findLast","lastNode","concat","shift","NavigationModel","ib","nodes","findNode","prev","sibling","firstNode","find","parentLevel","indexForLevel","findParent","levelIndex","lastLevelIndex","currentNode","insert","splice","indexOf","filter","childLevel","indexToMatch","isLeaf","n","offset","Keys","NavigationService","localization","expands","moves","checks","selects","navigable","actions","up","activate","model","findPrev","focusableItem","down","findNext","left","intercept","moveToChild","moveToParent","right","home","end","enter","selectIndex","activeItem","space","checkIndex","isFocused","_model","bind","isActive","notifyMove","activeIndex","registerItem","activateParent","unregisterItem","e","moveAction","keyCode","preventDefault","notifyExpand","isActiveExpanded","findChild","navigationState","NavigationService_Factory","SelectionService","firstIndex","selected","SelectionService_Factory","INDEX_REGEX","TreeViewLookupService","map","Map","currentLookup","set","current","addToParent","mapChildren","has","parentItem","exec","c","TreeViewLookupService_Factory","DataChangeNotificationService","emit","DataChangeNotificationService_Factory","providers","provide","useValue","TreeViewComponent","expandService","navigationService","nodeChildrenService","selectionService","treeViewLookupService","ngZone","renderer","dataChangeNotification","classNames","fetchNodes","data","childrenLoaded","onBlur","onFocus","collapse","checkedChange","selectionChange","nodeClick","nodeDblClick","_animate","subscriptions","domSubscriptions","_","add","x","itemLookup","run","runOutsideAngular","attachDomHandlers","target","activeElement","blur","activateIndex","focus","clickHandler","push","listen","focusHandler","blurHandler","keydownHandler","focusItem","relatedTarget","deactivate","lookup","originalEvent","move","notify","_hasChildren","callback","_isExpanded","_isChecked","_isSelected","TreeViewComponent_Factory","ɵcmp","contentQueries","TreeViewComponent_ContentQueries","dirIndex","_t","nodeTemplate","first","hostVars","hostBindings","TreeViewComponent_HostBindings","role","direction","animate","inputs","textField","outputs","exportAs","decls","vars","consts","template","TreeViewComponent_Template","directives","TreeViewGroupComponent","encapsulation","propDecorators","changeDetection","Default","FIELD_REGEX","getterCache","obj","getter","fields","replace","indexAccessor","result","idx","loadingService","indexBuilder","kGroupClass","_data","nodesSubscription","dataChangeSubscription","subscribeToNodesChange","setNodeChildren","mapToTreeItem","notifyLoaded","registerChildren","mappedChildren","emitChildrenLoaded","TreeViewGroupComponent_Factory","TreeViewGroupComponent_HostBindings","attrs","TreeViewGroupComponent_Template","TreeViewItemDirective","TreeViewItemContentDirective","LoadingIndicatorDirective","CheckBoxComponent","animation","height","animations","indexChecked","k","matchKey","reduce","part","CheckDirective","treeView","zone","checkedKeysChange","checkActions","checkMultiple","checkSingle","_checkedKeys","check","options","checkChildren","onStable","addChildrenKeys","isItemChecked","checkable","enabled","toggleCheckOnClick","unsubscribeClick","checkKey","isIndexChecked","keyIndex","checkedKeys","itemKey","mode","checkParents","performSelection","checkOnClick","clickSubscription","shouldCheck","isDisabledNode","currentParent","parentKey","allChildrenSelected","isCheckedReducer","acc","existingKey","defaultOptions","isBoolean","checkSettings","assign","CheckDirective_Factory","DisableDirective","cdr","disabledKeys","firstChange","markForCheck","disableKey","DisableDirective_Factory","ExpandDirective","expandedKeysChange","_expandedKeys","toggleExpand","expandedKeys","expandKey","ExpandDirective_Factory","SelectDirective","selectedKeysChange","selectActions","selectMultiple","selectSingle","_selectedKeys","select","selectedKeys","selectKey","selection","selectionSettings","SelectDirective_Factory","SelectDirective_HostBindings","getAriaMultiselectable","HierarchyBindingDirective","childrenField","Error","_childrenField","HierarchyBindingDirective_Factory","cd","_loading","loadingNotifications","loading","LoadingIndicatorDirective_Factory","LoadingIndicatorDirective_HostBindings","compose","reduceRight","curr","findChildren","prop","FlatDataBindingDirective","originalData","parentIdField","idField","values","FlatDataBindingDirective_Factory","buildItem","lookupService","ariaChecked","isInitialized","treeItem","parentTreeItem","registerNavigationItem","setAttribute","setAriaAttributes","setDisabledClass","updateTabIndex","moveLookupItem","moveNavigationItem","disableNavigationItem","activateItem","setFirstSelected","isFirstSelected","shouldExpand","oldIndex","replaceItem","indexChange","disableChange","activateClosest","activateFocusable","setClass","className","toggle","action","attr","checked","TreeViewItemDirective_Factory","initialSelection","updateItem","updateSelection","render","addClass","TreeViewItemContentDirective_Factory","changeDetector","tabindex","checkStateChange","checkState","removeAttribute","state","detectChanges","CheckBoxComponent_Factory","CheckBoxComponent_HostBindings","classWrapper","labelText","CheckBoxComponent_Template","CheckBoxComponent_Template_input_change_0_listener","$event","handleChange","indeterminate","COMPONENT_DIRECTIVES","CheckBoxModule","ɵmod","ɵinj","CheckBoxModule_Factory","ngJitMode","declarations","exports","COMPONENT_DIRECTIVES$1","SharedModule","SharedModule_Factory","imports","EXPORTS","TreeViewModule","TreeViewModule_Factory","defineProperty","rxjs_1","BehaviorSubject","Subscription","empty","merge","of","operators_1","catchError","delay","skip","switchMap","take","takeUntil","tap","__export","m","p","TopicListingService","http","auth","baseUrl","drl","currentAuthKey","Authorization","headers","currentInstituteId","institute_id","getBaseUrl","url","error","post","subject_id","parent_topic_id"],"mappings":"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","file":"default~app-components-course-module-create-course-course-class-course-class-module~app-components-c~3c57cc5b-es5.js","sourcesContent":["import { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\nimport { Subject as Subject$1 } from 'rxjs/Subject';\nimport { skip as skip$1 } from 'rxjs/operators/skip';\nimport { BehaviorSubject as BehaviorSubject$1 } from 'rxjs/BehaviorSubject';\nimport { map as map$1 } from 'rxjs/operators/map';\nimport { tap as tap$1 } from 'rxjs/operators/tap';\n\n/* tslint:disable:max-line-length */\n/**\n * A base class for a service that returns localized messages.\n *\n * For more information, refer to the section on [using the message service]({% slug messages_l10n %}#toc-using-the-message-service).\n */\nimport * as ɵngcc0 from '@angular/core';\nclass MessageService {\n    constructor() {\n        /**\n         * @hidden\n         */\n        this.changes = new Subject$1();\n    }\n    /**\n     * Notifies the components that the messages were changed.\n     *\n     * @param rtl - (Optional) A new value for the [text direction token]({% slug api_l10n_rtl %}).\n     */\n    notify(rtl) {\n        this.changes.next({ rtl });\n    }\n    /**\n     * Returns a localized message for the supplied key.\n     *\n     * @param key - The message key. For example, `\"kendo.grid.noRecords\"`.\n     * @return - The localized message for this key or `undefined` if not found.\n     */\n    get(key) {\n        return undefined;\n    }\n}\nMessageService.ɵfac = function MessageService_Factory(t) { return new (t || MessageService)(); };\nMessageService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: MessageService, factory: MessageService.ɵfac });\n/** @nocollapse */\nMessageService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MessageService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * Base class that acts as a component messages container.\n *\n * For internal use.\n * @hidden\n */\nclass ComponentMessages {\n    get override() {\n        return false;\n    }\n    ngOnChanges(changes) {\n        this.register(changes);\n        if (Object.keys(changes).some(field => !changes[field].isFirstChange())) {\n            this.service.notifyChanges();\n        }\n    }\n    ngOnInit() {\n        this.subscription = this.service.changes.pipe(skip$1(1)).subscribe(() => this.register(this));\n    }\n    register(changes) {\n        const keys = Object.keys(changes);\n        keys.forEach(key => this.service.register(key, this[key], this.override));\n    }\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n}\nComponentMessages.ɵfac = function ComponentMessages_Factory(t) { return new (t || ComponentMessages)(); };\nComponentMessages.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ComponentMessages, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n\n\n/**\n * A token that specifies the text direction of Kendo UI for Angular components.\n *\n * @example\n * {% embed_file rtl/app.module.ts preview %}\n * {% embed_file rtl/app.component.ts %}\n * {% embed_file shared/main.ts hidden %}\n *\n */\nconst RTL = new InjectionToken(\"Kendo UI Right-to-Left token\");\n\n/**\n * Localization prefix for the component messages.\n *\n * For internal use.\n * @hidden\n */\nconst L10N_PREFIX = new InjectionToken('Localization key prefix');\n/**\n * Component localization service.\n *\n * For internal use.\n * @hidden\n */\nclass LocalizationService {\n    constructor(prefix, messageService, _rtl) {\n        this.prefix = prefix;\n        this.messageService = messageService;\n        this._rtl = _rtl;\n        this.changes = new BehaviorSubject$1({ rtl: this._rtl });\n        this.dictionary = {};\n        if (messageService) {\n            this.subscription = messageService.changes\n                .pipe(map$1(({ rtl }) => rtl !== undefined ? rtl : this._rtl), tap$1(rtl => this._rtl = rtl))\n                .subscribe(rtl => {\n                this.dictionary = {};\n                this.changes.next({ rtl });\n            });\n        }\n    }\n    get rtl() {\n        return this._rtl;\n    }\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n    get(shortKey) {\n        const key = this.key(shortKey);\n        return this.dictionary[key];\n    }\n    register(shortKey, value, override = false) {\n        const key = this.key(shortKey);\n        let message = value;\n        if (!override) {\n            if (this.dictionary.hasOwnProperty(key)) {\n                return;\n            }\n            message = this.defaultValue(key, value);\n        }\n        this.dictionary[key] = message;\n    }\n    notifyChanges() {\n        this.changes.next({ rtl: this.rtl });\n    }\n    key(shortKey) {\n        return this.prefix + '.' + shortKey;\n    }\n    defaultValue(key, value) {\n        if (!this.messageService) {\n            return value;\n        }\n        const alt = this.messageService.get(key);\n        return (alt === undefined) ? value : alt;\n    }\n}\nLocalizationService.ɵfac = function LocalizationService_Factory(t) { return new (t || LocalizationService)(ɵngcc0.ɵɵinject(L10N_PREFIX), ɵngcc0.ɵɵinject(MessageService, 8), ɵngcc0.ɵɵinject(RTL, 8)); };\nLocalizationService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: LocalizationService, factory: LocalizationService.ɵfac });\n/** @nocollapse */\nLocalizationService.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [L10N_PREFIX,] },] },\n    { type: MessageService, decorators: [{ type: Optional },] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [RTL,] },] },\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LocalizationService, [{\n        type: Injectable\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [L10N_PREFIX]\n            }] }, { type: MessageService, decorators: [{\n                type: Optional\n            }] }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [RTL]\n            }] }]; }, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MessageService, ComponentMessages, L10N_PREFIX, LocalizationService, RTL };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzswR0FHRTtBQUNGO0FBQ0E7OztnREFBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7eUhBR0U7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7a0NBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIEluamVjdGlvblRva2VuLCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCBhcyBTdWJqZWN0JDEgfSBmcm9tICdyeGpzL1N1YmplY3QnO1xuaW1wb3J0IHsgc2tpcCBhcyBza2lwJDEgfSBmcm9tICdyeGpzL29wZXJhdG9ycy9za2lwJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCBhcyBCZWhhdmlvclN1YmplY3QkMSB9IGZyb20gJ3J4anMvQmVoYXZpb3JTdWJqZWN0JztcbmltcG9ydCB7IG1hcCBhcyBtYXAkMSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyB0YXAgYXMgdGFwJDEgfSBmcm9tICdyeGpzL29wZXJhdG9ycy90YXAnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbi8qKlxuICogQSBiYXNlIGNsYXNzIGZvciBhIHNlcnZpY2UgdGhhdCByZXR1cm5zIGxvY2FsaXplZCBtZXNzYWdlcy5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcmVmZXIgdG8gdGhlIHNlY3Rpb24gb24gW3VzaW5nIHRoZSBtZXNzYWdlIHNlcnZpY2VdKHslIHNsdWcgbWVzc2FnZXNfbDEwbiAlfSN0b2MtdXNpbmctdGhlLW1lc3NhZ2Utc2VydmljZSkuXG4gKi9cbmNsYXNzIE1lc3NhZ2VTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBoaWRkZW5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IG5ldyBTdWJqZWN0JDEoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIGNvbXBvbmVudHMgdGhhdCB0aGUgbWVzc2FnZXMgd2VyZSBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJ0bCAtIChPcHRpb25hbCkgQSBuZXcgdmFsdWUgZm9yIHRoZSBbdGV4dCBkaXJlY3Rpb24gdG9rZW5dKHslIHNsdWcgYXBpX2wxMG5fcnRsICV9KS5cbiAgICAgKi9cbiAgICBub3RpZnkocnRsKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5uZXh0KHsgcnRsIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbG9jYWxpemVkIG1lc3NhZ2UgZm9yIHRoZSBzdXBwbGllZCBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIG1lc3NhZ2Uga2V5LiBGb3IgZXhhbXBsZSwgYFwia2VuZG8uZ3JpZC5ub1JlY29yZHNcImAuXG4gICAgICogQHJldHVybiAtIFRoZSBsb2NhbGl6ZWQgbWVzc2FnZSBmb3IgdGhpcyBrZXkgb3IgYHVuZGVmaW5lZGAgaWYgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5NZXNzYWdlU2VydmljZS5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuTWVzc2FnZVNlcnZpY2UuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIHRoYXQgYWN0cyBhcyBhIGNvbXBvbmVudCBtZXNzYWdlcyBjb250YWluZXIuXG4gKlxuICogRm9yIGludGVybmFsIHVzZS5cbiAqIEBoaWRkZW5cbiAqL1xuY2xhc3MgQ29tcG9uZW50TWVzc2FnZXMge1xuICAgIGdldCBvdmVycmlkZSgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXIoY2hhbmdlcyk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhjaGFuZ2VzKS5zb21lKGZpZWxkID0+ICFjaGFuZ2VzW2ZpZWxkXS5pc0ZpcnN0Q2hhbmdlKCkpKSB7XG4gICAgICAgICAgICB0aGlzLnNlcnZpY2Uubm90aWZ5Q2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHRoaXMuc2VydmljZS5jaGFuZ2VzLnBpcGUoc2tpcCQxKDEpKS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5yZWdpc3Rlcih0aGlzKSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyKGNoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGNoYW5nZXMpO1xuICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHRoaXMuc2VydmljZS5yZWdpc3RlcihrZXksIHRoaXNba2V5XSwgdGhpcy5vdmVycmlkZSkpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEEgdG9rZW4gdGhhdCBzcGVjaWZpZXMgdGhlIHRleHQgZGlyZWN0aW9uIG9mIEtlbmRvIFVJIGZvciBBbmd1bGFyIGNvbXBvbmVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIHslIGVtYmVkX2ZpbGUgcnRsL2FwcC5tb2R1bGUudHMgcHJldmlldyAlfVxuICogeyUgZW1iZWRfZmlsZSBydGwvYXBwLmNvbXBvbmVudC50cyAlfVxuICogeyUgZW1iZWRfZmlsZSBzaGFyZWQvbWFpbi50cyBoaWRkZW4gJX1cbiAqXG4gKi9cbmNvbnN0IFJUTCA9IG5ldyBJbmplY3Rpb25Ub2tlbihcIktlbmRvIFVJIFJpZ2h0LXRvLUxlZnQgdG9rZW5cIik7XG5cbi8qKlxuICogTG9jYWxpemF0aW9uIHByZWZpeCBmb3IgdGhlIGNvbXBvbmVudCBtZXNzYWdlcy5cbiAqXG4gKiBGb3IgaW50ZXJuYWwgdXNlLlxuICogQGhpZGRlblxuICovXG5jb25zdCBMMTBOX1BSRUZJWCA9IG5ldyBJbmplY3Rpb25Ub2tlbignTG9jYWxpemF0aW9uIGtleSBwcmVmaXgnKTtcbi8qKlxuICogQ29tcG9uZW50IGxvY2FsaXphdGlvbiBzZXJ2aWNlLlxuICpcbiAqIEZvciBpbnRlcm5hbCB1c2UuXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIExvY2FsaXphdGlvblNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKHByZWZpeCwgbWVzc2FnZVNlcnZpY2UsIF9ydGwpIHtcbiAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG4gICAgICAgIHRoaXMubWVzc2FnZVNlcnZpY2UgPSBtZXNzYWdlU2VydmljZTtcbiAgICAgICAgdGhpcy5fcnRsID0gX3J0bDtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gbmV3IEJlaGF2aW9yU3ViamVjdCQxKHsgcnRsOiB0aGlzLl9ydGwgfSk7XG4gICAgICAgIHRoaXMuZGljdGlvbmFyeSA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZVNlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gbWVzc2FnZVNlcnZpY2UuY2hhbmdlc1xuICAgICAgICAgICAgICAgIC5waXBlKG1hcCQxKCh7IHJ0bCB9KSA9PiBydGwgIT09IHVuZGVmaW5lZCA/IHJ0bCA6IHRoaXMuX3J0bCksIHRhcCQxKHJ0bCA9PiB0aGlzLl9ydGwgPSBydGwpKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUocnRsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpY3Rpb25hcnkgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZXMubmV4dCh7IHJ0bCB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBydGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydGw7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KHNob3J0S2V5KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMua2V5KHNob3J0S2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGljdGlvbmFyeVtrZXldO1xuICAgIH1cbiAgICByZWdpc3RlcihzaG9ydEtleSwgdmFsdWUsIG92ZXJyaWRlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXkoc2hvcnRLZXkpO1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHZhbHVlO1xuICAgICAgICBpZiAoIW92ZXJyaWRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kaWN0aW9uYXJ5Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5kZWZhdWx0VmFsdWUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaWN0aW9uYXJ5W2tleV0gPSBtZXNzYWdlO1xuICAgIH1cbiAgICBub3RpZnlDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLmNoYW5nZXMubmV4dCh7IHJ0bDogdGhpcy5ydGwgfSk7XG4gICAgfVxuICAgIGtleShzaG9ydEtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmaXggKyAnLicgKyBzaG9ydEtleTtcbiAgICB9XG4gICAgZGVmYXVsdFZhbHVlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2VTZXJ2aWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWx0ID0gdGhpcy5tZXNzYWdlU2VydmljZS5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIChhbHQgPT09IHVuZGVmaW5lZCkgPyB2YWx1ZSA6IGFsdDtcbiAgICB9XG59XG5Mb2NhbGl6YXRpb25TZXJ2aWNlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5Mb2NhbGl6YXRpb25TZXJ2aWNlLmN0b3JQYXJhbWV0ZXJzID0gKCkgPT4gW1xuICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBJbmplY3QsIGFyZ3M6IFtMMTBOX1BSRUZJWCxdIH0sXSB9LFxuICAgIHsgdHlwZTogTWVzc2FnZVNlcnZpY2UsIGRlY29yYXRvcnM6IFt7IHR5cGU6IE9wdGlvbmFsIH0sXSB9LFxuICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBPcHRpb25hbCB9LCB7IHR5cGU6IEluamVjdCwgYXJnczogW1JUTCxdIH0sXSB9LFxuXTtcblxuLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgeyBNZXNzYWdlU2VydmljZSwgQ29tcG9uZW50TWVzc2FnZXMsIEwxME5fUFJFRklYLCBMb2NhbGl6YXRpb25TZXJ2aWNlLCBSVEwgfTtcbiJdfQ==","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChild, Directive, ElementRef, EventEmitter, HostBinding, Injectable, Input, NgModule, NgZone, Optional, Output, Renderer2, TemplateRef } from '@angular/core';\nimport { L10N_PREFIX, LocalizationService } from '@progress/kendo-angular-l10n';\nimport { Subject as Subject$1 } from 'rxjs/Subject';\nimport { Subscription as Subscription$1 } from 'rxjs/Subscription';\nimport { BehaviorSubject as BehaviorSubject$1 } from 'rxjs/BehaviorSubject';\nimport { of as of$1 } from 'rxjs/observable/of';\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { empty as empty$1 } from 'rxjs/observable/empty';\nimport { catchError as catchError$1 } from 'rxjs/operators/catchError';\nimport { tap as tap$1 } from 'rxjs/operators/tap';\nimport { CommonModule } from '@angular/common';\nimport { filter as filter$1 } from 'rxjs/operators/filter';\nimport { take as take$1 } from 'rxjs/operators/take';\nimport { switchMap as switchMap$1 } from 'rxjs/operators/switchMap';\nimport { map as map$1 } from 'rxjs/operators/map';\nimport { merge as merge$1 } from 'rxjs/observable/merge';\nimport { delay as delay$1 } from 'rxjs/operators/delay';\nimport { takeUntil as takeUntil$1 } from 'rxjs/operators/takeUntil';\n\n/**\n * Represents the template for the TreeView nodes ([more information and example]({% slug nodetemplate_treeview %})).\n * The template helps to customize the content of the nodes. To define the node template, nest an `<ng-template>`\n * tag with the `kendoTreeViewNodeTemplate` directive inside a `<kendo-treeview>` tag. The template context is set\n * to the data item of the current node.\n *\n * @example\n * ```ts\n *\n *  import { Component } from '@angular/core';\n *  @Component({\n *      selector: 'my-app',\n *      template: `\n *      <kendo-treeview\n *          [nodes]=\"data\"\n *          kendoTreeViewExpandable\n *\n *          kendoTreeViewHierarchyBinding\n *          childrenField=\"items\">\n *        <ng-template kendoTreeViewNodeTemplate let-dataItem>\n *          <span [style.fontWeight]=\"dataItem.items ? 'bolder': 'normal' \">{{dataItem.text}}</span>\n *        </ng-template>\n *      </kendo-treeview>\n *    `\n *  })\n *  export class AppComponent {\n *      public data: any[] = [\n *          {\n *              text: \"Inbox\",\n *              items: [{ text: \"Read Mail\" }]\n *          },\n *          {\n *              text: \"Drafts\"\n *          },\n *          {\n *              text: \"Search Folders\",\n *              items: [\n *                  { text: \"Categorized Mail\" },\n *                  { text: \"Large Mail\" },\n *                  { text: \"Unread Mail\"}\n *              ]\n *          },\n *          { text: \"Settings\" }\n *      ];\n *  }\n *\n * ```\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@progress/kendo-angular-l10n';\nimport * as ɵngcc2 from '@angular/common';\n\nconst _c0 = [\"kendoTreeViewGroup\", \"\"];\nfunction TreeViewGroupComponent_li_0_span_2_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"span\", 10);\n    ɵngcc0.ɵɵlistener(\"click\", function TreeViewGroupComponent_li_0_span_2_Template_span_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r10); const ctx_r9 = ɵngcc0.ɵɵnextContext(); const index_r2 = ctx_r9.index; const node_r1 = ctx_r9.$implicit; const ctx_r8 = ɵngcc0.ɵɵnextContext(); return ctx_r8.expandNode(ctx_r8.nodeIndex(index_r2), node_r1, !ctx_r8.isExpanded(node_r1, ctx_r8.nodeIndex(index_r2))); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r11 = ɵngcc0.ɵɵnextContext();\n    const node_r1 = ctx_r11.$implicit;\n    const index_r2 = ctx_r11.index;\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"k-i-collapse\", ctx_r3.isExpanded(node_r1, ctx_r3.nodeIndex(index_r2)))(\"k-i-expand\", !ctx_r3.isExpanded(node_r1, ctx_r3.nodeIndex(index_r2)));\n    ɵngcc0.ɵɵproperty(\"kendoTreeViewLoading\", ctx_r3.nodeIndex(index_r2));\n} }\nfunction TreeViewGroupComponent_li_0_kendo_checkbox_3_Template(rf, ctx) { if (rf & 1) {\n    const _r14 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"kendo-checkbox\", 11);\n    ɵngcc0.ɵɵlistener(\"checkStateChange\", function TreeViewGroupComponent_li_0_kendo_checkbox_3_Template_kendo_checkbox_checkStateChange_0_listener() { ɵngcc0.ɵɵrestoreView(_r14); const index_r2 = ɵngcc0.ɵɵnextContext().index; const ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.checkNode(ctx_r12.nodeIndex(index_r2)); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r15 = ɵngcc0.ɵɵnextContext();\n    const node_r1 = ctx_r15.$implicit;\n    const index_r2 = ctx_r15.index;\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"node\", node_r1)(\"index\", ctx_r4.nodeIndex(index_r2))(\"isChecked\", ctx_r4.isChecked);\n} }\nfunction TreeViewGroupComponent_li_0_ng_container_6_ng_template_1_Template(rf, ctx) { }\nconst _c1 = function (a0, a1) { return { $implicit: a0, index: a1 }; };\nfunction TreeViewGroupComponent_li_0_ng_container_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, TreeViewGroupComponent_li_0_ng_container_6_ng_template_1_Template, 0, 0, \"ng-template\", 12);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r17 = ɵngcc0.ɵɵnextContext();\n    const node_r1 = ctx_r17.$implicit;\n    const index_r2 = ctx_r17.index;\n    const ctx_r5 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r5.nodeTemplateRef)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction2(2, _c1, node_r1, ctx_r5.nodeIndex(index_r2)));\n} }\nfunction TreeViewGroupComponent_li_0_ng_container_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const node_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r6 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r6.nodeText(node_r1), \" \");\n} }\nfunction TreeViewGroupComponent_li_0_ul_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"ul\", 13);\n} if (rf & 2) {\n    const ctx_r19 = ɵngcc0.ɵɵnextContext();\n    const node_r1 = ctx_r19.$implicit;\n    const index_r2 = ctx_r19.index;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"nodes\", ctx_r7.fetchChildren)(\"checkboxes\", ctx_r7.checkboxes)(\"expandIcons\", ctx_r7.expandIcons)(\"children\", ctx_r7.children)(\"hasChildren\", ctx_r7.hasChildren)(\"isChecked\", ctx_r7.isChecked)(\"isDisabled\", ctx_r7.isDisabled)(\"disabled\", ctx_r7.disabled || ctx_r7.isDisabled(node_r1, ctx_r7.nodeIndex(index_r2)))(\"isExpanded\", ctx_r7.isExpanded)(\"isSelected\", ctx_r7.isSelected)(\"nodeTemplateRef\", ctx_r7.nodeTemplateRef)(\"parentIndex\", ctx_r7.nodeIndex(index_r2))(\"parentDataItem\", node_r1)(\"textField\", ctx_r7.nextFields)(\"@toggle\", true);\n} }\nfunction TreeViewGroupComponent_li_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"li\", 1);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 2);\n    ɵngcc0.ɵɵtemplate(2, TreeViewGroupComponent_li_0_span_2_Template, 1, 5, \"span\", 3);\n    ɵngcc0.ɵɵtemplate(3, TreeViewGroupComponent_li_0_kendo_checkbox_3_Template, 1, 3, \"kendo-checkbox\", 4);\n    ɵngcc0.ɵɵelementStart(4, \"span\", 5);\n    ɵngcc0.ɵɵelementContainerStart(5, 6);\n    ɵngcc0.ɵɵtemplate(6, TreeViewGroupComponent_li_0_ng_container_6_Template, 2, 5, \"ng-container\", 7);\n    ɵngcc0.ɵɵtemplate(7, TreeViewGroupComponent_li_0_ng_container_7_Template, 2, 1, \"ng-container\", 8);\n    ɵngcc0.ɵɵelementContainerEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(8, TreeViewGroupComponent_li_0_ul_8_Template, 1, 15, \"ul\", 9);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const node_r1 = ctx.$implicit;\n    const index_r2 = ctx.index;\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"dataItem\", node_r1)(\"index\", ctx_r0.nodeIndex(index_r2))(\"parentDataItem\", ctx_r0.parentDataItem)(\"parentIndex\", ctx_r0.parentIndex)(\"isChecked\", ctx_r0.isChecked(node_r1, ctx_r0.nodeIndex(index_r2)))(\"isDisabled\", ctx_r0.disabled || ctx_r0.isDisabled(node_r1, ctx_r0.nodeIndex(index_r2)))(\"isExpanded\", ctx_r0.isExpanded(node_r1, ctx_r0.nodeIndex(index_r2)))(\"isSelected\", ctx_r0.isSelected(node_r1, ctx_r0.nodeIndex(index_r2)));\n    ɵngcc0.ɵɵattribute(\"data-treeindex\", ctx_r0.nodeIndex(index_r2));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.expandIcons && ctx_r0.hasChildren(node_r1));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.checkboxes);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"dataItem\", node_r1)(\"index\", ctx_r0.nodeIndex(index_r2))(\"initialSelection\", ctx_r0.isSelected(node_r1, ctx_r0.nodeIndex(index_r2)))(\"isSelected\", ctx_r0.isSelected);\n    ɵngcc0.ɵɵattribute(\"data-treeindex\", ctx_r0.nodeIndex(index_r2));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitch\", ctx_r0.hasTemplate);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", true);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.isExpanded(node_r1, ctx_r0.nodeIndex(index_r2)) && ctx_r0.hasChildren(node_r1));\n} }\nclass NodeTemplateDirective {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n    }\n}\nNodeTemplateDirective.ɵfac = function NodeTemplateDirective_Factory(t) { return new (t || NodeTemplateDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef, 8)); };\nNodeTemplateDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: NodeTemplateDirective, selectors: [[\"\", \"kendoTreeViewNodeTemplate\", \"\"]] });\n/** @nocollapse */\nNodeTemplateDirective.ctorParameters = () => [\n    { type: TemplateRef, decorators: [{ type: Optional },] },\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NodeTemplateDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[kendoTreeViewNodeTemplate]'\n            }]\n    }], function () { return [{ type: ɵngcc0.TemplateRef, decorators: [{\n                type: Optional\n            }] }]; }, null); })();\n\n/**\n * @hidden\n */\nclass ExpandStateService {\n    constructor() {\n        this.changes = new Subject$1();\n    }\n    expand(index, dataItem) {\n        this.changes.next({ dataItem, index, expand: true });\n    }\n    collapse(index, dataItem) {\n        this.changes.next({ dataItem, index, expand: false });\n    }\n}\nExpandStateService.ɵfac = function ExpandStateService_Factory(t) { return new (t || ExpandStateService)(); };\nExpandStateService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ExpandStateService, factory: ExpandStateService.ɵfac });\n/** @nocollapse */\nExpandStateService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ExpandStateService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * @hidden\n */\nclass IndexBuilderService {\n    constructor() {\n        this.INDEX_SEPARATOR = '_';\n    }\n    nodeIndex(index = '', parentIndex = '') {\n        return `${parentIndex}${parentIndex ? this.INDEX_SEPARATOR : ''}${index}`;\n    }\n    indexForLevel(index, level) {\n        return index.split(this.INDEX_SEPARATOR).slice(0, level).join(this.INDEX_SEPARATOR);\n    }\n    lastLevelIndex(index = '') {\n        const parts = index.split(this.INDEX_SEPARATOR);\n        if (!parts.length) {\n            return NaN;\n        }\n        return parseInt(parts[parts.length - 1], 10);\n    }\n    level(index) {\n        return index.split(this.INDEX_SEPARATOR).length;\n    }\n}\nIndexBuilderService.ɵfac = function IndexBuilderService_Factory(t) { return new (t || IndexBuilderService)(); };\nIndexBuilderService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: IndexBuilderService, factory: IndexBuilderService.ɵfac });\n/** @nocollapse */\nIndexBuilderService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(IndexBuilderService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * @hidden\n */\nclass LoadingNotificationService {\n    constructor() {\n        this.changes = new Subject$1();\n    }\n    notifyLoaded(index) {\n        this.changes.next(index);\n    }\n}\nLoadingNotificationService.ɵfac = function LoadingNotificationService_Factory(t) { return new (t || LoadingNotificationService)(); };\nLoadingNotificationService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: LoadingNotificationService, factory: LoadingNotificationService.ɵfac });\n/** @nocollapse */\nLoadingNotificationService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LoadingNotificationService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * @hidden\n */\nclass NodeChildrenService {\n    constructor() {\n        this.changes = new Subject$1();\n    }\n    childrenLoaded(item, children) {\n        this.changes.next({ item, children });\n    }\n}\nNodeChildrenService.ɵfac = function NodeChildrenService_Factory(t) { return new (t || NodeChildrenService)(); };\nNodeChildrenService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: NodeChildrenService, factory: NodeChildrenService.ɵfac });\n/** @nocollapse */\nNodeChildrenService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NodeChildrenService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\nconst focusableRegex = /^(?:a|input|select|option|textarea|button|object)$/i;\n/**\n * @hidden\n */\nconst match = (element, selector) => {\n    const matcher = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (!matcher) {\n        return false;\n    }\n    return matcher.call(element, selector);\n};\nconst closestWithMatch = (element, selector) => {\n    if (!document.documentElement.contains(element)) {\n        return null;\n    }\n    let parent = element;\n    while (parent !== null && parent.nodeType === 1) {\n        if (match(parent, selector)) {\n            return parent;\n        }\n        parent = parent.parentElement || parent.parentNode;\n    }\n    return null;\n};\n/**\n * @hidden\n */\nconst noop = () => { };\n/**\n * @hidden\n */\nconst isPresent = (value) => value !== null && value !== undefined;\n/**\n * @hidden\n */\nconst isBlank = (value) => value === null || value === undefined;\n/**\n * @hidden\n */\nconst isArray = (value) => Array.isArray(value);\n/**\n * @hidden\n */\nconst isNullOrEmptyString = (value) => isBlank(value) || value.trim().length === 0;\n/**\n * @hidden\n */\nconst isDocumentAvailable = () => typeof document !== 'undefined';\n/**\n * @hidden\n */\nconst hasObservers = (emitter) => emitter.observers.length > 0;\n/**\n * @hidden\n */\nconst isChanged = (propertyName, changes, skipFirstChange = true) => (changes[propertyName] && (!changes[propertyName].isFirstChange() || !skipFirstChange) &&\n    changes[propertyName].previousValue !== changes[propertyName].currentValue);\n/**\n * @hidden\n */\n\n/**\n * @hidden\n */\nconst closestNode = (element) => {\n    const selector = 'li.k-treeview-item';\n    if (!isDocumentAvailable()) {\n        return null;\n    }\n    if (element.closest) {\n        return element.closest(selector);\n    }\n    else {\n        return closestWithMatch(element, selector);\n    }\n};\n/**\n * @hidden\n */\nconst isFocusable = (element) => {\n    if (element.tagName) {\n        const tagName = element.tagName.toLowerCase();\n        const tabIndex = element.getAttribute('tabIndex');\n        const skipTab = tabIndex === '-1';\n        let focusable = tabIndex !== null && !skipTab;\n        if (focusableRegex.test(tagName)) {\n            focusable = !element.disabled && !skipTab;\n        }\n        return focusable;\n    }\n    return false;\n};\n/**\n * @hidden\n */\nconst isContent = (element) => {\n    const scopeSelector = '.k-in,.k-treeview-item,.k-treeview';\n    if (!isDocumentAvailable()) {\n        return null;\n    }\n    let node = element;\n    while (node && !match(node, scopeSelector)) {\n        node = node.parentNode;\n    }\n    if (node) {\n        return match(node, '.k-in');\n    }\n};\n/**\n * @hidden\n */\nconst closest = (node, predicate) => {\n    while (node && !predicate(node)) {\n        node = node.parentNode;\n    }\n    return node;\n};\n/**\n * @hidden\n */\nconst hasParent = (element, container) => {\n    return Boolean(closest(element, (node) => node === container));\n};\n/**\n * @hidden\n */\nconst focusableNode = (element) => element.nativeElement.querySelector('li[tabindex=\"0\"]');\n/**\n * @hidden\n */\n\n/**\n * @hidden\n */\nconst nodeId = (node) => node ? node.getAttribute('data-treeindex') : '';\n/**\n * @hidden\n */\nconst nodeIndex = (item) => (item || {}).index;\n/**\n * @hidden\n */\nconst guid = () => {\n    let id = \"\", random;\n    for (let i = 0; i < 32; i++) {\n        random = Math.random() * 16 | 0; // tslint:disable-line:no-bitwise\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\n            id += \"-\";\n        }\n        id += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16); // tslint:disable-line:no-bitwise\n    }\n    return id;\n};\n\nconst last = (list) => list[list.length - 1];\nconst safe = node => (node || {});\nconst safeChildren = node => (safe(node).children || []);\nconst findLast = node => {\n    let lastNode = node;\n    let children = [].concat(safeChildren(node));\n    while (children.length) {\n        children = children.concat(safeChildren(last(children)));\n        lastNode = children.shift();\n    }\n    return lastNode;\n};\n/**\n * @hidden\n */\nclass NavigationModel {\n    constructor() {\n        this.ib = new IndexBuilderService();\n        this.nodes = [];\n    }\n    firstNode() {\n        return this.nodes[0] || null;\n    }\n    lastNode() {\n        const node = this.nodes[this.nodes.length - 1];\n        if (!node) {\n            return null;\n        }\n        return findLast(last(this.container(node))) || node;\n    }\n    closestNode(index) {\n        const { prev } = safe(this.findNode(index));\n        const sibling = prev || this.firstNode();\n        return safe(sibling).index === index ? this.sibling(sibling, 1) : sibling;\n    }\n    findNode(index) {\n        return this.find(index, this.nodes);\n    }\n    findParent(index) {\n        const parentLevel = this.ib.level(index) - 1;\n        return this.findNode(this.ib.indexForLevel(index, parentLevel));\n    }\n    findChild(index) {\n        return safeChildren(this.findNode(index))[0] || null;\n    }\n    findPrev(item) {\n        const index = item.index;\n        const parent = this.findParent(index);\n        const levelIndex = this.ib.lastLevelIndex(index);\n        if (levelIndex === 0) {\n            return parent;\n        }\n        const currentNode = this.findNode(index);\n        let prev = this.sibling(currentNode, -1);\n        if (prev) {\n            let children = this.container(prev);\n            while (children.length > 0) {\n                prev = last(children);\n                children = this.container(prev);\n            }\n        }\n        return prev;\n    }\n    findNext(item) {\n        const children = this.container(item);\n        if (children.length === 0) {\n            return this.sibling(item, 1);\n        }\n        return children[0];\n    }\n    registerItem(id, index, disabled) {\n        const children = [];\n        const level = this.ib.level(index);\n        const parent = this.findParent(index);\n        if (parent || level === 1) {\n            const node = { id, children, index, parent, disabled };\n            this.insert(node, parent);\n        }\n    }\n    unregisterItem(id, index) {\n        const node = this.find(index, this.nodes);\n        if (!node || node.id !== id) {\n            return;\n        }\n        const children = this.container(node.parent);\n        children.splice(children.indexOf(node), 1);\n    }\n    childLevel(nodes) {\n        const children = nodes.filter(node => isPresent(node));\n        if (!children || !children.length) {\n            return 1;\n        }\n        return this.ib.level(children[0].index);\n    }\n    container(node) {\n        return node ? node.children : this.nodes;\n    }\n    find(index, nodes) {\n        const childLevel = this.childLevel(nodes);\n        const indexToMatch = this.ib.indexForLevel(index, childLevel);\n        const isLeaf = childLevel === this.ib.level(index);\n        const node = nodes.find(n => n && n.index === indexToMatch);\n        if (!node) {\n            return null;\n        }\n        return isLeaf ? node : this.find(index, node.children);\n    }\n    insert(node, parent) {\n        const nodes = this.container(parent);\n        nodes[this.ib.lastLevelIndex(node.index)] = node;\n    }\n    sibling(node, offset) {\n        if (!node) {\n            return null;\n        }\n        const parent = this.findParent(node.index);\n        const container = this.container(parent);\n        return container[container.indexOf(node) + offset] || this.sibling(parent, offset) || null;\n    }\n}\n\n/**\n * @hidden\n */\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"enter\"] = 13] = \"enter\";\n    Keys[Keys[\"shift\"] = 16] = \"shift\";\n    Keys[Keys[\"space\"] = 32] = \"space\";\n    Keys[Keys[\"end\"] = 35] = \"end\";\n    Keys[Keys[\"home\"] = 36] = \"home\";\n    Keys[Keys[\"left\"] = 37] = \"left\";\n    Keys[Keys[\"up\"] = 38] = \"up\";\n    Keys[Keys[\"right\"] = 39] = \"right\";\n    Keys[Keys[\"down\"] = 40] = \"down\";\n})(Keys || (Keys = {}));\n\n/**\n * @hidden\n */\nclass NavigationService {\n    constructor(localization) {\n        this.localization = localization;\n        this.expands = new Subject$1();\n        this.moves = new Subject$1();\n        this.checks = new Subject$1();\n        this.selects = new Subject$1();\n        this.navigable = true;\n        this.actions = {\n            [Keys.up]: () => this.activate(this.model.findPrev(this.focusableItem)),\n            [Keys.down]: () => this.activate(this.model.findNext(this.focusableItem)),\n            [Keys.left]: () => (this.expand({\n                expand: this.localization.rtl,\n                intercept: this.localization.rtl ? this.moveToChild : this.moveToParent\n            })),\n            [Keys.right]: () => (this.expand({\n                expand: !this.localization.rtl,\n                intercept: this.localization.rtl ? this.moveToParent : this.moveToChild\n            })),\n            [Keys.home]: () => this.activate(this.model.firstNode()),\n            [Keys.end]: () => this.activate(this.model.lastNode()),\n            [Keys.enter]: () => this.navigable && this.selectIndex(nodeIndex(this.activeItem)),\n            [Keys.space]: () => this.navigable && this.checkIndex(nodeIndex(this.activeItem))\n        };\n        this.isFocused = false;\n        this._model = new NavigationModel();\n        this.moveToChild = this.moveToChild.bind(this);\n        this.moveToParent = this.moveToParent.bind(this);\n    }\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this._model = model;\n    }\n    get activeIndex() {\n        return nodeIndex(this.activeItem) || null;\n    }\n    get focusableItem() {\n        return this.activeItem || this.model.firstNode();\n    }\n    get isActiveExpanded() {\n        return this.activeItem && this.activeItem.children.length > 0;\n    }\n    activate(item) {\n        if (!this.navigable || !item || this.isActive(nodeIndex(item))) {\n            return;\n        }\n        this.isFocused = true;\n        this.activeItem = item || this.activeItem;\n        this.notifyMove();\n    }\n    activateParent(index) {\n        this.activate(this.model.findParent(index));\n    }\n    activateIndex(index) {\n        if (!index) {\n            return;\n        }\n        this.activate(this.model.findNode(index));\n    }\n    activateClosest(index) {\n        if (!index || nodeIndex(this.focusableItem) !== index) {\n            return;\n        }\n        this.activeItem = this.model.closestNode(index);\n        this.notifyMove();\n    }\n    activateFocusable() {\n        if (this.activeItem) {\n            return;\n        }\n        this.activeItem = this.model.firstNode();\n        this.notifyMove();\n    }\n    deactivate() {\n        if (!this.navigable || !this.isFocused) {\n            return;\n        }\n        this.isFocused = false;\n        this.notifyMove();\n    }\n    checkIndex(index) {\n        if (!this.isDisabled(index)) {\n            this.checks.next(index);\n        }\n    }\n    selectIndex(index) {\n        if (!this.isDisabled(index)) {\n            this.selects.next(index);\n        }\n    }\n    isActive(index) {\n        if (!index) {\n            return false;\n        }\n        return this.isFocused && this.activeIndex === index;\n    }\n    isFocusable(index) {\n        return nodeIndex(this.focusableItem) === index;\n    }\n    isDisabled(index) {\n        return this.model.findNode(index).disabled;\n    }\n    registerItem(id, index, disabled) {\n        this.model.registerItem(id, index, disabled);\n    }\n    unregisterItem(id, index) {\n        if (this.isActive(index)) {\n            this.activateParent(index);\n        }\n        this.model.unregisterItem(id, index);\n    }\n    move(e) {\n        if (!this.navigable) {\n            return;\n        }\n        const moveAction = this.actions[e.keyCode];\n        if (!moveAction) {\n            return;\n        }\n        moveAction();\n        e.preventDefault();\n    }\n    expand({ expand, intercept }) {\n        const index = nodeIndex(this.activeItem);\n        if (!index || intercept(index)) {\n            return;\n        }\n        this.notifyExpand(expand);\n    }\n    moveToParent() {\n        if (this.isActiveExpanded) {\n            return false;\n        }\n        this.activate(this.model.findParent(nodeIndex(this.activeItem)));\n        return true;\n    }\n    moveToChild() {\n        if (!this.isActiveExpanded) {\n            return false;\n        }\n        this.activate(this.model.findChild(nodeIndex(this.activeItem)));\n        return true;\n    }\n    notifyExpand(expand) {\n        this.expands.next(this.navigationState(expand));\n    }\n    notifyMove() {\n        this.moves.next(this.navigationState());\n    }\n    navigationState(expand = false) {\n        return ({ expand, index: nodeIndex(this.activeItem), isFocused: this.isFocused });\n    }\n}\nNavigationService.ɵfac = function NavigationService_Factory(t) { return new (t || NavigationService)(ɵngcc0.ɵɵinject(ɵngcc1.LocalizationService)); };\nNavigationService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: NavigationService, factory: NavigationService.ɵfac });\n/** @nocollapse */\nNavigationService.ctorParameters = () => [\n    { type: LocalizationService, },\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NavigationService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc1.LocalizationService }]; }, null); })();\n\n/**\n * @hidden\n */\nclass SelectionService {\n    constructor() {\n        this.changes = new Subject$1();\n    }\n    isFirstSelected(index) {\n        return this.firstIndex === index;\n    }\n    setFirstSelected(index, selected) {\n        if (this.firstIndex === index && selected === false) {\n            this.firstIndex = null;\n        }\n        else if (!this.firstIndex && selected) {\n            this.firstIndex = index;\n        }\n    }\n    select(index, dataItem) {\n        this.changes.next({ dataItem, index });\n    }\n}\nSelectionService.ɵfac = function SelectionService_Factory(t) { return new (t || SelectionService)(); };\nSelectionService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: SelectionService, factory: SelectionService.ɵfac });\n/** @nocollapse */\nSelectionService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SelectionService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\nconst INDEX_REGEX = /\\d+$/;\n/**\n * @hidden\n */\nclass TreeViewLookupService {\n    constructor() {\n        this.map = new Map();\n    }\n    registerItem(item, parent) {\n        const currentLookup = {\n            children: [],\n            item,\n            parent: this.item(nodeIndex(parent))\n        };\n        this.map.set(item.index, currentLookup);\n    }\n    registerChildren(index, children) {\n        const item = this.item(index);\n        if (!item) {\n            return;\n        }\n        item.children = children;\n    }\n    unregisterItem(index, dataItem) {\n        const current = this.item(index);\n        if (current && current.item.dataItem === dataItem) {\n            this.map.delete(index);\n            if (current.parent && current.parent.children) {\n                current.parent.children = current.parent.children.filter(item => item.dataItem !== dataItem);\n            }\n        }\n    }\n    replaceItem(index, item, parent) {\n        if (!item) {\n            return;\n        }\n        this.unregisterItem(index, item.dataItem);\n        this.registerItem(item, parent);\n        this.addToParent(item, parent);\n    }\n    itemLookup(index) {\n        const item = this.item(index);\n        if (!item) {\n            return null;\n        }\n        return {\n            children: this.mapChildren(item.children),\n            item: item.item,\n            parent: item.parent\n        };\n    }\n    hasItem(index) {\n        return this.map.has(index);\n    }\n    item(index) {\n        return this.map.get(index) || null;\n    }\n    addToParent(item, parent) {\n        if (parent) {\n            const parentItem = this.item(parent.index);\n            const index = parseInt(INDEX_REGEX.exec(item.index)[0], 10);\n            parentItem.children = parentItem.children || [];\n            parentItem.children.splice(index, 0, item);\n        }\n    }\n    mapChildren(children = []) {\n        return children.map(c => {\n            const { item, parent, children } = this.item(c.index);\n            return {\n                children: this.mapChildren(children),\n                item,\n                parent\n            };\n        });\n    }\n}\nTreeViewLookupService.ɵfac = function TreeViewLookupService_Factory(t) { return new (t || TreeViewLookupService)(); };\nTreeViewLookupService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: TreeViewLookupService, factory: TreeViewLookupService.ɵfac });\n/** @nocollapse */\nTreeViewLookupService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TreeViewLookupService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * @hidden\n */\nconst hasChildren = () => false;\n/**\n * @hidden\n */\nconst isChecked = () => 'none';\n/**\n * @hidden\n */\nconst isDisabled = () => false;\n/**\n * @hidden\n */\nconst isExpanded = () => true;\n/**\n * @hidden\n */\nconst isSelected = () => false;\n\n/**\n * @hidden\n */\nclass DataChangeNotificationService {\n    constructor() {\n        this.changes = new EventEmitter();\n    }\n    notify() {\n        this.changes.emit();\n    }\n}\nDataChangeNotificationService.ɵfac = function DataChangeNotificationService_Factory(t) { return new (t || DataChangeNotificationService)(); };\nDataChangeNotificationService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: DataChangeNotificationService, factory: DataChangeNotificationService.ɵfac });\n\n\n/* tslint:disable:member-ordering */\nconst providers = [\n    ExpandStateService,\n    IndexBuilderService,\n    TreeViewLookupService,\n    LoadingNotificationService,\n    NodeChildrenService,\n    NavigationService,\n    SelectionService,\n    DataChangeNotificationService,\n    LocalizationService,\n    {\n        provide: L10N_PREFIX,\n        useValue: 'kendo.treeview'\n    }\n];\n/**\n * Represents the [Kendo UI TreeView component for Angular]({% slug overview_treeview %}).\n *\n * @example\n * {% meta height:350 %}\n * ```ts-preview\n * import { Component } from '@angular/core';\n *\n *  _@Component({\n *      selector: 'my-app',\n *      template: `\n *      <kendo-treeview\n *          [nodes]=\"data\"\n *          textField=\"text\"\n *          kendoTreeViewCheckable\n *          kendoTreeViewExpandable\n *          kendoTreeViewSelectable\n *\n *          kendoTreeViewHierarchyBinding\n *          childrenField=\"items\">\n *      </kendo-treeview>\n *  `\n *  })\n *  export class AppComponent {\n *      public data: any[] = [\n *          {\n *              text: \"Furniture\", items: [\n *                  { text: \"Tables & Chairs\" },\n *                  { text: \"Sofas\" },\n *                  { text: \"Occasional Furniture\" }\n *              ]\n *          },\n *          {\n *              text: \"Decor\", items: [\n *                  { text: \"Bed Linen\" },\n *                  { text: \"Curtains & Blinds\" },\n *                  { text: \"Carpets\" }\n *              ]\n *          }\n *      ];\n *  }\n * ```\n * {% endmeta %}\n */\nclass TreeViewComponent {\n    constructor(expandService, navigationService, nodeChildrenService, selectionService, treeViewLookupService, ngZone, renderer, element, dataChangeNotification, localization) {\n        this.expandService = expandService;\n        this.navigationService = navigationService;\n        this.nodeChildrenService = nodeChildrenService;\n        this.selectionService = selectionService;\n        this.treeViewLookupService = treeViewLookupService;\n        this.ngZone = ngZone;\n        this.renderer = renderer;\n        this.element = element;\n        this.dataChangeNotification = dataChangeNotification;\n        this.localization = localization;\n        this.classNames = true;\n        /** @hidden */\n        this.fetchNodes = () => this.data;\n        /**\n         * Fires when the children of the expanded node are loaded.\n         */\n        this.childrenLoaded = new EventEmitter();\n        /**\n         * Fires when the user blurs the component.\n         */\n        this.onBlur = new EventEmitter(); //tslint:disable-line:no-output-rename\n        /**\n         * Fires when the user focuses the component.\n         */\n        this.onFocus = new EventEmitter(); //tslint:disable-line:no-output-rename\n        /**\n         * Fires when the user expands a TreeView node.\n         */\n        this.expand = new EventEmitter();\n        /**\n         * Fires when the user collapses a TreeView node.\n         */\n        this.collapse = new EventEmitter();\n        /**\n         * Fires when the user selects a TreeView node checkbox\n         * ([see example]({% slug checkboxes_treeview %}#toc-modifying-the-checked-state)).\n         */\n        this.checkedChange = new EventEmitter();\n        /**\n         * Fires when the user selects a TreeView node\n         * ([see example]({% slug selection_treeview %}#toc-modifying-the-selection)).\n         */\n        this.selectionChange = new EventEmitter();\n        /**\n         * Fires when the user clicks a TreeView node.\n         */\n        this.nodeClick = new EventEmitter();\n        /**\n         * Fires when the user double clicks a TreeView node.\n         */\n        this.nodeDblClick = new EventEmitter();\n        /**\n         * A function which determines if a specific node is disabled.\n         */\n        this.isDisabled = isDisabled;\n        /**\n         * Determines whether the TreeView keyboard navigable is enabled.\n         */\n        this.navigable = true;\n        /**\n         * A function which provides the child nodes for a given parent node\n         * ([see example]({% slug databinding_treeview %})).\n         */\n        this.children = () => of$1([]);\n        this.checkboxes = false;\n        this.expandIcons = false;\n        this.isActive = false;\n        this.data = new BehaviorSubject$1([]);\n        this._animate = true;\n        this.subscriptions = new Subscription$1(() => { });\n        this.domSubscriptions = [];\n    }\n    get role() { return 'tree'; }\n    /** @hidden */\n    get direction() {\n        return this.localization.rtl ? 'rtl' : 'ltr';\n    }\n    /**\n     * Determines whether the content animation is enabled.\n     */\n    set animate(value) {\n        this._animate = value;\n    }\n    get animate() {\n        return !this._animate;\n    }\n    /**\n     * The nodes which will be displayed by the TreeView\n     * ([see example]({% slug databinding_treeview %})).\n     */\n    set nodes(value) {\n        this.dataChangeNotification.notify();\n        this.data.next(value);\n    }\n    /**\n     * A function which determines if a specific node has child nodes\n     * ([see example]({% slug databinding_treeview %})).\n     */\n    get hasChildren() {\n        return this._hasChildren || hasChildren;\n    }\n    set hasChildren(callback) {\n        this._hasChildren = callback;\n        this.expandIcons = Boolean(this._isExpanded && this._hasChildren);\n    }\n    /**\n     * A function which determines if a specific node is selected\n     * ([see example]({% slug checkboxes_treeview %}#toc-modifying-the-checked-state)).\n     */\n    get isChecked() {\n        return this._isChecked || isChecked;\n    }\n    set isChecked(callback) {\n        this._isChecked = callback;\n        this.checkboxes = Boolean(this._isChecked);\n    }\n    /**\n     * A function which determines if a specific node is expanded.\n     */\n    get isExpanded() {\n        return this._isExpanded || isExpanded;\n    }\n    set isExpanded(callback) {\n        this._isExpanded = callback;\n        this.expandIcons = Boolean(this._isExpanded && this._hasChildren);\n    }\n    /**\n     * A function which determines if a specific node is selected\n     * ([see example]({% slug selection_treeview %}#toc-modifying-the-selection)).\n     */\n    get isSelected() {\n        return this._isSelected || isSelected;\n    }\n    set isSelected(callback) {\n        this._isSelected = callback;\n    }\n    ngOnChanges(_) {\n        this.navigationService.navigable = Boolean(this.navigable);\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.domSubscriptions.forEach(subscription => subscription());\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.nodeChildrenService\n            .changes\n            .subscribe((x) => this.childrenLoaded.emit(x)));\n        this.subscriptions.add(this.expandService.changes\n            .subscribe(({ index, dataItem, expand }) => expand\n            ? this.expand.emit({ index, dataItem })\n            : this.collapse.emit({ index, dataItem })));\n        this.subscriptions.add(this.navigationService.checks\n            .subscribe((x) => this.checkedChange.emit(this.treeViewLookupService.itemLookup(x))));\n        this.subscriptions.add(this.selectionService.changes\n            .subscribe((x) => {\n            if (hasObservers(this.selectionChange)) {\n                this.ngZone.run(() => {\n                    this.selectionChange.emit(x);\n                });\n            }\n        }));\n        if (this.element) {\n            this.ngZone.runOutsideAngular(() => {\n                this.attachDomHandlers();\n            });\n        }\n    }\n    /**\n     * Blurs the focused TreeView item.\n     */\n    blur() {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        const target = focusableNode(this.element);\n        if (document.activeElement === target) {\n            target.blur();\n        }\n    }\n    /**\n     * Focuses the first focusable item in the TreeView component if no hierarchical index is provided.\n     *\n     * @example\n     * ```ts\n     * import { Component } from '@angular/core';\n     *\n     *  @Component({\n     *      selector: 'my-app',\n     *      template: `\n     *      <button (click)=\"treeview.focus('1')\">Focuses the second node</button>\n     *      <kendo-treeview\n     *          #treeview\n     *          [nodes]=\"data\"\n     *          textField=\"text\"\n     *      >\n     *      </kendo-treeview>\n     *  `\n     *  })\n     *  export class AppComponent {\n     *      public data: any[] = [\n     *          { text: \"Furniture\" },\n     *          { text: \"Decor\" }\n     *      ];\n     *  }\n     * ```\n     */\n    focus(index) {\n        this.navigationService.activateIndex(index);\n        const target = focusableNode(this.element);\n        if (target) {\n            target.focus();\n        }\n    }\n    /**\n     * Based on the specified index, returns the TreeItemLookup node.\n     *\n     * @param index - The index of the node.\n     * @returns {TreeItemLookup} - The item that was searched (looked up).\n     */\n    itemLookup(index) {\n        return this.treeViewLookupService.itemLookup(index);\n    }\n    /**\n     * @hidden\n     */\n    isDisabledNode(node) {\n        return this.navigationService.isDisabled(node.item.index);\n    }\n    attachDomHandlers() {\n        const element = this.element.nativeElement;\n        this.clickHandler = this.clickHandler.bind(this);\n        this.domSubscriptions.push(this.renderer.listen(element, 'contextmenu', this.clickHandler), this.renderer.listen(element, 'click', this.clickHandler), this.renderer.listen(element, 'dblclick', this.clickHandler), this.renderer.listen(element, 'focusin', this.focusHandler.bind(this)), this.renderer.listen(element, 'focusout', this.blurHandler.bind(this)), this.renderer.listen(element, 'keydown', this.keydownHandler.bind(this)));\n    }\n    focusHandler(e) {\n        let focusItem;\n        if (match(e.target, '.k-treeview-item')) {\n            focusItem = e.target;\n        }\n        else if (!isFocusable(e.target)) {\n            focusItem = closestNode(e.target);\n        }\n        if (focusItem) {\n            this.navigationService.activateIndex(nodeId(e.target));\n            if (!this.isActive && hasObservers(this.onFocus)) {\n                this.ngZone.run(() => {\n                    this.onFocus.emit();\n                });\n            }\n            this.isActive = true;\n        }\n    }\n    blurHandler(e) {\n        if (this.isActive && match(e.target, '.k-treeview-item') &&\n            (!e.relatedTarget || !match(e.relatedTarget, '.k-treeview-item') || !hasParent(e.relatedTarget, this.element.nativeElement))) {\n            this.navigationService.deactivate();\n            this.isActive = false;\n            if (hasObservers(this.onBlur)) {\n                this.ngZone.run(() => {\n                    this.onBlur.emit();\n                });\n            }\n        }\n    }\n    clickHandler(e) {\n        const target = e.target;\n        if ((e.type === 'contextmenu' && !hasObservers(this.nodeClick)) ||\n            (e.type === 'click' && !hasObservers(this.nodeClick) && !hasObservers(this.selectionChange)) ||\n            (e.type === 'dblclick' && !hasObservers(this.nodeDblClick)) || isFocusable(target) ||\n            !isContent(target) || !hasParent(target, this.element.nativeElement)) {\n            return;\n        }\n        const index = nodeId(closestNode(target));\n        // the disabled check is probably not needed due to the k-state-disabled styles\n        if (!index || this.navigationService.isDisabled(index)) {\n            return;\n        }\n        this.ngZone.run(() => {\n            const lookup = this.treeViewLookupService.itemLookup(index);\n            if (e.type === 'click') {\n                this.navigationService.selectIndex(index);\n            }\n            const emitter = e.type === 'dblclick' ? this.nodeDblClick : this.nodeClick;\n            emitter.emit({\n                item: lookup.item,\n                originalEvent: e,\n                type: e.type\n            });\n        });\n    }\n    keydownHandler(e) {\n        if (this.isActive && this.navigable) {\n            this.ngZone.run(() => {\n                this.navigationService.move(e);\n            });\n        }\n    }\n}\nTreeViewComponent.ɵfac = function TreeViewComponent_Factory(t) { return new (t || TreeViewComponent)(ɵngcc0.ɵɵdirectiveInject(ExpandStateService), ɵngcc0.ɵɵdirectiveInject(NavigationService), ɵngcc0.ɵɵdirectiveInject(NodeChildrenService), ɵngcc0.ɵɵdirectiveInject(SelectionService), ɵngcc0.ɵɵdirectiveInject(TreeViewLookupService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(DataChangeNotificationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LocalizationService)); };\nTreeViewComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: TreeViewComponent, selectors: [[\"kendo-treeview\"]], contentQueries: function TreeViewComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, NodeTemplateDirective, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nodeTemplate = _t.first);\n    } }, hostVars: 7, hostBindings: function TreeViewComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"role\", ctx.role)(\"dir\", ctx.direction);\n        ɵngcc0.ɵɵupdateSyntheticHostBinding(\"@.disabled\", ctx.animate);\n        ɵngcc0.ɵɵclassProp(\"k-widget\", ctx.classNames)(\"k-treeview\", ctx.classNames);\n    } }, inputs: { isDisabled: \"isDisabled\", navigable: \"navigable\", children: \"children\", animate: \"animate\", nodes: \"nodes\", hasChildren: \"hasChildren\", isChecked: \"isChecked\", isExpanded: \"isExpanded\", isSelected: \"isSelected\", textField: \"textField\" }, outputs: { childrenLoaded: \"childrenLoaded\", onBlur: \"blur\", onFocus: \"focus\", expand: \"expand\", collapse: \"collapse\", checkedChange: \"checkedChange\", selectionChange: \"selectionChange\", nodeClick: \"nodeClick\", nodeDblClick: \"nodeDblClick\" }, exportAs: [\"kendoTreeView\"], features: [ɵngcc0.ɵɵProvidersFeature(providers), ɵngcc0.ɵɵNgOnChangesFeature], decls: 1, vars: 11, consts: [[\"kendoTreeViewGroup\", \"\", \"role\", \"group\", 1, \"k-treeview-lines\", 3, \"checkboxes\", \"expandIcons\", \"children\", \"hasChildren\", \"isChecked\", \"isDisabled\", \"isExpanded\", \"isSelected\", \"nodeTemplateRef\", \"textField\", \"nodes\"]], template: function TreeViewComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"ul\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"checkboxes\", ctx.checkboxes)(\"expandIcons\", ctx.expandIcons)(\"children\", ctx.children)(\"hasChildren\", ctx.hasChildren)(\"isChecked\", ctx.isChecked)(\"isDisabled\", ctx.isDisabled)(\"isExpanded\", ctx.isExpanded)(\"isSelected\", ctx.isSelected)(\"nodeTemplateRef\", ctx.nodeTemplate == null ? null : ctx.nodeTemplate.templateRef)(\"textField\", ctx.textField)(\"nodes\", ctx.fetchNodes);\n    } }, directives: function () { return [TreeViewGroupComponent]; }, encapsulation: 2 });\n/** @nocollapse */\nTreeViewComponent.ctorParameters = () => [\n    { type: ExpandStateService, },\n    { type: NavigationService, },\n    { type: NodeChildrenService, },\n    { type: SelectionService, },\n    { type: TreeViewLookupService, },\n    { type: NgZone, },\n    { type: Renderer2, },\n    { type: ElementRef, },\n    { type: DataChangeNotificationService, },\n    { type: LocalizationService, },\n];\nTreeViewComponent.propDecorators = {\n    'classNames': [{ type: HostBinding, args: [\"class.k-widget\",] }, { type: HostBinding, args: [\"class.k-treeview\",] },],\n    'role': [{ type: HostBinding, args: [\"attr.role\",] },],\n    'direction': [{ type: HostBinding, args: [\"attr.dir\",] },],\n    'animate': [{ type: Input }, { type: HostBinding, args: ['@.disabled',] },],\n    'childrenLoaded': [{ type: Output },],\n    'onBlur': [{ type: Output, args: ['blur',] },],\n    'onFocus': [{ type: Output, args: ['focus',] },],\n    'expand': [{ type: Output },],\n    'collapse': [{ type: Output },],\n    'checkedChange': [{ type: Output },],\n    'selectionChange': [{ type: Output },],\n    'nodeClick': [{ type: Output },],\n    'nodeDblClick': [{ type: Output },],\n    'nodeTemplate': [{ type: ContentChild, args: [NodeTemplateDirective,] },],\n    'nodes': [{ type: Input },],\n    'textField': [{ type: Input },],\n    'hasChildren': [{ type: Input },],\n    'isChecked': [{ type: Input },],\n    'isDisabled': [{ type: Input },],\n    'isExpanded': [{ type: Input },],\n    'isSelected': [{ type: Input },],\n    'navigable': [{ type: Input },],\n    'children': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TreeViewComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.Default,\n                exportAs: 'kendoTreeView',\n                providers: providers,\n                selector: 'kendo-treeview',\n                template: `\n    <ul class=\"k-treeview-lines\"\n      kendoTreeViewGroup\n      role=\"group\"\n      [checkboxes]=\"checkboxes\"\n      [expandIcons]=\"expandIcons\"\n      [children]=\"children\"\n      [hasChildren]=\"hasChildren\"\n      [isChecked]=\"isChecked\"\n      [isDisabled]=\"isDisabled\"\n      [isExpanded]=\"isExpanded\"\n      [isSelected]=\"isSelected\"\n      [nodeTemplateRef]=\"nodeTemplate?.templateRef\"\n      [textField]=\"textField\"\n      [nodes]=\"fetchNodes\"\n      >\n    </ul>\n  `\n            }]\n    }], function () { return [{ type: ExpandStateService }, { type: NavigationService }, { type: NodeChildrenService }, { type: SelectionService }, { type: TreeViewLookupService }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }, { type: DataChangeNotificationService }, { type: ɵngcc1.LocalizationService }]; }, { classNames: [{\n            type: HostBinding,\n            args: [\"class.k-widget\"]\n        }, {\n            type: HostBinding,\n            args: [\"class.k-treeview\"]\n        }], childrenLoaded: [{\n            type: Output\n        }], onBlur: [{\n            type: Output,\n            args: ['blur']\n        }], onFocus: [{\n            type: Output,\n            args: ['focus']\n        }], expand: [{\n            type: Output\n        }], collapse: [{\n            type: Output\n        }], checkedChange: [{\n            type: Output\n        }], selectionChange: [{\n            type: Output\n        }], nodeClick: [{\n            type: Output\n        }], nodeDblClick: [{\n            type: Output\n        }], isDisabled: [{\n            type: Input\n        }], navigable: [{\n            type: Input\n        }], children: [{\n            type: Input\n        }], role: [{\n            type: HostBinding,\n            args: [\"attr.role\"]\n        }], direction: [{\n            type: HostBinding,\n            args: [\"attr.dir\"]\n        }], animate: [{\n            type: Input\n        }, {\n            type: HostBinding,\n            args: ['@.disabled']\n        }], nodes: [{\n            type: Input\n        }], hasChildren: [{\n            type: Input\n        }], isChecked: [{\n            type: Input\n        }], isExpanded: [{\n            type: Input\n        }], isSelected: [{\n            type: Input\n        }], nodeTemplate: [{\n            type: ContentChild,\n            args: [NodeTemplateDirective]\n        }], textField: [{\n            type: Input\n        }] }); })();\n\nconst FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g;\nconst getterCache = {};\n// tslint:disable-next-line:no-string-literal\ngetterCache['undefined'] = obj => obj;\n/**\n * @hidden\n */\nconst getter = (field, safe) => {\n    const key = field + safe;\n    if (getterCache[key]) {\n        return getterCache[key];\n    }\n    const fields = [];\n    field.replace(FIELD_REGEX, (_, index, indexAccessor, field) => {\n        fields.push(isPresent(index) ? index : (indexAccessor || field));\n        return undefined;\n    });\n    getterCache[key] = obj => {\n        let result = obj;\n        for (let idx = 0; idx < fields.length; idx++) {\n            result = result[fields[idx]];\n            if (!isPresent(result) && safe) {\n                return result;\n            }\n        }\n        return result;\n    };\n    return getterCache[key];\n};\n\n/**\n * @hidden\n */\nclass TreeViewGroupComponent {\n    constructor(expandService, loadingService, indexBuilder, treeViewLookupService, navigationService, nodeChildrenService, dataChangeNotification) {\n        this.expandService = expandService;\n        this.loadingService = loadingService;\n        this.indexBuilder = indexBuilder;\n        this.treeViewLookupService = treeViewLookupService;\n        this.navigationService = navigationService;\n        this.nodeChildrenService = nodeChildrenService;\n        this.dataChangeNotification = dataChangeNotification;\n        this.kGroupClass = true;\n        this.textField = \"\";\n        this._data = [];\n        this.isChecked = () => 'none';\n        this.isDisabled = () => false;\n        this.isExpanded = () => false;\n        this.isSelected = () => false;\n        this.children = () => of$1([]);\n        this.hasChildren = () => false;\n    }\n    get role() { return 'group'; }\n    get data() {\n        return this._data;\n    }\n    set data(data) {\n        this._data = data;\n        const mappedChildren = this.mapToTreeItem(data);\n        this.setNodeChildren(mappedChildren);\n        this.emitChildrenLoaded(mappedChildren);\n    }\n    get hasTemplate() {\n        return isPresent(this.nodeTemplateRef);\n    }\n    expandNode(index, dataItem, expand) {\n        if (expand) {\n            this.expandService.expand(index, dataItem);\n        }\n        else {\n            this.expandService.collapse(index, dataItem);\n        }\n    }\n    checkNode(index) {\n        this.navigationService.checkIndex(index);\n        this.navigationService.activateIndex(index);\n    }\n    nodeIndex(index) {\n        return this.indexBuilder.nodeIndex(index.toString(), this.parentIndex);\n    }\n    nodeText(dataItem) {\n        const textField = isArray(this.textField) ? this.textField[0] : this.textField;\n        return getter(textField, true)(dataItem);\n    }\n    ngOnDestroy() {\n        if (this.nodesSubscription) {\n            this.nodesSubscription.unsubscribe();\n        }\n        if (this.dataChangeSubscription) {\n            this.dataChangeSubscription.unsubscribe();\n        }\n    }\n    ngOnInit() {\n        this.subscribeToNodesChange();\n        this.dataChangeSubscription = this.dataChangeNotification\n            .changes\n            .subscribe(this.subscribeToNodesChange.bind(this));\n    }\n    ngOnChanges(changes) {\n        if (changes.parentIndex) {\n            this.setNodeChildren(this.mapToTreeItem(this.data));\n        }\n    }\n    fetchChildren(node, index) {\n        return this.children(node)\n            .pipe(catchError$1(() => {\n            this.loadingService.notifyLoaded(index);\n            return empty$1();\n        }), tap$1(() => this.loadingService.notifyLoaded(index)));\n    }\n    get nextFields() {\n        if (isArray(this.textField)) {\n            return this.textField.length > 1 ? this.textField.slice(1) : this.textField;\n        }\n        return [this.textField];\n    }\n    setNodeChildren(children) {\n        this.treeViewLookupService.registerChildren(this.parentIndex, children);\n    }\n    mapToTreeItem(data) {\n        if (!this.parentIndex) {\n            return [];\n        }\n        return data.map((dataItem, idx) => ({ dataItem, index: this.nodeIndex(idx) }));\n    }\n    emitChildrenLoaded(children) {\n        if (!this.parentIndex) {\n            return;\n        }\n        this.nodeChildrenService.childrenLoaded({ dataItem: this.parentDataItem, index: this.parentIndex }, children);\n    }\n    subscribeToNodesChange() {\n        if (this.nodesSubscription) {\n            this.nodesSubscription.unsubscribe();\n        }\n        this.nodesSubscription = this.nodes(this.parentDataItem, this.parentIndex).subscribe(x => { this.data = x; });\n    }\n}\nTreeViewGroupComponent.ɵfac = function TreeViewGroupComponent_Factory(t) { return new (t || TreeViewGroupComponent)(ɵngcc0.ɵɵdirectiveInject(ExpandStateService), ɵngcc0.ɵɵdirectiveInject(LoadingNotificationService), ɵngcc0.ɵɵdirectiveInject(IndexBuilderService), ɵngcc0.ɵɵdirectiveInject(TreeViewLookupService), ɵngcc0.ɵɵdirectiveInject(NavigationService), ɵngcc0.ɵɵdirectiveInject(NodeChildrenService), ɵngcc0.ɵɵdirectiveInject(DataChangeNotificationService)); };\nTreeViewGroupComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: TreeViewGroupComponent, selectors: [[\"\", \"kendoTreeViewGroup\", \"\"]], hostVars: 3, hostBindings: function TreeViewGroupComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"role\", ctx.role);\n        ɵngcc0.ɵɵclassProp(\"k-group\", ctx.kGroupClass);\n    } }, inputs: { textField: \"textField\", isChecked: \"isChecked\", isDisabled: \"isDisabled\", isExpanded: \"isExpanded\", isSelected: \"isSelected\", children: \"children\", hasChildren: \"hasChildren\", checkboxes: \"checkboxes\", expandIcons: \"expandIcons\", disabled: \"disabled\", nodes: \"nodes\", parentDataItem: \"parentDataItem\", parentIndex: \"parentIndex\", nodeTemplateRef: \"nodeTemplateRef\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], attrs: _c0, decls: 1, vars: 1, consts: [[\"class\", \"k-item k-treeview-item\", \"kendoTreeViewItem\", \"\", 3, \"dataItem\", \"index\", \"parentDataItem\", \"parentIndex\", \"isChecked\", \"isDisabled\", \"isExpanded\", \"isSelected\", 4, \"ngFor\", \"ngForOf\"], [\"kendoTreeViewItem\", \"\", 1, \"k-item\", \"k-treeview-item\", 3, \"dataItem\", \"index\", \"parentDataItem\", \"parentIndex\", \"isChecked\", \"isDisabled\", \"isExpanded\", \"isSelected\"], [1, \"k-mid\"], [\"class\", \"k-icon\", 3, \"k-i-collapse\", \"k-i-expand\", \"kendoTreeViewLoading\", \"click\", 4, \"ngIf\"], [\"tabindex\", \"-1\", 3, \"node\", \"index\", \"isChecked\", \"checkStateChange\", 4, \"ngIf\"], [\"kendoTreeViewItemContent\", \"\", 1, \"k-in\", 3, \"dataItem\", \"index\", \"initialSelection\", \"isSelected\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"], [\"kendoTreeViewGroup\", \"\", \"role\", \"group\", 3, \"nodes\", \"checkboxes\", \"expandIcons\", \"children\", \"hasChildren\", \"isChecked\", \"isDisabled\", \"disabled\", \"isExpanded\", \"isSelected\", \"nodeTemplateRef\", \"parentIndex\", \"parentDataItem\", \"textField\", 4, \"ngIf\"], [1, \"k-icon\", 3, \"kendoTreeViewLoading\", \"click\"], [\"tabindex\", \"-1\", 3, \"node\", \"index\", \"isChecked\", \"checkStateChange\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"kendoTreeViewGroup\", \"\", \"role\", \"group\", 3, \"nodes\", \"checkboxes\", \"expandIcons\", \"children\", \"hasChildren\", \"isChecked\", \"isDisabled\", \"disabled\", \"isExpanded\", \"isSelected\", \"nodeTemplateRef\", \"parentIndex\", \"parentDataItem\", \"textField\"]], template: function TreeViewGroupComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, TreeViewGroupComponent_li_0_Template, 9, 19, \"li\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.data);\n    } }, directives: function () { return [ɵngcc2.NgForOf, TreeViewItemDirective, ɵngcc2.NgIf, TreeViewItemContentDirective, ɵngcc2.NgSwitch, ɵngcc2.NgSwitchCase, ɵngcc2.NgSwitchDefault, LoadingIndicatorDirective, CheckBoxComponent, ɵngcc2.NgTemplateOutlet, TreeViewGroupComponent]; }, encapsulation: 2, data: { animation: [\n            trigger('toggle', [\n                transition('void => *', [\n                    style({ height: 0 }),\n                    animate('0.1s ease-in', style({ height: \"*\" }))\n                ]),\n                transition('* => void', [\n                    style({ height: \"*\" }),\n                    animate('0.1s ease-in', style({ height: 0 }))\n                ])\n            ])\n        ] } });\n/** @nocollapse */\nTreeViewGroupComponent.ctorParameters = () => [\n    { type: ExpandStateService, },\n    { type: LoadingNotificationService, },\n    { type: IndexBuilderService, },\n    { type: TreeViewLookupService, },\n    { type: NavigationService, },\n    { type: NodeChildrenService, },\n    { type: DataChangeNotificationService, },\n];\nTreeViewGroupComponent.propDecorators = {\n    'kGroupClass': [{ type: HostBinding, args: [\"class.k-group\",] },],\n    'role': [{ type: HostBinding, args: [\"attr.role\",] },],\n    'checkboxes': [{ type: Input },],\n    'expandIcons': [{ type: Input },],\n    'disabled': [{ type: Input },],\n    'nodes': [{ type: Input },],\n    'textField': [{ type: Input },],\n    'parentDataItem': [{ type: Input },],\n    'parentIndex': [{ type: Input },],\n    'nodeTemplateRef': [{ type: Input },],\n    'isChecked': [{ type: Input },],\n    'isDisabled': [{ type: Input },],\n    'isExpanded': [{ type: Input },],\n    'isSelected': [{ type: Input },],\n    'children': [{ type: Input },],\n    'hasChildren': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TreeViewGroupComponent, [{\n        type: Component,\n        args: [{\n                animations: [\n                    trigger('toggle', [\n                        transition('void => *', [\n                            style({ height: 0 }),\n                            animate('0.1s ease-in', style({ height: \"*\" }))\n                        ]),\n                        transition('* => void', [\n                            style({ height: \"*\" }),\n                            animate('0.1s ease-in', style({ height: 0 }))\n                        ])\n                    ])\n                ],\n                selector: '[kendoTreeViewGroup]',\n                template: `\n        <li\n            *ngFor=\"let node of data; let index = index\" class=\"k-item k-treeview-item\"\n            kendoTreeViewItem\n            [dataItem]=\"node\"\n            [index]=\"nodeIndex(index)\"\n            [parentDataItem]=\"parentDataItem\"\n            [parentIndex]=\"parentIndex\"\n            [isChecked]=\"isChecked(node, nodeIndex(index))\"\n            [isDisabled]=\"disabled || isDisabled(node, nodeIndex(index))\"\n            [isExpanded]=\"isExpanded(node, nodeIndex(index))\"\n            [isSelected]=\"isSelected(node, nodeIndex(index))\"\n            [attr.data-treeindex]=\"nodeIndex(index)\"\n        >\n            <div class=\"k-mid\">\n                <span\n                    class=\"k-icon\"\n                    [class.k-i-collapse]=\"isExpanded(node, nodeIndex(index))\"\n                    [class.k-i-expand]=\"!isExpanded(node, nodeIndex(index))\"\n                    [kendoTreeViewLoading]=\"nodeIndex(index)\"\n                    (click)=\"expandNode(nodeIndex(index), node, !isExpanded(node, nodeIndex(index)))\"\n                    *ngIf=\"expandIcons && hasChildren(node)\"\n                    >\n                </span>\n                <kendo-checkbox\n                    *ngIf=\"checkboxes\"\n                    [node]=\"node\"\n                    [index]=\"nodeIndex(index)\"\n                    [isChecked]=\"isChecked\"\n                    (checkStateChange)=\"checkNode(nodeIndex(index))\"\n                    tabindex=\"-1\"\n                ></kendo-checkbox>\n                <span kendoTreeViewItemContent\n                    [attr.data-treeindex]=\"nodeIndex(index)\"\n                    [dataItem]=\"node\"\n                    [index]=\"nodeIndex(index)\"\n                    [initialSelection]=\"isSelected(node, nodeIndex(index))\"\n                    [isSelected]=\"isSelected\"\n                    class=\"k-in\"\n                >\n                    <ng-container [ngSwitch]=\"hasTemplate\">\n                        <ng-container *ngSwitchCase=\"true\">\n                            <ng-template\n                                [ngTemplateOutlet]=\"nodeTemplateRef\" [ngTemplateOutletContext]=\"{$implicit: node, index: nodeIndex(index)}\"\n                                >\n                            </ng-template>\n                        </ng-container>\n                        <ng-container *ngSwitchDefault>\n                            {{nodeText(node)}}\n                        </ng-container>\n                    </ng-container>\n                </span>\n            </div>\n            <ul\n                *ngIf=\"isExpanded(node, nodeIndex(index)) && hasChildren(node)\"\n                kendoTreeViewGroup\n                role=\"group\"\n                [nodes]=\"fetchChildren\"\n                [checkboxes]=\"checkboxes\"\n                [expandIcons]=\"expandIcons\"\n                [children]=\"children\"\n                [hasChildren]=\"hasChildren\"\n                [isChecked]=\"isChecked\"\n                [isDisabled]=\"isDisabled\"\n                [disabled]=\"disabled || isDisabled(node, nodeIndex(index))\"\n                [isExpanded]=\"isExpanded\"\n                [isSelected]=\"isSelected\"\n                [nodeTemplateRef]=\"nodeTemplateRef\"\n                [parentIndex]=\"nodeIndex(index)\"\n                [parentDataItem]=\"node\"\n                [textField]=\"nextFields\"\n                [@toggle]=\"true\"\n                >\n            </ul>\n        </li>\n    `\n            }]\n    }], function () { return [{ type: ExpandStateService }, { type: LoadingNotificationService }, { type: IndexBuilderService }, { type: TreeViewLookupService }, { type: NavigationService }, { type: NodeChildrenService }, { type: DataChangeNotificationService }]; }, { kGroupClass: [{\n            type: HostBinding,\n            args: [\"class.k-group\"]\n        }], textField: [{\n            type: Input\n        }], isChecked: [{\n            type: Input\n        }], isDisabled: [{\n            type: Input\n        }], isExpanded: [{\n            type: Input\n        }], isSelected: [{\n            type: Input\n        }], children: [{\n            type: Input\n        }], hasChildren: [{\n            type: Input\n        }], role: [{\n            type: HostBinding,\n            args: [\"attr.role\"]\n        }], checkboxes: [{\n            type: Input\n        }], expandIcons: [{\n            type: Input\n        }], disabled: [{\n            type: Input\n        }], nodes: [{\n            type: Input\n        }], parentDataItem: [{\n            type: Input\n        }], parentIndex: [{\n            type: Input\n        }], nodeTemplateRef: [{\n            type: Input\n        }] }); })();\n\nconst indexChecked = (keys, index) => keys.filter(k => k === index).length > 0;\nconst matchKey = index => k => {\n    if (index === k) {\n        return true;\n    }\n    if (!k.split) {\n        return false;\n    }\n    return k.split('_').reduce(({ key, result }, part) => {\n        key += part;\n        if (index === key || result) {\n            return { result: true };\n        }\n        key += \"_\";\n        return { key, result: false };\n    }, { key: \"\", result: false }).result;\n};\n/**\n * A directive which manages the in-memory checked state of the TreeView node\n * ([see example]({% slug checkboxes_treeview %})).\n */\nclass CheckDirective {\n    constructor(treeView, zone) {\n        this.treeView = treeView;\n        this.zone = zone;\n        /**\n         * Fires when the `checkedKeys` collection was updated.\n         */\n        this.checkedKeysChange = new EventEmitter();\n        this.subscriptions = new Subscription$1(() => { });\n        this.checkActions = {\n            'multiple': (e) => this.checkMultiple(e),\n            'single': (e) => this.checkSingle(e)\n        };\n        this._checkedKeys = [];\n        this.subscriptions.add(this.treeView.checkedChange\n            .subscribe((e) => this.check(e)));\n        this.subscriptions.add(this.treeView.childrenLoaded\n            .pipe(filter$1(() => this.options.checkChildren), switchMap$1(e => this.zone.onStable.pipe(take$1(1), map$1(() => e))))\n            .subscribe((e) => this.addChildrenKeys(e)));\n        this.treeView.isChecked = this.isItemChecked.bind(this);\n    }\n    /**\n     * @hidden\n     */\n    set isChecked(value) {\n        this.treeView.isChecked = value;\n    }\n    /**\n     * Defines the collection that will store the checked keys\n     * ([see example]({% slug checkboxes_treeview %})).\n     */\n    get checkedKeys() {\n        return this._checkedKeys;\n    }\n    set checkedKeys(keys) {\n        this._checkedKeys = keys;\n    }\n    get options() {\n        const defaultOptions = {\n            checkChildren: true,\n            checkParents: true,\n            enabled: true,\n            mode: \"multiple\"\n        };\n        if (!isPresent(this.checkable)) {\n            return defaultOptions;\n        }\n        const isBoolean = typeof this.checkable === 'boolean';\n        const checkSettings = isBoolean\n            ? { enabled: this.checkable }\n            : this.checkable;\n        return Object.assign(defaultOptions, checkSettings);\n    }\n    ngOnChanges(changes) {\n        if (changes.checkable) {\n            this.treeView.checkboxes = this.options.enabled;\n            this.toggleCheckOnClick();\n        }\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.unsubscribeClick();\n    }\n    isItemChecked(dataItem, index) {\n        if (!this.checkKey) {\n            return this.isIndexChecked(index);\n        }\n        const keyIndex = this.checkedKeys.indexOf(this.itemKey({ dataItem, index }));\n        return keyIndex > -1 ? 'checked' : 'none';\n    }\n    isIndexChecked(index) {\n        const checkedKeys = this.checkedKeys.filter(matchKey(index));\n        if (indexChecked(checkedKeys, index)) {\n            return 'checked';\n        }\n        const { mode, checkParents } = this.options;\n        if (mode === 'multiple' && checkParents && checkedKeys.length) {\n            return 'indeterminate';\n        }\n        return 'none';\n    }\n    itemKey(e) {\n        if (!this.checkKey) {\n            return e.index;\n        }\n        if (typeof this.checkKey === \"string\") {\n            return e.dataItem[this.checkKey];\n        }\n        if (typeof this.checkKey === \"function\") {\n            return this.checkKey(e);\n        }\n    }\n    check(e) {\n        const { enabled, mode } = this.options;\n        const performSelection = this.checkActions[mode] || noop;\n        if (!enabled) {\n            return;\n        }\n        performSelection(e);\n    }\n    checkSingle(node) {\n        const key = this.itemKey(node.item);\n        this.checkedKeys = this.checkedKeys[0] !== key ? [key] : [];\n        this.notify();\n    }\n    checkMultiple(node) {\n        this.checkNode(node);\n        if (this.options.checkParents) {\n            this.checkParents(node.parent);\n        }\n        this.notify();\n    }\n    toggleCheckOnClick() {\n        this.unsubscribeClick();\n        if (this.options.checkOnClick) {\n            this.clickSubscription = this.treeView.nodeClick.subscribe(args => {\n                if (args.type === 'click') {\n                    const lookup = this.treeView.itemLookup(args.item.index);\n                    this.check(lookup);\n                }\n            });\n        }\n    }\n    unsubscribeClick() {\n        if (this.clickSubscription) {\n            this.clickSubscription.unsubscribe();\n            this.clickSubscription = null;\n        }\n    }\n    checkNode(node, check) {\n        const key = this.itemKey(node.item);\n        const idx = this.checkedKeys.indexOf(key);\n        const isChecked = idx > -1;\n        const shouldCheck = check === undefined ? !isChecked : check;\n        if (!isPresent(key) || (isChecked && check) || this.treeView.isDisabledNode(node)) {\n            return;\n        }\n        if (isChecked) {\n            this.checkedKeys.splice(idx, 1);\n        }\n        else {\n            this.checkedKeys.push(key);\n        }\n        if (this.options.checkChildren) {\n            node.children.map(n => this.checkNode(n, shouldCheck));\n        }\n    }\n    checkParents(parent) {\n        let currentParent = parent;\n        while (currentParent) {\n            const parentKey = this.itemKey(currentParent.item);\n            const parentIndex = this.checkedKeys.indexOf(parentKey);\n            if (this.allChildrenSelected(currentParent.children)) {\n                if (parentIndex === -1) {\n                    this.checkedKeys.push(parentKey);\n                }\n            }\n            else if (parentIndex > -1) {\n                this.checkedKeys.splice(parentIndex, 1);\n            }\n            currentParent = currentParent.parent;\n        }\n    }\n    allChildrenSelected(children) {\n        const isCheckedReducer = (acc, item) => (acc && this.isItemChecked(item.dataItem, item.index) === 'checked');\n        return children.reduce(isCheckedReducer, true);\n    }\n    notify() {\n        this.checkedKeysChange.emit(this.checkedKeys.slice());\n    }\n    addChildrenKeys(args) {\n        if (this.checkedKeys.indexOf(this.itemKey(args.item)) === -1) {\n            return;\n        }\n        const keys = args.children.reduce((acc, item) => {\n            const itemKey = this.itemKey(item);\n            const existingKey = this.checkedKeys.find(key => itemKey === key);\n            if (!existingKey) {\n                acc.push(itemKey);\n            }\n            return acc;\n        }, []);\n        if (keys.length) {\n            this.checkedKeys = this.checkedKeys.concat(keys);\n            this.zone.run(() => {\n                this.notify();\n            });\n        }\n    }\n}\nCheckDirective.ɵfac = function CheckDirective_Factory(t) { return new (t || CheckDirective)(ɵngcc0.ɵɵdirectiveInject(TreeViewComponent), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nCheckDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CheckDirective, selectors: [[\"\", \"kendoTreeViewCheckable\", \"\"]], inputs: { isChecked: \"isChecked\", checkedKeys: \"checkedKeys\", checkKey: [\"checkBy\", \"checkKey\"], checkable: [\"kendoTreeViewCheckable\", \"checkable\"] }, outputs: { checkedKeysChange: \"checkedKeysChange\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nCheckDirective.ctorParameters = () => [\n    { type: TreeViewComponent, },\n    { type: NgZone, },\n];\nCheckDirective.propDecorators = {\n    'isChecked': [{ type: Input },],\n    'checkKey': [{ type: Input, args: [\"checkBy\",] },],\n    'checkedKeys': [{ type: Input },],\n    'checkable': [{ type: Input, args: ['kendoTreeViewCheckable',] },],\n    'checkedKeysChange': [{ type: Output },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CheckDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewCheckable]' }]\n    }], function () { return [{ type: TreeViewComponent }, { type: ɵngcc0.NgZone }]; }, { checkedKeysChange: [{\n            type: Output\n        }], isChecked: [{\n            type: Input\n        }], checkedKeys: [{\n            type: Input\n        }], checkKey: [{\n            type: Input,\n            args: [\"checkBy\"]\n        }], checkable: [{\n            type: Input,\n            args: ['kendoTreeViewCheckable']\n        }] }); })();\n\n/**\n * A directive which manages the disabled in-memory state of the TreeView node\n * ([see example]({% slug disabledstate_treeview %})).\n */\nclass DisableDirective {\n    constructor(treeView, cdr) {\n        this.treeView = treeView;\n        this.cdr = cdr;\n        /**\n         * Defines the collection that will store the disabled keys.\n         */\n        this.disabledKeys = [];\n        this.treeView.isDisabled = (dataItem, index) => (this.disabledKeys.indexOf(this.itemKey({ dataItem, index })) > -1);\n    }\n    /**\n     * @hidden\n     */\n    set isDisabled(value) {\n        this.treeView.isDisabled = value;\n    }\n    ngOnChanges(changes = {}) {\n        const { disabledKeys } = changes;\n        if (disabledKeys && !disabledKeys.firstChange) {\n            this.cdr.markForCheck();\n        }\n    }\n    itemKey(e) {\n        if (!this.disableKey) {\n            return e.index;\n        }\n        if (typeof this.disableKey === \"string\") {\n            return e.dataItem[this.disableKey];\n        }\n        if (typeof this.disableKey === \"function\") {\n            return this.disableKey(e);\n        }\n    }\n}\nDisableDirective.ɵfac = function DisableDirective_Factory(t) { return new (t || DisableDirective)(ɵngcc0.ɵɵdirectiveInject(TreeViewComponent), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nDisableDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DisableDirective, selectors: [[\"\", \"kendoTreeViewDisable\", \"\"]], inputs: { disabledKeys: \"disabledKeys\", isDisabled: \"isDisabled\", disableKey: [\"kendoTreeViewDisable\", \"disableKey\"] }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nDisableDirective.ctorParameters = () => [\n    { type: TreeViewComponent, },\n    { type: ChangeDetectorRef, },\n];\nDisableDirective.propDecorators = {\n    'isDisabled': [{ type: Input },],\n    'disableKey': [{ type: Input, args: [\"kendoTreeViewDisable\",] },],\n    'disabledKeys': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DisableDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewDisable]' }]\n    }], function () { return [{ type: TreeViewComponent }, { type: ɵngcc0.ChangeDetectorRef }]; }, { disabledKeys: [{\n            type: Input\n        }], isDisabled: [{\n            type: Input\n        }], disableKey: [{\n            type: Input,\n            args: [\"kendoTreeViewDisable\"]\n        }] }); })();\n\n/**\n * A directive which manages the expanded state of the TreeView\n * ([see example]({% slug expandedstate_treeview %})).\n */\nclass ExpandDirective {\n    constructor(treeView) {\n        this.treeView = treeView;\n        /**\n         * Fires when the `expandedKeys` collection was updated.\n         */\n        this.expandedKeysChange = new EventEmitter();\n        this.subscriptions = new Subscription$1(() => { });\n        this._expandedKeys = [];\n        this.subscriptions.add(merge$1(this.treeView.expand.pipe(map$1(e => (Object.assign({ expand: true }, e)))), this.treeView.collapse.pipe(map$1(e => (Object.assign({ expand: false }, e))))).subscribe(this.toggleExpand.bind(this)));\n        this.treeView.isExpanded = (dataItem, index) => this.expandedKeys.indexOf(this.itemKey({ dataItem, index })) > -1;\n    }\n    /**\n     * @hidden\n     */\n    set isExpanded(value) {\n        this.treeView.isExpanded = value;\n    }\n    /**\n     * Defines the collection that will store the expanded keys.\n     */\n    get expandedKeys() {\n        return this._expandedKeys;\n    }\n    set expandedKeys(keys) {\n        this._expandedKeys = keys;\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    itemKey(e) {\n        if (this.expandKey) {\n            if (typeof this.expandKey === \"string\") {\n                return e.dataItem[this.expandKey];\n            }\n            if (typeof this.expandKey === \"function\") {\n                return this.expandKey(e);\n            }\n        }\n        return e.index;\n    }\n    toggleExpand({ index, dataItem, expand }) {\n        const item = this.itemKey({ index, dataItem });\n        const idx = this.expandedKeys.indexOf(item);\n        let notify = false;\n        if (idx > -1 && !expand) {\n            this.expandedKeys.splice(idx, 1);\n            notify = true;\n        }\n        else if (idx === -1 && expand) {\n            this.expandedKeys.push(item);\n            notify = true;\n        }\n        if (notify) {\n            this.expandedKeysChange.emit(this.expandedKeys);\n        }\n    }\n}\nExpandDirective.ɵfac = function ExpandDirective_Factory(t) { return new (t || ExpandDirective)(ɵngcc0.ɵɵdirectiveInject(TreeViewComponent)); };\nExpandDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ExpandDirective, selectors: [[\"\", \"kendoTreeViewExpandable\", \"\"]], inputs: { isExpanded: \"isExpanded\", expandedKeys: \"expandedKeys\", expandKey: [\"expandBy\", \"expandKey\"] }, outputs: { expandedKeysChange: \"expandedKeysChange\" } });\n/** @nocollapse */\nExpandDirective.ctorParameters = () => [\n    { type: TreeViewComponent, },\n];\nExpandDirective.propDecorators = {\n    'isExpanded': [{ type: Input },],\n    'expandKey': [{ type: Input, args: [\"expandBy\",] },],\n    'expandedKeysChange': [{ type: Output },],\n    'expandedKeys': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ExpandDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewExpandable]' }]\n    }], function () { return [{ type: TreeViewComponent }]; }, { expandedKeysChange: [{\n            type: Output\n        }], isExpanded: [{\n            type: Input\n        }], expandedKeys: [{\n            type: Input\n        }], expandKey: [{\n            type: Input,\n            args: [\"expandBy\"]\n        }] }); })();\n\n/**\n * A directive which manages the in-memory selection state of the TreeView node\n * ([see example]({% slug selection_treeview %})).\n */\nclass SelectDirective {\n    constructor(treeView) {\n        this.treeView = treeView;\n        /**\n         * Fires when the `selectedKeys` collection was updated.\n         */\n        this.selectedKeysChange = new EventEmitter();\n        this.subscriptions = new Subscription$1(() => { });\n        this.selectActions = {\n            'multiple': (e) => this.selectMultiple(e),\n            'single': (e) => this.selectSingle(e)\n        };\n        this._selectedKeys = [];\n        this.subscriptions.add(this.treeView.selectionChange.subscribe(this.select.bind(this)));\n        this.treeView.isSelected = (dataItem, index) => (this.selectedKeys.indexOf(this.itemKey({ dataItem, index })) > -1);\n    }\n    /**\n     * @hidden\n     */\n    set isSelected(value) {\n        this.treeView.isSelected = value;\n    }\n    /**\n     * Defines the collection that will store the selected keys\n     * ([see example]({% slug selection_treeview %}#toc-selection-modes)).\n     */\n    get selectedKeys() {\n        return this._selectedKeys;\n    }\n    set selectedKeys(keys) {\n        this._selectedKeys = keys;\n    }\n    get getAriaMultiselectable() {\n        return this.options.mode === 'multiple';\n    }\n    get options() {\n        const defaultOptions = {\n            enabled: true,\n            mode: 'single'\n        };\n        if (!isPresent(this.selection)) {\n            return defaultOptions;\n        }\n        const isBoolean = typeof this.selection === 'boolean';\n        const selectionSettings = isBoolean ? { enabled: this.selection } : this.selection;\n        return Object.assign(defaultOptions, selectionSettings);\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    itemKey(e) {\n        if (!this.selectKey) {\n            return e.index;\n        }\n        if (typeof this.selectKey === 'string') {\n            return e.dataItem[this.selectKey];\n        }\n        if (typeof this.selectKey === 'function') {\n            return this.selectKey(e);\n        }\n    }\n    select(e) {\n        const { enabled, mode } = this.options;\n        const performSelection = this.selectActions[mode] || noop;\n        if (!enabled) {\n            return;\n        }\n        performSelection(e);\n    }\n    selectSingle(node) {\n        const key = this.itemKey(node);\n        if (this.selectedKeys[0] === key) {\n            return;\n        }\n        this.selectedKeys = [key];\n        this.notify();\n    }\n    selectMultiple(node) {\n        const key = this.itemKey(node);\n        const idx = this.selectedKeys.indexOf(key);\n        const isSelected = idx > -1;\n        if (!isPresent(key)) {\n            return;\n        }\n        if (isSelected) {\n            this.selectedKeys.splice(idx, 1);\n        }\n        else {\n            this.selectedKeys.push(key);\n        }\n        this.notify();\n    }\n    notify() {\n        this.selectedKeysChange.emit(this.selectedKeys.slice());\n    }\n}\nSelectDirective.ɵfac = function SelectDirective_Factory(t) { return new (t || SelectDirective)(ɵngcc0.ɵɵdirectiveInject(TreeViewComponent)); };\nSelectDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: SelectDirective, selectors: [[\"\", \"kendoTreeViewSelectable\", \"\"]], hostVars: 1, hostBindings: function SelectDirective_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-multiselectable\", ctx.getAriaMultiselectable);\n    } }, inputs: { isSelected: \"isSelected\", selectedKeys: \"selectedKeys\", selectKey: [\"selectBy\", \"selectKey\"], selection: [\"kendoTreeViewSelectable\", \"selection\"] }, outputs: { selectedKeysChange: \"selectedKeysChange\" } });\n/** @nocollapse */\nSelectDirective.ctorParameters = () => [\n    { type: TreeViewComponent, },\n];\nSelectDirective.propDecorators = {\n    'isSelected': [{ type: Input },],\n    'selectKey': [{ type: Input, args: ['selectBy',] },],\n    'selection': [{ type: Input, args: ['kendoTreeViewSelectable',] },],\n    'selectedKeys': [{ type: Input },],\n    'selectedKeysChange': [{ type: Output },],\n    'getAriaMultiselectable': [{ type: HostBinding, args: ['attr.aria-multiselectable',] },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SelectDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewSelectable]' }]\n    }], function () { return [{ type: TreeViewComponent }]; }, { selectedKeysChange: [{\n            type: Output\n        }], isSelected: [{\n            type: Input\n        }], selectedKeys: [{\n            type: Input\n        }], getAriaMultiselectable: [{\n            type: HostBinding,\n            args: ['attr.aria-multiselectable']\n        }], selectKey: [{\n            type: Input,\n            args: ['selectBy']\n        }], selection: [{\n            type: Input,\n            args: ['kendoTreeViewSelectable']\n        }] }); })();\n\n/**\n * A directive which encapsulates the retrieval of child nodes.\n */\nclass HierarchyBindingDirective {\n    constructor(treeView) {\n        this.treeView = treeView;\n    }\n    /**\n     * The field name which holds the data items of the child component.\n     */\n    set childrenField(value) {\n        if (!value) {\n            throw new Error(\"'childrenField' cannot be empty\");\n        }\n        this._childrenField = value;\n    }\n    /**\n     * The field name which holds the data items of the child component.\n     */\n    get childrenField() {\n        return this._childrenField;\n    }\n    ngOnInit() {\n        if (isPresent(this.childrenField)) {\n            this.treeView.children = item => of$1(getter(this.childrenField, true)(item));\n            this.treeView.hasChildren = item => {\n                const children = getter(this.childrenField, true)(item);\n                return Boolean(children && children.length);\n            };\n        }\n    }\n}\nHierarchyBindingDirective.ɵfac = function HierarchyBindingDirective_Factory(t) { return new (t || HierarchyBindingDirective)(ɵngcc0.ɵɵdirectiveInject(TreeViewComponent)); };\nHierarchyBindingDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: HierarchyBindingDirective, selectors: [[\"\", \"kendoTreeViewHierarchyBinding\", \"\"]], inputs: { childrenField: \"childrenField\" } });\n/** @nocollapse */\nHierarchyBindingDirective.ctorParameters = () => [\n    { type: TreeViewComponent, },\n];\nHierarchyBindingDirective.propDecorators = {\n    'childrenField': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HierarchyBindingDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewHierarchyBinding]' }]\n    }], function () { return [{ type: TreeViewComponent }]; }, { childrenField: [{\n            type: Input\n        }] }); })();\n\n/**\n * @hidden\n */\nclass LoadingIndicatorDirective {\n    constructor(expandService, loadingService, cd) {\n        this.expandService = expandService;\n        this.loadingService = loadingService;\n        this.cd = cd;\n        this._loading = false;\n    }\n    get loading() {\n        return this._loading;\n    }\n    set loading(value) {\n        this._loading = value;\n        this.cd.markForCheck();\n    }\n    ngOnInit() {\n        const loadingNotifications = this.loadingService\n            .changes\n            .pipe(filter$1(index => index === this.index));\n        this.subscription = this.expandService\n            .changes\n            .pipe(filter$1(({ index }) => index === this.index), tap$1(({ expand }) => {\n            if (!expand && this.loading) {\n                this.loading = false;\n            }\n        }), filter$1(({ expand }) => expand), switchMap$1(x => of$1(x).pipe(delay$1(100), takeUntil$1(loadingNotifications))))\n            .subscribe(() => this.loading = true);\n        this.subscription.add(loadingNotifications.subscribe(() => this.loading = false));\n    }\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n}\nLoadingIndicatorDirective.ɵfac = function LoadingIndicatorDirective_Factory(t) { return new (t || LoadingIndicatorDirective)(ɵngcc0.ɵɵdirectiveInject(ExpandStateService), ɵngcc0.ɵɵdirectiveInject(LoadingNotificationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nLoadingIndicatorDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: LoadingIndicatorDirective, selectors: [[\"\", \"kendoTreeViewLoading\", \"\"]], hostVars: 2, hostBindings: function LoadingIndicatorDirective_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"k-i-loading\", ctx.loading);\n    } }, inputs: { index: [\"kendoTreeViewLoading\", \"index\"] } });\n/** @nocollapse */\nLoadingIndicatorDirective.ctorParameters = () => [\n    { type: ExpandStateService, },\n    { type: LoadingNotificationService, },\n    { type: ChangeDetectorRef, },\n];\nLoadingIndicatorDirective.propDecorators = {\n    'loading': [{ type: HostBinding, args: [\"class.k-i-loading\",] },],\n    'index': [{ type: Input, args: [\"kendoTreeViewLoading\",] },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LoadingIndicatorDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewLoading]' }]\n    }], function () { return [{ type: ExpandStateService }, { type: LoadingNotificationService }, { type: ɵngcc0.ChangeDetectorRef }]; }, { loading: [{\n            type: HostBinding,\n            args: [\"class.k-i-loading\"]\n        }], index: [{\n            type: Input,\n            args: [\"kendoTreeViewLoading\"]\n        }] }); })();\n\n/**\n * @hidden\n * Performs the right-to-left function composition. Functions must have a unary.\n */\nconst compose = (...args) => (data) => args.reduceRight((acc, curr) => curr(acc), data);\n\nconst findChildren = (prop, nodes, value) => nodes.filter(x => prop(x) === value);\n/**\n * A directive which encapsulates the retrieval of the child nodes.\n */\nclass FlatDataBindingDirective {\n    constructor(treeView) {\n        this.treeView = treeView;\n        this.originalData = [];\n    }\n    /**\n     * The nodes which will be displayed by the TreeView.\n     */\n    set nodes(values) {\n        this.originalData = values || [];\n        if (!isNullOrEmptyString(this.parentIdField)) {\n            const prop = getter(this.parentIdField, true);\n            this.treeView.nodes = (this.originalData).filter(compose(isBlank, prop));\n        }\n        else {\n            this.treeView.nodes = this.originalData.slice(0);\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (isPresent(this.parentIdField) && isPresent(this.idField)) {\n            const fetchChildren = node => findChildren(getter(this.parentIdField, true), this.originalData || [], getter(this.idField, true)(node));\n            this.treeView.hasChildren = node => fetchChildren(node).length > 0;\n            this.treeView.children = node => of$1(fetchChildren(node));\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        if (isChanged(\"parentIdField\", changes, false)) {\n            this.nodes = this.originalData;\n        }\n    }\n}\nFlatDataBindingDirective.ɵfac = function FlatDataBindingDirective_Factory(t) { return new (t || FlatDataBindingDirective)(ɵngcc0.ɵɵdirectiveInject(TreeViewComponent)); };\nFlatDataBindingDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FlatDataBindingDirective, selectors: [[\"\", \"kendoTreeViewFlatDataBinding\", \"\"]], inputs: { nodes: \"nodes\", parentIdField: \"parentIdField\", idField: \"idField\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nFlatDataBindingDirective.ctorParameters = () => [\n    { type: TreeViewComponent, },\n];\nFlatDataBindingDirective.propDecorators = {\n    'nodes': [{ type: Input },],\n    'parentIdField': [{ type: Input },],\n    'idField': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlatDataBindingDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewFlatDataBinding]' }]\n    }], function () { return [{ type: TreeViewComponent }]; }, { nodes: [{\n            type: Input\n        }], parentIdField: [{\n            type: Input\n        }], idField: [{\n            type: Input\n        }] }); })();\n\nconst buildItem = (index, dataItem) => ({ dataItem, index });\nlet id = 0;\n/**\n * @hidden\n *\n * A directive which manages the expanded state of the TreeView.\n */\nclass TreeViewItemDirective {\n    constructor(element, expandService, navigationService, selectionService, lookupService, renderer, ib) {\n        this.element = element;\n        this.expandService = expandService;\n        this.navigationService = navigationService;\n        this.selectionService = selectionService;\n        this.lookupService = lookupService;\n        this.renderer = renderer;\n        this.ib = ib;\n        this.isDisabled = false;\n        this.ariaChecked = 'false';\n        this.id = id++;\n        this.isInitialized = false;\n        this.subscriptions = [];\n        this.subscribe();\n    }\n    set isChecked(checked) {\n        if (checked === 'checked') {\n            this.ariaChecked = 'true';\n        }\n        else if (checked === 'indeterminate') {\n            this.ariaChecked = 'mixed';\n        }\n        else {\n            this.ariaChecked = 'false';\n        }\n    }\n    get isExpanded() {\n        return this._isExpanded || false;\n    }\n    set isExpanded(isExpanded) {\n        this._isExpanded = isExpanded;\n    }\n    get isSelected() {\n        return this._isSelected || false;\n    }\n    set isSelected(isSelected) {\n        this._isSelected = isSelected;\n    }\n    get treeItem() {\n        return buildItem(this.index, this.dataItem);\n    }\n    get parentTreeItem() {\n        return this.parentDataItem ? buildItem(this.parentIndex, this.parentDataItem) : null;\n    }\n    ngOnInit() {\n        this.lookupService.registerItem(this.treeItem, this.parentTreeItem);\n        this.registerNavigationItem();\n        this.isInitialized = true;\n        this.setAttribute('role', 'treeitem');\n        this.setAriaAttributes();\n        this.setDisabledClass();\n        this.updateTabIndex();\n    }\n    ngOnChanges(changes) {\n        const { index, isDisabled } = changes;\n        if (index || changes.isChecked || changes.isExpanded || changes.isSelected) {\n            this.setAriaAttributes();\n        }\n        if (isDisabled) {\n            this.setDisabledClass();\n        }\n        this.moveLookupItem(changes);\n        this.moveNavigationItem(index);\n        this.disableNavigationItem(isDisabled);\n    }\n    ngOnDestroy() {\n        this.navigationService.unregisterItem(this.id, this.index);\n        this.lookupService.unregisterItem(this.index, this.dataItem);\n        this.subscriptions = this.subscriptions.reduce((list, callback) => (callback.unsubscribe(), list), []);\n    }\n    subscribe() {\n        this.subscriptions = [\n            this.navigationService.moves\n                .subscribe(() => {\n                this.updateTabIndex();\n                this.focusItem();\n            }),\n            this.navigationService.expands\n                .pipe(filter$1(({ index }) => index === this.index && !this.isDisabled))\n                .subscribe(({ expand }) => this.expand(expand))\n        ];\n    }\n    registerNavigationItem() {\n        this.navigationService.registerItem(this.id, this.index, this.isDisabled);\n        this.activateItem();\n    }\n    activateItem() {\n        if (this.isDisabled) {\n            return;\n        }\n        const navigationService = this.navigationService;\n        const selectionService = this.selectionService;\n        const index = this.index;\n        selectionService.setFirstSelected(index, this.isSelected);\n        if (!navigationService.isActive(index) && selectionService.isFirstSelected(index)) {\n            navigationService.activateIndex(index);\n        }\n    }\n    expand(shouldExpand) {\n        this.expandService[shouldExpand ? 'expand' : 'collapse'](this.index, this.dataItem);\n    }\n    isFocusable() {\n        return !this.isDisabled && this.navigationService.isFocusable(this.index);\n    }\n    focusItem() {\n        if (this.isInitialized && this.navigationService.isActive(this.index)) {\n            this.element.nativeElement.focus();\n        }\n    }\n    moveLookupItem(changes = {}) {\n        const { dataItem, index, parentDataItem, parentIndex } = changes;\n        if ((index && index.firstChange) || //skip first change\n            (!dataItem && !index && !parentDataItem && !parentIndex)) {\n            return;\n        }\n        const oldIndex = (index || {}).previousValue || this.index;\n        this.lookupService.replaceItem(oldIndex, this.treeItem, this.parentTreeItem);\n    }\n    moveNavigationItem(indexChange = {}) {\n        const { currentValue, firstChange, previousValue } = indexChange;\n        if (!firstChange && isPresent(currentValue) && isPresent(previousValue)) {\n            this.navigationService.unregisterItem(this.id, previousValue);\n            this.navigationService.registerItem(this.id, currentValue, this.isDisabled);\n        }\n    }\n    disableNavigationItem(disableChange) {\n        if (!disableChange || disableChange.firstChange) {\n            return;\n        }\n        const service = this.navigationService;\n        if (this.isDisabled) {\n            service.activateClosest(this.index); //activate before unregister the item\n        }\n        else {\n            service.activateFocusable();\n        }\n        service.unregisterItem(this.id, this.index);\n        service.registerItem(this.id, this.index, this.isDisabled);\n    }\n    setAriaAttributes() {\n        this.setAttribute('aria-level', this.ib.level(this.index).toString());\n        this.setAttribute('aria-expanded', this.isExpanded.toString());\n        this.setAttribute('aria-selected', this.isSelected.toString());\n        this.setAttribute('aria-checked', this.ariaChecked);\n    }\n    setDisabledClass() {\n        this.setClass('k-state-disabled', this.isDisabled);\n    }\n    setClass(className, toggle) {\n        const action = toggle ? 'addClass' : 'removeClass';\n        this.renderer[action](this.element.nativeElement, className);\n    }\n    updateTabIndex() {\n        this.setAttribute('tabIndex', this.isFocusable() ? '0' : '-1');\n    }\n    setAttribute(attr, value) {\n        this.renderer.setAttribute(this.element.nativeElement, attr, value);\n    }\n}\nTreeViewItemDirective.ɵfac = function TreeViewItemDirective_Factory(t) { return new (t || TreeViewItemDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ExpandStateService), ɵngcc0.ɵɵdirectiveInject(NavigationService), ɵngcc0.ɵɵdirectiveInject(SelectionService), ɵngcc0.ɵɵdirectiveInject(TreeViewLookupService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(IndexBuilderService)); };\nTreeViewItemDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: TreeViewItemDirective, selectors: [[\"\", \"kendoTreeViewItem\", \"\"]], inputs: { isDisabled: \"isDisabled\", isChecked: \"isChecked\", isExpanded: \"isExpanded\", isSelected: \"isSelected\", dataItem: \"dataItem\", index: \"index\", parentDataItem: \"parentDataItem\", parentIndex: \"parentIndex\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nTreeViewItemDirective.ctorParameters = () => [\n    { type: ElementRef, },\n    { type: ExpandStateService, },\n    { type: NavigationService, },\n    { type: SelectionService, },\n    { type: TreeViewLookupService, },\n    { type: Renderer2, },\n    { type: IndexBuilderService, },\n];\nTreeViewItemDirective.propDecorators = {\n    'dataItem': [{ type: Input },],\n    'index': [{ type: Input },],\n    'parentDataItem': [{ type: Input },],\n    'parentIndex': [{ type: Input },],\n    'isChecked': [{ type: Input },],\n    'isDisabled': [{ type: Input },],\n    'isExpanded': [{ type: Input },],\n    'isSelected': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TreeViewItemDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewItem]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ExpandStateService }, { type: NavigationService }, { type: SelectionService }, { type: TreeViewLookupService }, { type: ɵngcc0.Renderer2 }, { type: IndexBuilderService }]; }, { isDisabled: [{\n            type: Input\n        }], isChecked: [{\n            type: Input\n        }], isExpanded: [{\n            type: Input\n        }], isSelected: [{\n            type: Input\n        }], dataItem: [{\n            type: Input\n        }], index: [{\n            type: Input\n        }], parentDataItem: [{\n            type: Input\n        }], parentIndex: [{\n            type: Input\n        }] }); })();\n\n/**\n * @hidden\n *\n * A directive which manages the expanded state of the TreeView.\n */\nclass TreeViewItemContentDirective {\n    constructor(element, navigationService, selectionService, renderer) {\n        this.element = element;\n        this.navigationService = navigationService;\n        this.selectionService = selectionService;\n        this.renderer = renderer;\n        this.initialSelection = false;\n        this.subscriptions = new Subscription$1(() => { });\n        this.subscriptions.add(this.navigationService.moves\n            .subscribe(this.updateItem.bind(this)));\n        this.subscriptions.add(this.navigationService.selects\n            .pipe(filter$1((index) => index === this.index))\n            .subscribe((index) => this.selectionService.select(index, this.dataItem)));\n        this.subscriptions.add(this.selectionService.changes\n            .subscribe(() => {\n            this.updateSelection(this.isSelected(this.dataItem, this.index));\n        }));\n    }\n    ngOnChanges(changes) {\n        if (changes.initialSelection) {\n            this.updateSelection(this.initialSelection);\n        }\n    }\n    ngOnInit() {\n        this.updateSelection(this.initialSelection);\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    updateItem() {\n        this.render(this.navigationService.isActive(this.index), 'k-state-focused');\n    }\n    updateSelection(selected) {\n        this.render(selected, 'k-state-selected');\n    }\n    render(addClass, className) {\n        const action = addClass ? 'addClass' : 'removeClass';\n        this.renderer[action](this.element.nativeElement, className);\n    }\n}\nTreeViewItemContentDirective.ɵfac = function TreeViewItemContentDirective_Factory(t) { return new (t || TreeViewItemContentDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(NavigationService), ɵngcc0.ɵɵdirectiveInject(SelectionService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nTreeViewItemContentDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: TreeViewItemContentDirective, selectors: [[\"\", \"kendoTreeViewItemContent\", \"\"]], inputs: { initialSelection: \"initialSelection\", dataItem: \"dataItem\", index: \"index\", isSelected: \"isSelected\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nTreeViewItemContentDirective.ctorParameters = () => [\n    { type: ElementRef, },\n    { type: NavigationService, },\n    { type: SelectionService, },\n    { type: Renderer2, },\n];\nTreeViewItemContentDirective.propDecorators = {\n    'dataItem': [{ type: Input },],\n    'index': [{ type: Input },],\n    'initialSelection': [{ type: Input },],\n    'isSelected': [{ type: Input },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TreeViewItemContentDirective, [{\n        type: Directive,\n        args: [{ selector: '[kendoTreeViewItemContent]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: NavigationService }, { type: SelectionService }, { type: ɵngcc0.Renderer2 }]; }, { initialSelection: [{\n            type: Input\n        }], dataItem: [{\n            type: Input\n        }], index: [{\n            type: Input\n        }], isSelected: [{\n            type: Input\n        }] }); })();\n\n/**\n * @hidden\n *\n * Represents the CheckBox component of the Kendo UI TreeView for Angular.\n *\n */\nclass CheckBoxComponent {\n    constructor(element, renderer, changeDetector) {\n        this.element = element;\n        this.renderer = renderer;\n        this.changeDetector = changeDetector;\n        /**\n         * Specifies the [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) of the component.\n         */\n        this.id = `_${guid()}`;\n        /**\n         * Specifies the [`tabindex`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) of the component.\n         */\n        this.tabindex = 0;\n        /**\n         * Fires when the user changes the check state of the component.\n         */\n        this.checkStateChange = new EventEmitter();\n        this.checkState = 'none';\n    }\n    //XXX: implement ComponentValueAccessor\n    //XXX: focus/blur methods\n    get classWrapper() { return true; }\n    get indeterminate() {\n        return this.checkState === 'indeterminate';\n    }\n    get checked() {\n        return this.checkState === 'checked';\n    }\n    ngOnInit() {\n        this.renderer.removeAttribute(this.element.nativeElement, \"tabindex\");\n    }\n    ngDoCheck() {\n        this.checkState = this.isChecked(this.node, this.index);\n    }\n    handleChange(e) {\n        const state = e.target.checked ? 'checked' : 'none';\n        // update the View State so that Angular updates the input if the isChecked value is the same\n        this.checkState = state;\n        this.changeDetector.detectChanges();\n        this.checkStateChange.emit(state);\n    }\n}\nCheckBoxComponent.ɵfac = function CheckBoxComponent_Factory(t) { return new (t || CheckBoxComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nCheckBoxComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CheckBoxComponent, selectors: [[\"kendo-checkbox\"]], hostVars: 2, hostBindings: function CheckBoxComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"k-checkbox-wrapper\", ctx.classWrapper);\n    } }, inputs: { id: \"id\", tabindex: \"tabindex\", isChecked: \"isChecked\", node: \"node\", index: \"index\", labelText: \"labelText\" }, outputs: { checkStateChange: \"checkStateChange\" }, decls: 3, vars: 6, consts: [[\"type\", \"checkbox\", 1, \"k-checkbox\", 3, \"id\", \"checked\", \"indeterminate\", \"tabindex\", \"change\"], [\"tabindex\", \"-1\", 1, \"k-checkbox-label\", 3, \"for\"]], template: function CheckBoxComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"input\", 0);\n        ɵngcc0.ɵɵlistener(\"change\", function CheckBoxComponent_Template_input_change_0_listener($event) { return ctx.handleChange($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(1, \"label\", 1);\n        ɵngcc0.ɵɵtext(2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"id\", ctx.id)(\"checked\", ctx.checked)(\"indeterminate\", ctx.indeterminate)(\"tabindex\", ctx.tabindex);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"for\", ctx.id);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate(ctx.labelText);\n    } }, encapsulation: 2 });\n/** @nocollapse */\nCheckBoxComponent.ctorParameters = () => [\n    { type: ElementRef, },\n    { type: Renderer2, },\n    { type: ChangeDetectorRef, },\n];\nCheckBoxComponent.propDecorators = {\n    'classWrapper': [{ type: HostBinding, args: ['class.k-checkbox-wrapper',] },],\n    'id': [{ type: Input },],\n    'isChecked': [{ type: Input },],\n    'node': [{ type: Input },],\n    'index': [{ type: Input },],\n    'labelText': [{ type: Input },],\n    'tabindex': [{ type: Input },],\n    'checkStateChange': [{ type: Output },],\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CheckBoxComponent, [{\n        type: Component,\n        args: [{\n                selector: 'kendo-checkbox',\n                template: `\n        <input\n            class=\"k-checkbox\"\n            type=\"checkbox\"\n            [id]=\"id\"\n            [checked]=\"checked\"\n            [indeterminate]=\"indeterminate\"\n            [tabindex]=\"tabindex\"\n            (change)=\"handleChange($event)\"\n        />\n        <label\n            class=\"k-checkbox-label\"\n            tabindex=\"-1\"\n            [for]=\"id\"\n        >{{labelText}}</label>\n    `\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ChangeDetectorRef }]; }, { id: [{\n            type: Input\n        }], tabindex: [{\n            type: Input\n        }], checkStateChange: [{\n            type: Output\n        }], classWrapper: [{\n            type: HostBinding,\n            args: ['class.k-checkbox-wrapper']\n        }], isChecked: [{\n            type: Input\n        }], node: [{\n            type: Input\n        }], index: [{\n            type: Input\n        }], labelText: [{\n            type: Input\n        }] }); })();\n\nconst COMPONENT_DIRECTIVES = [\n    CheckBoxComponent\n];\n/**\n * @hidden\n *\n * Represents the [NgModule]({{ site.data.urls.angular['ngmoduleapi'] }}) definition for the CheckBox component.\n */\nclass CheckBoxModule {\n}\nCheckBoxModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: CheckBoxModule });\nCheckBoxModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function CheckBoxModule_Factory(t) { return new (t || CheckBoxModule)(); } });\n/** @nocollapse */\nCheckBoxModule.ctorParameters = () => [];\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(CheckBoxModule, { declarations: [CheckBoxComponent], exports: [CheckBoxComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CheckBoxModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [COMPONENT_DIRECTIVES],\n                exports: [COMPONENT_DIRECTIVES]\n            }]\n    }], null, null); })();\n\nconst COMPONENT_DIRECTIVES$1 = [\n    TreeViewComponent,\n    TreeViewGroupComponent,\n    TreeViewItemDirective,\n    TreeViewItemContentDirective,\n    NodeTemplateDirective,\n    CheckDirective,\n    DisableDirective,\n    ExpandDirective,\n    SelectDirective,\n    HierarchyBindingDirective,\n    LoadingIndicatorDirective,\n    FlatDataBindingDirective\n];\n/**\n * @hidden\n */\nclass SharedModule {\n}\nSharedModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: SharedModule });\nSharedModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function SharedModule_Factory(t) { return new (t || SharedModule)(); }, imports: [[CommonModule, CheckBoxModule]] });\n/** @nocollapse */\nSharedModule.ctorParameters = () => [];\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(SharedModule, { declarations: function () { return [TreeViewComponent, TreeViewGroupComponent, TreeViewItemDirective, TreeViewItemContentDirective, NodeTemplateDirective, CheckDirective, DisableDirective, ExpandDirective, SelectDirective, HierarchyBindingDirective, LoadingIndicatorDirective, FlatDataBindingDirective]; }, imports: function () { return [CommonModule, CheckBoxModule]; }, exports: function () { return [TreeViewComponent, TreeViewGroupComponent, TreeViewItemDirective, TreeViewItemContentDirective, NodeTemplateDirective, CheckDirective, DisableDirective, ExpandDirective, SelectDirective, HierarchyBindingDirective, LoadingIndicatorDirective, FlatDataBindingDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SharedModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [COMPONENT_DIRECTIVES$1],\n                exports: [COMPONENT_DIRECTIVES$1],\n                imports: [CommonModule, CheckBoxModule]\n            }]\n    }], null, null); })();\n\nconst EXPORTS = [\n    TreeViewComponent,\n    NodeTemplateDirective,\n    CheckDirective,\n    DisableDirective,\n    ExpandDirective,\n    SelectDirective,\n    HierarchyBindingDirective,\n    FlatDataBindingDirective\n];\n/**\n * Represents the [NgModule]({{ site.data.urls.angular['ngmoduleapi'] }}) definition for the TreeView component.\n */\nclass TreeViewModule {\n}\nTreeViewModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: TreeViewModule });\nTreeViewModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function TreeViewModule_Factory(t) { return new (t || TreeViewModule)(); }, imports: [[SharedModule]] });\n/** @nocollapse */\nTreeViewModule.ctorParameters = () => [];\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TreeViewModule, { imports: [SharedModule], exports: [TreeViewComponent, NodeTemplateDirective, CheckDirective, DisableDirective, ExpandDirective, SelectDirective, HierarchyBindingDirective, FlatDataBindingDirective] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TreeViewModule, [{\n        type: NgModule,\n        args: [{\n                exports: [EXPORTS],\n                imports: [SharedModule]\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CheckBoxComponent, CheckBoxModule, DataChangeNotificationService, ExpandStateService, IndexBuilderService, LoadingIndicatorDirective, LoadingNotificationService, NavigationService, NodeChildrenService, SelectionService, SharedModule, TreeViewGroupComponent, TreeViewItemContentDirective, TreeViewItemDirective, TreeViewLookupService, TreeViewComponent, TreeViewModule, NodeTemplateDirective, CheckDirective, DisableDirective, ExpandDirective, SelectDirective, HierarchyBindingDirective, FlatDataBindingDirective };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OzJJQUtFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O2tDQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztzSEFHRTtBQUNGO0FBQ0E7OztnREFBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O3lIQUdFO0FBQ0Y7QUFDQTs7O2dEQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OzhJQUdFO0FBQ0Y7QUFDQTs7O2dEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O3lIQUdFO0FBQ0Y7QUFDQTs7O2dEQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O21IQUdFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7OztvRkFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2dIQUdFO0FBQ0Y7QUFDQTs7O2dEQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzsrSEFHRTtBQUNGO0FBQ0E7OztnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OzJGQTBCRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7ZUE2RkU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzsrV0FHRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7NlJBR0U7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OzhSQUdFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O2lPQUdFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzttTUFHRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O2lFQUdFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OzZRQUdFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O29CQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztrWUFHRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O21UQUdFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztvQkFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs2QkFxQkU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7dUlBTUU7QUFDRjtBQUNBOzs7Ozs7OzswQkFBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7NEtBT0U7QUFDRjtBQUNBOzs7Ozs7Ozs7MEJBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztrS0FNRTtBQUNGO0FBQ0E7Ozs7Ozs7OzBCQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgQ29udGVudENoaWxkLCBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSG9zdEJpbmRpbmcsIEluamVjdGFibGUsIElucHV0LCBOZ01vZHVsZSwgTmdab25lLCBPcHRpb25hbCwgT3V0cHV0LCBSZW5kZXJlcjIsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMMTBOX1BSRUZJWCwgTG9jYWxpemF0aW9uU2VydmljZSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1hbmd1bGFyLWwxMG4nO1xuaW1wb3J0IHsgU3ViamVjdCBhcyBTdWJqZWN0JDEgfSBmcm9tICdyeGpzL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIGFzIFN1YnNjcmlwdGlvbiQxIH0gZnJvbSAncnhqcy9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IGFzIEJlaGF2aW9yU3ViamVjdCQxIH0gZnJvbSAncnhqcy9CZWhhdmlvclN1YmplY3QnO1xuaW1wb3J0IHsgb2YgYXMgb2YkMSB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyBhbmltYXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHkkMSB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9lbXB0eSc7XG5pbXBvcnQgeyBjYXRjaEVycm9yIGFzIGNhdGNoRXJyb3IkMSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzL2NhdGNoRXJyb3InO1xuaW1wb3J0IHsgdGFwIGFzIHRhcCQxIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMvdGFwJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBmaWx0ZXIgYXMgZmlsdGVyJDEgfSBmcm9tICdyeGpzL29wZXJhdG9ycy9maWx0ZXInO1xuaW1wb3J0IHsgdGFrZSBhcyB0YWtlJDEgfSBmcm9tICdyeGpzL29wZXJhdG9ycy90YWtlJztcbmltcG9ydCB7IHN3aXRjaE1hcCBhcyBzd2l0Y2hNYXAkMSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzL3N3aXRjaE1hcCc7XG5pbXBvcnQgeyBtYXAgYXMgbWFwJDEgfSBmcm9tICdyeGpzL29wZXJhdG9ycy9tYXAnO1xuaW1wb3J0IHsgbWVyZ2UgYXMgbWVyZ2UkMSB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9tZXJnZSc7XG5pbXBvcnQgeyBkZWxheSBhcyBkZWxheSQxIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMvZGVsYXknO1xuaW1wb3J0IHsgdGFrZVVudGlsIGFzIHRha2VVbnRpbCQxIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMvdGFrZVVudGlsJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB0ZW1wbGF0ZSBmb3IgdGhlIFRyZWVWaWV3IG5vZGVzIChbbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZV0oeyUgc2x1ZyBub2RldGVtcGxhdGVfdHJlZXZpZXcgJX0pKS5cbiAqIFRoZSB0ZW1wbGF0ZSBoZWxwcyB0byBjdXN0b21pemUgdGhlIGNvbnRlbnQgb2YgdGhlIG5vZGVzLiBUbyBkZWZpbmUgdGhlIG5vZGUgdGVtcGxhdGUsIG5lc3QgYW4gYDxuZy10ZW1wbGF0ZT5gXG4gKiB0YWcgd2l0aCB0aGUgYGtlbmRvVHJlZVZpZXdOb2RlVGVtcGxhdGVgIGRpcmVjdGl2ZSBpbnNpZGUgYSBgPGtlbmRvLXRyZWV2aWV3PmAgdGFnLiBUaGUgdGVtcGxhdGUgY29udGV4dCBpcyBzZXRcbiAqIHRvIHRoZSBkYXRhIGl0ZW0gb2YgdGhlIGN1cnJlbnQgbm9kZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqXG4gKiAgaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICAgIHNlbGVjdG9yOiAnbXktYXBwJyxcbiAqICAgICAgdGVtcGxhdGU6IGBcbiAqICAgICAgPGtlbmRvLXRyZWV2aWV3XG4gKiAgICAgICAgICBbbm9kZXNdPVwiZGF0YVwiXG4gKiAgICAgICAgICBrZW5kb1RyZWVWaWV3RXhwYW5kYWJsZVxuICpcbiAqICAgICAgICAgIGtlbmRvVHJlZVZpZXdIaWVyYXJjaHlCaW5kaW5nXG4gKiAgICAgICAgICBjaGlsZHJlbkZpZWxkPVwiaXRlbXNcIj5cbiAqICAgICAgICA8bmctdGVtcGxhdGUga2VuZG9UcmVlVmlld05vZGVUZW1wbGF0ZSBsZXQtZGF0YUl0ZW0+XG4gKiAgICAgICAgICA8c3BhbiBbc3R5bGUuZm9udFdlaWdodF09XCJkYXRhSXRlbS5pdGVtcyA/ICdib2xkZXInOiAnbm9ybWFsJyBcIj57e2RhdGFJdGVtLnRleHR9fTwvc3Bhbj5cbiAqICAgICAgICA8L25nLXRlbXBsYXRlPlxuICogICAgICA8L2tlbmRvLXRyZWV2aWV3PlxuICogICAgYFxuICogIH0pXG4gKiAgZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XG4gKiAgICAgIHB1YmxpYyBkYXRhOiBhbnlbXSA9IFtcbiAqICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICB0ZXh0OiBcIkluYm94XCIsXG4gKiAgICAgICAgICAgICAgaXRlbXM6IFt7IHRleHQ6IFwiUmVhZCBNYWlsXCIgfV1cbiAqICAgICAgICAgIH0sXG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgdGV4dDogXCJEcmFmdHNcIlxuICogICAgICAgICAgfSxcbiAqICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICB0ZXh0OiBcIlNlYXJjaCBGb2xkZXJzXCIsXG4gKiAgICAgICAgICAgICAgaXRlbXM6IFtcbiAqICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBcIkNhdGVnb3JpemVkIE1haWxcIiB9LFxuICogICAgICAgICAgICAgICAgICB7IHRleHQ6IFwiTGFyZ2UgTWFpbFwiIH0sXG4gKiAgICAgICAgICAgICAgICAgIHsgdGV4dDogXCJVbnJlYWQgTWFpbFwifVxuICogICAgICAgICAgICAgIF1cbiAqICAgICAgICAgIH0sXG4gKiAgICAgICAgICB7IHRleHQ6IFwiU2V0dGluZ3NcIiB9XG4gKiAgICAgIF07XG4gKiAgfVxuICpcbiAqIGBgYFxuICovXG5jbGFzcyBOb2RlVGVtcGxhdGVEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlUmVmKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZVJlZjtcbiAgICB9XG59XG5Ob2RlVGVtcGxhdGVEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1trZW5kb1RyZWVWaWV3Tm9kZVRlbXBsYXRlXSdcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuTm9kZVRlbXBsYXRlRGlyZWN0aXZlLmN0b3JQYXJhbWV0ZXJzID0gKCkgPT4gW1xuICAgIHsgdHlwZTogVGVtcGxhdGVSZWYsIGRlY29yYXRvcnM6IFt7IHR5cGU6IE9wdGlvbmFsIH0sXSB9LFxuXTtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEV4cGFuZFN0YXRlU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IG5ldyBTdWJqZWN0JDEoKTtcbiAgICB9XG4gICAgZXhwYW5kKGluZGV4LCBkYXRhSXRlbSkge1xuICAgICAgICB0aGlzLmNoYW5nZXMubmV4dCh7IGRhdGFJdGVtLCBpbmRleCwgZXhwYW5kOiB0cnVlIH0pO1xuICAgIH1cbiAgICBjb2xsYXBzZShpbmRleCwgZGF0YUl0ZW0pIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzLm5leHQoeyBkYXRhSXRlbSwgaW5kZXgsIGV4cGFuZDogZmFsc2UgfSk7XG4gICAgfVxufVxuRXhwYW5kU3RhdGVTZXJ2aWNlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5FeHBhbmRTdGF0ZVNlcnZpY2UuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXTtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEluZGV4QnVpbGRlclNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLklOREVYX1NFUEFSQVRPUiA9ICdfJztcbiAgICB9XG4gICAgbm9kZUluZGV4KGluZGV4ID0gJycsIHBhcmVudEluZGV4ID0gJycpIHtcbiAgICAgICAgcmV0dXJuIGAke3BhcmVudEluZGV4fSR7cGFyZW50SW5kZXggPyB0aGlzLklOREVYX1NFUEFSQVRPUiA6ICcnfSR7aW5kZXh9YDtcbiAgICB9XG4gICAgaW5kZXhGb3JMZXZlbChpbmRleCwgbGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4LnNwbGl0KHRoaXMuSU5ERVhfU0VQQVJBVE9SKS5zbGljZSgwLCBsZXZlbCkuam9pbih0aGlzLklOREVYX1NFUEFSQVRPUik7XG4gICAgfVxuICAgIGxhc3RMZXZlbEluZGV4KGluZGV4ID0gJycpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBpbmRleC5zcGxpdCh0aGlzLklOREVYX1NFUEFSQVRPUik7XG4gICAgICAgIGlmICghcGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZUludChwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSwgMTApO1xuICAgIH1cbiAgICBsZXZlbChpbmRleCkge1xuICAgICAgICByZXR1cm4gaW5kZXguc3BsaXQodGhpcy5JTkRFWF9TRVBBUkFUT1IpLmxlbmd0aDtcbiAgICB9XG59XG5JbmRleEJ1aWxkZXJTZXJ2aWNlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5JbmRleEJ1aWxkZXJTZXJ2aWNlLmN0b3JQYXJhbWV0ZXJzID0gKCkgPT4gW107XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5jbGFzcyBMb2FkaW5nTm90aWZpY2F0aW9uU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IG5ldyBTdWJqZWN0JDEoKTtcbiAgICB9XG4gICAgbm90aWZ5TG9hZGVkKGluZGV4KSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5uZXh0KGluZGV4KTtcbiAgICB9XG59XG5Mb2FkaW5nTm90aWZpY2F0aW9uU2VydmljZS5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuTG9hZGluZ05vdGlmaWNhdGlvblNlcnZpY2UuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXTtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIE5vZGVDaGlsZHJlblNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBuZXcgU3ViamVjdCQxKCk7XG4gICAgfVxuICAgIGNoaWxkcmVuTG9hZGVkKGl0ZW0sIGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5uZXh0KHsgaXRlbSwgY2hpbGRyZW4gfSk7XG4gICAgfVxufVxuTm9kZUNoaWxkcmVuU2VydmljZS5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuTm9kZUNoaWxkcmVuU2VydmljZS5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtdO1xuXG5jb25zdCBmb2N1c2FibGVSZWdleCA9IC9eKD86YXxpbnB1dHxzZWxlY3R8b3B0aW9ufHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC9pO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IG1hdGNoID0gKGVsZW1lbnQsIHNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgbWF0Y2hlciA9IGVsZW1lbnQubWF0Y2hlcyB8fCBlbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuICAgIGlmICghbWF0Y2hlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVyLmNhbGwoZWxlbWVudCwgc2VsZWN0b3IpO1xufTtcbmNvbnN0IGNsb3Nlc3RXaXRoTWF0Y2ggPSAoZWxlbWVudCwgc2VsZWN0b3IpID0+IHtcbiAgICBpZiAoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCAmJiBwYXJlbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgaWYgKG1hdGNoKHBhcmVudCwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50IHx8IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3Qgbm9vcCA9ICgpID0+IHsgfTtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBpc1ByZXNlbnQgPSAodmFsdWUpID0+IHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgaXNCbGFuayA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBpc0FycmF5ID0gKHZhbHVlKSA9PiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBpc051bGxPckVtcHR5U3RyaW5nID0gKHZhbHVlKSA9PiBpc0JsYW5rKHZhbHVlKSB8fCB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGlzRG9jdW1lbnRBdmFpbGFibGUgPSAoKSA9PiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGhhc09ic2VydmVycyA9IChlbWl0dGVyKSA9PiBlbWl0dGVyLm9ic2VydmVycy5sZW5ndGggPiAwO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGlzQ2hhbmdlZCA9IChwcm9wZXJ0eU5hbWUsIGNoYW5nZXMsIHNraXBGaXJzdENoYW5nZSA9IHRydWUpID0+IChjaGFuZ2VzW3Byb3BlcnR5TmFtZV0gJiYgKCFjaGFuZ2VzW3Byb3BlcnR5TmFtZV0uaXNGaXJzdENoYW5nZSgpIHx8ICFza2lwRmlyc3RDaGFuZ2UpICYmXG4gICAgY2hhbmdlc1twcm9wZXJ0eU5hbWVdLnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXNbcHJvcGVydHlOYW1lXS5jdXJyZW50VmFsdWUpO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGNsb3Nlc3ROb2RlID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBzZWxlY3RvciA9ICdsaS5rLXRyZWV2aWV3LWl0ZW0nO1xuICAgIGlmICghaXNEb2N1bWVudEF2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5jbG9zZXN0KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNsb3Nlc3RXaXRoTWF0Y2goZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgIH1cbn07XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgaXNGb2N1c2FibGUgPSAoZWxlbWVudCkgPT4ge1xuICAgIGlmIChlbGVtZW50LnRhZ05hbWUpIHtcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCB0YWJJbmRleCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0YWJJbmRleCcpO1xuICAgICAgICBjb25zdCBza2lwVGFiID0gdGFiSW5kZXggPT09ICctMSc7XG4gICAgICAgIGxldCBmb2N1c2FibGUgPSB0YWJJbmRleCAhPT0gbnVsbCAmJiAhc2tpcFRhYjtcbiAgICAgICAgaWYgKGZvY3VzYWJsZVJlZ2V4LnRlc3QodGFnTmFtZSkpIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZSA9ICFlbGVtZW50LmRpc2FibGVkICYmICFza2lwVGFiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb2N1c2FibGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgaXNDb250ZW50ID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBzY29wZVNlbGVjdG9yID0gJy5rLWluLC5rLXRyZWV2aWV3LWl0ZW0sLmstdHJlZXZpZXcnO1xuICAgIGlmICghaXNEb2N1bWVudEF2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgbm9kZSA9IGVsZW1lbnQ7XG4gICAgd2hpbGUgKG5vZGUgJiYgIW1hdGNoKG5vZGUsIHNjb3BlU2VsZWN0b3IpKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIGlmIChub2RlKSB7XG4gICAgICAgIHJldHVybiBtYXRjaChub2RlLCAnLmstaW4nKTtcbiAgICB9XG59O1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGNsb3Nlc3QgPSAobm9kZSwgcHJlZGljYXRlKSA9PiB7XG4gICAgd2hpbGUgKG5vZGUgJiYgIXByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn07XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgaGFzUGFyZW50ID0gKGVsZW1lbnQsIGNvbnRhaW5lcikgPT4ge1xuICAgIHJldHVybiBCb29sZWFuKGNsb3Nlc3QoZWxlbWVudCwgKG5vZGUpID0+IG5vZGUgPT09IGNvbnRhaW5lcikpO1xufTtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBmb2N1c2FibGVOb2RlID0gKGVsZW1lbnQpID0+IGVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsaVt0YWJpbmRleD1cIjBcIl0nKTtcbi8qKlxuICogQGhpZGRlblxuICovXG5cbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBub2RlSWQgPSAobm9kZSkgPT4gbm9kZSA/IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXRyZWVpbmRleCcpIDogJyc7XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3Qgbm9kZUluZGV4ID0gKGl0ZW0pID0+IChpdGVtIHx8IHt9KS5pbmRleDtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBndWlkID0gKCkgPT4ge1xuICAgIGxldCBpZCA9IFwiXCIsIHJhbmRvbTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgcmFuZG9tID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgIGlmIChpID09PSA4IHx8IGkgPT09IDEyIHx8IGkgPT09IDE2IHx8IGkgPT09IDIwKSB7XG4gICAgICAgICAgICBpZCArPSBcIi1cIjtcbiAgICAgICAgfVxuICAgICAgICBpZCArPSAoaSA9PT0gMTIgPyA0IDogKGkgPT09IDE2ID8gKHJhbmRvbSAmIDMgfCA4KSA6IHJhbmRvbSkpLnRvU3RyaW5nKDE2KTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgfVxuICAgIHJldHVybiBpZDtcbn07XG5cbmNvbnN0IGxhc3QgPSAobGlzdCkgPT4gbGlzdFtsaXN0Lmxlbmd0aCAtIDFdO1xuY29uc3Qgc2FmZSA9IG5vZGUgPT4gKG5vZGUgfHwge30pO1xuY29uc3Qgc2FmZUNoaWxkcmVuID0gbm9kZSA9PiAoc2FmZShub2RlKS5jaGlsZHJlbiB8fCBbXSk7XG5jb25zdCBmaW5kTGFzdCA9IG5vZGUgPT4ge1xuICAgIGxldCBsYXN0Tm9kZSA9IG5vZGU7XG4gICAgbGV0IGNoaWxkcmVuID0gW10uY29uY2F0KHNhZmVDaGlsZHJlbihub2RlKSk7XG4gICAgd2hpbGUgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdChzYWZlQ2hpbGRyZW4obGFzdChjaGlsZHJlbikpKTtcbiAgICAgICAgbGFzdE5vZGUgPSBjaGlsZHJlbi5zaGlmdCgpO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdE5vZGU7XG59O1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIE5hdmlnYXRpb25Nb2RlbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaWIgPSBuZXcgSW5kZXhCdWlsZGVyU2VydmljZSgpO1xuICAgICAgICB0aGlzLm5vZGVzID0gW107XG4gICAgfVxuICAgIGZpcnN0Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXNbMF0gfHwgbnVsbDtcbiAgICB9XG4gICAgbGFzdE5vZGUoKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmRMYXN0KGxhc3QodGhpcy5jb250YWluZXIobm9kZSkpKSB8fCBub2RlO1xuICAgIH1cbiAgICBjbG9zZXN0Tm9kZShpbmRleCkge1xuICAgICAgICBjb25zdCB7IHByZXYgfSA9IHNhZmUodGhpcy5maW5kTm9kZShpbmRleCkpO1xuICAgICAgICBjb25zdCBzaWJsaW5nID0gcHJldiB8fCB0aGlzLmZpcnN0Tm9kZSgpO1xuICAgICAgICByZXR1cm4gc2FmZShzaWJsaW5nKS5pbmRleCA9PT0gaW5kZXggPyB0aGlzLnNpYmxpbmcoc2libGluZywgMSkgOiBzaWJsaW5nO1xuICAgIH1cbiAgICBmaW5kTm9kZShpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKGluZGV4LCB0aGlzLm5vZGVzKTtcbiAgICB9XG4gICAgZmluZFBhcmVudChpbmRleCkge1xuICAgICAgICBjb25zdCBwYXJlbnRMZXZlbCA9IHRoaXMuaWIubGV2ZWwoaW5kZXgpIC0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZE5vZGUodGhpcy5pYi5pbmRleEZvckxldmVsKGluZGV4LCBwYXJlbnRMZXZlbCkpO1xuICAgIH1cbiAgICBmaW5kQ2hpbGQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHNhZmVDaGlsZHJlbih0aGlzLmZpbmROb2RlKGluZGV4KSlbMF0gfHwgbnVsbDtcbiAgICB9XG4gICAgZmluZFByZXYoaXRlbSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGl0ZW0uaW5kZXg7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZmluZFBhcmVudChpbmRleCk7XG4gICAgICAgIGNvbnN0IGxldmVsSW5kZXggPSB0aGlzLmliLmxhc3RMZXZlbEluZGV4KGluZGV4KTtcbiAgICAgICAgaWYgKGxldmVsSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmZpbmROb2RlKGluZGV4KTtcbiAgICAgICAgbGV0IHByZXYgPSB0aGlzLnNpYmxpbmcoY3VycmVudE5vZGUsIC0xKTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMuY29udGFpbmVyKHByZXYpO1xuICAgICAgICAgICAgd2hpbGUgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gbGFzdChjaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSB0aGlzLmNvbnRhaW5lcihwcmV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldjtcbiAgICB9XG4gICAgZmluZE5leHQoaXRlbSkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY29udGFpbmVyKGl0ZW0pO1xuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaWJsaW5nKGl0ZW0sIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9XG4gICAgcmVnaXN0ZXJJdGVtKGlkLCBpbmRleCwgZGlzYWJsZWQpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSB0aGlzLmliLmxldmVsKGluZGV4KTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5maW5kUGFyZW50KGluZGV4KTtcbiAgICAgICAgaWYgKHBhcmVudCB8fCBsZXZlbCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHsgaWQsIGNoaWxkcmVuLCBpbmRleCwgcGFyZW50LCBkaXNhYmxlZCB9O1xuICAgICAgICAgICAgdGhpcy5pbnNlcnQobm9kZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnJlZ2lzdGVySXRlbShpZCwgaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZmluZChpbmRleCwgdGhpcy5ub2Rlcyk7XG4gICAgICAgIGlmICghbm9kZSB8fCBub2RlLmlkICE9PSBpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jb250YWluZXIobm9kZS5wYXJlbnQpO1xuICAgICAgICBjaGlsZHJlbi5zcGxpY2UoY2hpbGRyZW4uaW5kZXhPZihub2RlKSwgMSk7XG4gICAgfVxuICAgIGNoaWxkTGV2ZWwobm9kZXMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBub2Rlcy5maWx0ZXIobm9kZSA9PiBpc1ByZXNlbnQobm9kZSkpO1xuICAgICAgICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmliLmxldmVsKGNoaWxkcmVuWzBdLmluZGV4KTtcbiAgICB9XG4gICAgY29udGFpbmVyKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgPyBub2RlLmNoaWxkcmVuIDogdGhpcy5ub2RlcztcbiAgICB9XG4gICAgZmluZChpbmRleCwgbm9kZXMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRMZXZlbCA9IHRoaXMuY2hpbGRMZXZlbChub2Rlcyk7XG4gICAgICAgIGNvbnN0IGluZGV4VG9NYXRjaCA9IHRoaXMuaWIuaW5kZXhGb3JMZXZlbChpbmRleCwgY2hpbGRMZXZlbCk7XG4gICAgICAgIGNvbnN0IGlzTGVhZiA9IGNoaWxkTGV2ZWwgPT09IHRoaXMuaWIubGV2ZWwoaW5kZXgpO1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXMuZmluZChuID0+IG4gJiYgbi5pbmRleCA9PT0gaW5kZXhUb01hdGNoKTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNMZWFmID8gbm9kZSA6IHRoaXMuZmluZChpbmRleCwgbm9kZS5jaGlsZHJlbik7XG4gICAgfVxuICAgIGluc2VydChub2RlLCBwYXJlbnQpIHtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLmNvbnRhaW5lcihwYXJlbnQpO1xuICAgICAgICBub2Rlc1t0aGlzLmliLmxhc3RMZXZlbEluZGV4KG5vZGUuaW5kZXgpXSA9IG5vZGU7XG4gICAgfVxuICAgIHNpYmxpbmcobm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5maW5kUGFyZW50KG5vZGUuaW5kZXgpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcihwYXJlbnQpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyW2NvbnRhaW5lci5pbmRleE9mKG5vZGUpICsgb2Zmc2V0XSB8fCB0aGlzLnNpYmxpbmcocGFyZW50LCBvZmZzZXQpIHx8IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xudmFyIEtleXM7XG4oZnVuY3Rpb24gKEtleXMpIHtcbiAgICBLZXlzW0tleXNbXCJlbnRlclwiXSA9IDEzXSA9IFwiZW50ZXJcIjtcbiAgICBLZXlzW0tleXNbXCJzaGlmdFwiXSA9IDE2XSA9IFwic2hpZnRcIjtcbiAgICBLZXlzW0tleXNbXCJzcGFjZVwiXSA9IDMyXSA9IFwic3BhY2VcIjtcbiAgICBLZXlzW0tleXNbXCJlbmRcIl0gPSAzNV0gPSBcImVuZFwiO1xuICAgIEtleXNbS2V5c1tcImhvbWVcIl0gPSAzNl0gPSBcImhvbWVcIjtcbiAgICBLZXlzW0tleXNbXCJsZWZ0XCJdID0gMzddID0gXCJsZWZ0XCI7XG4gICAgS2V5c1tLZXlzW1widXBcIl0gPSAzOF0gPSBcInVwXCI7XG4gICAgS2V5c1tLZXlzW1wicmlnaHRcIl0gPSAzOV0gPSBcInJpZ2h0XCI7XG4gICAgS2V5c1tLZXlzW1wiZG93blwiXSA9IDQwXSA9IFwiZG93blwiO1xufSkoS2V5cyB8fCAoS2V5cyA9IHt9KSk7XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5jbGFzcyBOYXZpZ2F0aW9uU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IobG9jYWxpemF0aW9uKSB7XG4gICAgICAgIHRoaXMubG9jYWxpemF0aW9uID0gbG9jYWxpemF0aW9uO1xuICAgICAgICB0aGlzLmV4cGFuZHMgPSBuZXcgU3ViamVjdCQxKCk7XG4gICAgICAgIHRoaXMubW92ZXMgPSBuZXcgU3ViamVjdCQxKCk7XG4gICAgICAgIHRoaXMuY2hlY2tzID0gbmV3IFN1YmplY3QkMSgpO1xuICAgICAgICB0aGlzLnNlbGVjdHMgPSBuZXcgU3ViamVjdCQxKCk7XG4gICAgICAgIHRoaXMubmF2aWdhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0ge1xuICAgICAgICAgICAgW0tleXMudXBdOiAoKSA9PiB0aGlzLmFjdGl2YXRlKHRoaXMubW9kZWwuZmluZFByZXYodGhpcy5mb2N1c2FibGVJdGVtKSksXG4gICAgICAgICAgICBbS2V5cy5kb3duXTogKCkgPT4gdGhpcy5hY3RpdmF0ZSh0aGlzLm1vZGVsLmZpbmROZXh0KHRoaXMuZm9jdXNhYmxlSXRlbSkpLFxuICAgICAgICAgICAgW0tleXMubGVmdF06ICgpID0+ICh0aGlzLmV4cGFuZCh7XG4gICAgICAgICAgICAgICAgZXhwYW5kOiB0aGlzLmxvY2FsaXphdGlvbi5ydGwsXG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0OiB0aGlzLmxvY2FsaXphdGlvbi5ydGwgPyB0aGlzLm1vdmVUb0NoaWxkIDogdGhpcy5tb3ZlVG9QYXJlbnRcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIFtLZXlzLnJpZ2h0XTogKCkgPT4gKHRoaXMuZXhwYW5kKHtcbiAgICAgICAgICAgICAgICBleHBhbmQ6ICF0aGlzLmxvY2FsaXphdGlvbi5ydGwsXG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0OiB0aGlzLmxvY2FsaXphdGlvbi5ydGwgPyB0aGlzLm1vdmVUb1BhcmVudCA6IHRoaXMubW92ZVRvQ2hpbGRcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIFtLZXlzLmhvbWVdOiAoKSA9PiB0aGlzLmFjdGl2YXRlKHRoaXMubW9kZWwuZmlyc3ROb2RlKCkpLFxuICAgICAgICAgICAgW0tleXMuZW5kXTogKCkgPT4gdGhpcy5hY3RpdmF0ZSh0aGlzLm1vZGVsLmxhc3ROb2RlKCkpLFxuICAgICAgICAgICAgW0tleXMuZW50ZXJdOiAoKSA9PiB0aGlzLm5hdmlnYWJsZSAmJiB0aGlzLnNlbGVjdEluZGV4KG5vZGVJbmRleCh0aGlzLmFjdGl2ZUl0ZW0pKSxcbiAgICAgICAgICAgIFtLZXlzLnNwYWNlXTogKCkgPT4gdGhpcy5uYXZpZ2FibGUgJiYgdGhpcy5jaGVja0luZGV4KG5vZGVJbmRleCh0aGlzLmFjdGl2ZUl0ZW0pKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tb2RlbCA9IG5ldyBOYXZpZ2F0aW9uTW9kZWwoKTtcbiAgICAgICAgdGhpcy5tb3ZlVG9DaGlsZCA9IHRoaXMubW92ZVRvQ2hpbGQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5tb3ZlVG9QYXJlbnQgPSB0aGlzLm1vdmVUb1BhcmVudC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBnZXQgbW9kZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG4gICAgc2V0IG1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIGdldCBhY3RpdmVJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVJbmRleCh0aGlzLmFjdGl2ZUl0ZW0pIHx8IG51bGw7XG4gICAgfVxuICAgIGdldCBmb2N1c2FibGVJdGVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVJdGVtIHx8IHRoaXMubW9kZWwuZmlyc3ROb2RlKCk7XG4gICAgfVxuICAgIGdldCBpc0FjdGl2ZUV4cGFuZGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVJdGVtICYmIHRoaXMuYWN0aXZlSXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwO1xuICAgIH1cbiAgICBhY3RpdmF0ZShpdGVtKSB7XG4gICAgICAgIGlmICghdGhpcy5uYXZpZ2FibGUgfHwgIWl0ZW0gfHwgdGhpcy5pc0FjdGl2ZShub2RlSW5kZXgoaXRlbSkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSBpdGVtIHx8IHRoaXMuYWN0aXZlSXRlbTtcbiAgICAgICAgdGhpcy5ub3RpZnlNb3ZlKCk7XG4gICAgfVxuICAgIGFjdGl2YXRlUGFyZW50KGluZGV4KSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUodGhpcy5tb2RlbC5maW5kUGFyZW50KGluZGV4KSk7XG4gICAgfVxuICAgIGFjdGl2YXRlSW5kZXgoaW5kZXgpIHtcbiAgICAgICAgaWYgKCFpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZhdGUodGhpcy5tb2RlbC5maW5kTm9kZShpbmRleCkpO1xuICAgIH1cbiAgICBhY3RpdmF0ZUNsb3Nlc3QoaW5kZXgpIHtcbiAgICAgICAgaWYgKCFpbmRleCB8fCBub2RlSW5kZXgodGhpcy5mb2N1c2FibGVJdGVtKSAhPT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSB0aGlzLm1vZGVsLmNsb3Nlc3ROb2RlKGluZGV4KTtcbiAgICAgICAgdGhpcy5ub3RpZnlNb3ZlKCk7XG4gICAgfVxuICAgIGFjdGl2YXRlRm9jdXNhYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVJdGVtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVJdGVtID0gdGhpcy5tb2RlbC5maXJzdE5vZGUoKTtcbiAgICAgICAgdGhpcy5ub3RpZnlNb3ZlKCk7XG4gICAgfVxuICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5uYXZpZ2FibGUgfHwgIXRoaXMuaXNGb2N1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub3RpZnlNb3ZlKCk7XG4gICAgfVxuICAgIGNoZWNrSW5kZXgoaW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzYWJsZWQoaW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5uZXh0KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RJbmRleChpbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZChpbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0cy5uZXh0KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0FjdGl2ZShpbmRleCkge1xuICAgICAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNGb2N1c2VkICYmIHRoaXMuYWN0aXZlSW5kZXggPT09IGluZGV4O1xuICAgIH1cbiAgICBpc0ZvY3VzYWJsZShpbmRleCkge1xuICAgICAgICByZXR1cm4gbm9kZUluZGV4KHRoaXMuZm9jdXNhYmxlSXRlbSkgPT09IGluZGV4O1xuICAgIH1cbiAgICBpc0Rpc2FibGVkKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmZpbmROb2RlKGluZGV4KS5kaXNhYmxlZDtcbiAgICB9XG4gICAgcmVnaXN0ZXJJdGVtKGlkLCBpbmRleCwgZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5yZWdpc3Rlckl0ZW0oaWQsIGluZGV4LCBkaXNhYmxlZCk7XG4gICAgfVxuICAgIHVucmVnaXN0ZXJJdGVtKGlkLCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZShpbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVQYXJlbnQoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwudW5yZWdpc3Rlckl0ZW0oaWQsIGluZGV4KTtcbiAgICB9XG4gICAgbW92ZShlKSB7XG4gICAgICAgIGlmICghdGhpcy5uYXZpZ2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb3ZlQWN0aW9uID0gdGhpcy5hY3Rpb25zW2Uua2V5Q29kZV07XG4gICAgICAgIGlmICghbW92ZUFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1vdmVBY3Rpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBleHBhbmQoeyBleHBhbmQsIGludGVyY2VwdCB9KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbm9kZUluZGV4KHRoaXMuYWN0aXZlSXRlbSk7XG4gICAgICAgIGlmICghaW5kZXggfHwgaW50ZXJjZXB0KGluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm90aWZ5RXhwYW5kKGV4cGFuZCk7XG4gICAgfVxuICAgIG1vdmVUb1BhcmVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmVFeHBhbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZhdGUodGhpcy5tb2RlbC5maW5kUGFyZW50KG5vZGVJbmRleCh0aGlzLmFjdGl2ZUl0ZW0pKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBtb3ZlVG9DaGlsZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlRXhwYW5kZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlKHRoaXMubW9kZWwuZmluZENoaWxkKG5vZGVJbmRleCh0aGlzLmFjdGl2ZUl0ZW0pKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBub3RpZnlFeHBhbmQoZXhwYW5kKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kcy5uZXh0KHRoaXMubmF2aWdhdGlvblN0YXRlKGV4cGFuZCkpO1xuICAgIH1cbiAgICBub3RpZnlNb3ZlKCkge1xuICAgICAgICB0aGlzLm1vdmVzLm5leHQodGhpcy5uYXZpZ2F0aW9uU3RhdGUoKSk7XG4gICAgfVxuICAgIG5hdmlnYXRpb25TdGF0ZShleHBhbmQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gKHsgZXhwYW5kLCBpbmRleDogbm9kZUluZGV4KHRoaXMuYWN0aXZlSXRlbSksIGlzRm9jdXNlZDogdGhpcy5pc0ZvY3VzZWQgfSk7XG4gICAgfVxufVxuTmF2aWdhdGlvblNlcnZpY2UuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IEluamVjdGFibGUgfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbk5hdmlnYXRpb25TZXJ2aWNlLmN0b3JQYXJhbWV0ZXJzID0gKCkgPT4gW1xuICAgIHsgdHlwZTogTG9jYWxpemF0aW9uU2VydmljZSwgfSxcbl07XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5jbGFzcyBTZWxlY3Rpb25TZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gbmV3IFN1YmplY3QkMSgpO1xuICAgIH1cbiAgICBpc0ZpcnN0U2VsZWN0ZWQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RJbmRleCA9PT0gaW5kZXg7XG4gICAgfVxuICAgIHNldEZpcnN0U2VsZWN0ZWQoaW5kZXgsIHNlbGVjdGVkKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0SW5kZXggPT09IGluZGV4ICYmIHNlbGVjdGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5maXJzdEluZGV4ICYmIHNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcnN0SW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3QoaW5kZXgsIGRhdGFJdGVtKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5uZXh0KHsgZGF0YUl0ZW0sIGluZGV4IH0pO1xuICAgIH1cbn1cblNlbGVjdGlvblNlcnZpY2UuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IEluamVjdGFibGUgfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cblNlbGVjdGlvblNlcnZpY2UuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXTtcblxuY29uc3QgSU5ERVhfUkVHRVggPSAvXFxkKyQvO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFRyZWVWaWV3TG9va3VwU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICByZWdpc3Rlckl0ZW0oaXRlbSwgcGFyZW50KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMb29rdXAgPSB7XG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLml0ZW0obm9kZUluZGV4KHBhcmVudCkpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFwLnNldChpdGVtLmluZGV4LCBjdXJyZW50TG9va3VwKTtcbiAgICB9XG4gICAgcmVnaXN0ZXJDaGlsZHJlbihpbmRleCwgY2hpbGRyZW4pIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbShpbmRleCk7XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0uY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB9XG4gICAgdW5yZWdpc3Rlckl0ZW0oaW5kZXgsIGRhdGFJdGVtKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLml0ZW0oaW5kZXgpO1xuICAgICAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50Lml0ZW0uZGF0YUl0ZW0gPT09IGRhdGFJdGVtKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5kZWxldGUoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQucGFyZW50ICYmIGN1cnJlbnQucGFyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5wYXJlbnQuY2hpbGRyZW4gPSBjdXJyZW50LnBhcmVudC5jaGlsZHJlbi5maWx0ZXIoaXRlbSA9PiBpdGVtLmRhdGFJdGVtICE9PSBkYXRhSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwbGFjZUl0ZW0oaW5kZXgsIGl0ZW0sIHBhcmVudCkge1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJJdGVtKGluZGV4LCBpdGVtLmRhdGFJdGVtKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlckl0ZW0oaXRlbSwgcGFyZW50KTtcbiAgICAgICAgdGhpcy5hZGRUb1BhcmVudChpdGVtLCBwYXJlbnQpO1xuICAgIH1cbiAgICBpdGVtTG9va3VwKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW0oaW5kZXgpO1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5tYXBDaGlsZHJlbihpdGVtLmNoaWxkcmVuKSxcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0uaXRlbSxcbiAgICAgICAgICAgIHBhcmVudDogaXRlbS5wYXJlbnRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaGFzSXRlbShpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuaGFzKGluZGV4KTtcbiAgICB9XG4gICAgaXRlbShpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGluZGV4KSB8fCBudWxsO1xuICAgIH1cbiAgICBhZGRUb1BhcmVudChpdGVtLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50SXRlbSA9IHRoaXMuaXRlbShwYXJlbnQuaW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChJTkRFWF9SRUdFWC5leGVjKGl0ZW0uaW5kZXgpWzBdLCAxMCk7XG4gICAgICAgICAgICBwYXJlbnRJdGVtLmNoaWxkcmVuID0gcGFyZW50SXRlbS5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgICAgIHBhcmVudEl0ZW0uY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiA9IFtdKSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbi5tYXAoYyA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGl0ZW0sIHBhcmVudCwgY2hpbGRyZW4gfSA9IHRoaXMuaXRlbShjLmluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHRoaXMubWFwQ2hpbGRyZW4oY2hpbGRyZW4pLFxuICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgcGFyZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5UcmVlVmlld0xvb2t1cFNlcnZpY2UuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IEluamVjdGFibGUgfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cblRyZWVWaWV3TG9va3VwU2VydmljZS5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtdO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgaGFzQ2hpbGRyZW4gPSAoKSA9PiBmYWxzZTtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBpc0NoZWNrZWQgPSAoKSA9PiAnbm9uZSc7XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgaXNEaXNhYmxlZCA9ICgpID0+IGZhbHNlO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGlzRXhwYW5kZWQgPSAoKSA9PiB0cnVlO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGlzU2VsZWN0ZWQgPSAoKSA9PiBmYWxzZTtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIERhdGFDaGFuZ2VOb3RpZmljYXRpb25TZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBub3RpZnkoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5lbWl0KCk7XG4gICAgfVxufVxuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptZW1iZXItb3JkZXJpbmcgKi9cbmNvbnN0IHByb3ZpZGVycyA9IFtcbiAgICBFeHBhbmRTdGF0ZVNlcnZpY2UsXG4gICAgSW5kZXhCdWlsZGVyU2VydmljZSxcbiAgICBUcmVlVmlld0xvb2t1cFNlcnZpY2UsXG4gICAgTG9hZGluZ05vdGlmaWNhdGlvblNlcnZpY2UsXG4gICAgTm9kZUNoaWxkcmVuU2VydmljZSxcbiAgICBOYXZpZ2F0aW9uU2VydmljZSxcbiAgICBTZWxlY3Rpb25TZXJ2aWNlLFxuICAgIERhdGFDaGFuZ2VOb3RpZmljYXRpb25TZXJ2aWNlLFxuICAgIExvY2FsaXphdGlvblNlcnZpY2UsXG4gICAge1xuICAgICAgICBwcm92aWRlOiBMMTBOX1BSRUZJWCxcbiAgICAgICAgdXNlVmFsdWU6ICdrZW5kby50cmVldmlldydcbiAgICB9XG5dO1xuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBbS2VuZG8gVUkgVHJlZVZpZXcgY29tcG9uZW50IGZvciBBbmd1bGFyXSh7JSBzbHVnIG92ZXJ2aWV3X3RyZWV2aWV3ICV9KS5cbiAqXG4gKiBAZXhhbXBsZVxuICogeyUgbWV0YSBoZWlnaHQ6MzUwICV9XG4gKiBgYGB0cy1wcmV2aWV3XG4gKiBpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqXG4gKiAgX0BDb21wb25lbnQoe1xuICogICAgICBzZWxlY3RvcjogJ215LWFwcCcsXG4gKiAgICAgIHRlbXBsYXRlOiBgXG4gKiAgICAgIDxrZW5kby10cmVldmlld1xuICogICAgICAgICAgW25vZGVzXT1cImRhdGFcIlxuICogICAgICAgICAgdGV4dEZpZWxkPVwidGV4dFwiXG4gKiAgICAgICAgICBrZW5kb1RyZWVWaWV3Q2hlY2thYmxlXG4gKiAgICAgICAgICBrZW5kb1RyZWVWaWV3RXhwYW5kYWJsZVxuICogICAgICAgICAga2VuZG9UcmVlVmlld1NlbGVjdGFibGVcbiAqXG4gKiAgICAgICAgICBrZW5kb1RyZWVWaWV3SGllcmFyY2h5QmluZGluZ1xuICogICAgICAgICAgY2hpbGRyZW5GaWVsZD1cIml0ZW1zXCI+XG4gKiAgICAgIDwva2VuZG8tdHJlZXZpZXc+XG4gKiAgYFxuICogIH0pXG4gKiAgZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XG4gKiAgICAgIHB1YmxpYyBkYXRhOiBhbnlbXSA9IFtcbiAqICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICB0ZXh0OiBcIkZ1cm5pdHVyZVwiLCBpdGVtczogW1xuICogICAgICAgICAgICAgICAgICB7IHRleHQ6IFwiVGFibGVzICYgQ2hhaXJzXCIgfSxcbiAqICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBcIlNvZmFzXCIgfSxcbiAqICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBcIk9jY2FzaW9uYWwgRnVybml0dXJlXCIgfVxuICogICAgICAgICAgICAgIF1cbiAqICAgICAgICAgIH0sXG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgdGV4dDogXCJEZWNvclwiLCBpdGVtczogW1xuICogICAgICAgICAgICAgICAgICB7IHRleHQ6IFwiQmVkIExpbmVuXCIgfSxcbiAqICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBcIkN1cnRhaW5zICYgQmxpbmRzXCIgfSxcbiAqICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBcIkNhcnBldHNcIiB9XG4gKiAgICAgICAgICAgICAgXVxuICogICAgICAgICAgfVxuICogICAgICBdO1xuICogIH1cbiAqIGBgYFxuICogeyUgZW5kbWV0YSAlfVxuICovXG5jbGFzcyBUcmVlVmlld0NvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZXhwYW5kU2VydmljZSwgbmF2aWdhdGlvblNlcnZpY2UsIG5vZGVDaGlsZHJlblNlcnZpY2UsIHNlbGVjdGlvblNlcnZpY2UsIHRyZWVWaWV3TG9va3VwU2VydmljZSwgbmdab25lLCByZW5kZXJlciwgZWxlbWVudCwgZGF0YUNoYW5nZU5vdGlmaWNhdGlvbiwgbG9jYWxpemF0aW9uKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kU2VydmljZSA9IGV4cGFuZFNlcnZpY2U7XG4gICAgICAgIHRoaXMubmF2aWdhdGlvblNlcnZpY2UgPSBuYXZpZ2F0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5ub2RlQ2hpbGRyZW5TZXJ2aWNlID0gbm9kZUNoaWxkcmVuU2VydmljZTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TZXJ2aWNlID0gc2VsZWN0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy50cmVlVmlld0xvb2t1cFNlcnZpY2UgPSB0cmVlVmlld0xvb2t1cFNlcnZpY2U7XG4gICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZU5vdGlmaWNhdGlvbiA9IGRhdGFDaGFuZ2VOb3RpZmljYXRpb247XG4gICAgICAgIHRoaXMubG9jYWxpemF0aW9uID0gbG9jYWxpemF0aW9uO1xuICAgICAgICB0aGlzLmNsYXNzTmFtZXMgPSB0cnVlO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLmZldGNoTm9kZXMgPSAoKSA9PiB0aGlzLmRhdGE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBjaGlsZHJlbiBvZiB0aGUgZXhwYW5kZWQgbm9kZSBhcmUgbG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbkxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIHVzZXIgYmx1cnMgdGhlIGNvbXBvbmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25CbHVyID0gbmV3IEV2ZW50RW1pdHRlcigpOyAvL3RzbGludDpkaXNhYmxlLWxpbmU6bm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgdXNlciBmb2N1c2VzIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRm9jdXMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7IC8vdHNsaW50OmRpc2FibGUtbGluZTpuby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSB1c2VyIGV4cGFuZHMgYSBUcmVlVmlldyBub2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHBhbmQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSB1c2VyIGNvbGxhcHNlcyBhIFRyZWVWaWV3IG5vZGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbGxhcHNlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgVHJlZVZpZXcgbm9kZSBjaGVja2JveFxuICAgICAgICAgKiAoW3NlZSBleGFtcGxlXSh7JSBzbHVnIGNoZWNrYm94ZXNfdHJlZXZpZXcgJX0jdG9jLW1vZGlmeWluZy10aGUtY2hlY2tlZC1zdGF0ZSkpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja2VkQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgVHJlZVZpZXcgbm9kZVxuICAgICAgICAgKiAoW3NlZSBleGFtcGxlXSh7JSBzbHVnIHNlbGVjdGlvbl90cmVldmlldyAlfSN0b2MtbW9kaWZ5aW5nLXRoZS1zZWxlY3Rpb24pKS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgdXNlciBjbGlja3MgYSBUcmVlVmlldyBub2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub2RlQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSB1c2VyIGRvdWJsZSBjbGlja3MgYSBUcmVlVmlldyBub2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub2RlRGJsQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZ1bmN0aW9uIHdoaWNoIGRldGVybWluZXMgaWYgYSBzcGVjaWZpYyBub2RlIGlzIGRpc2FibGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0Rpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgVHJlZVZpZXcga2V5Ym9hcmQgbmF2aWdhYmxlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hdmlnYWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZ1bmN0aW9uIHdoaWNoIHByb3ZpZGVzIHRoZSBjaGlsZCBub2RlcyBmb3IgYSBnaXZlbiBwYXJlbnQgbm9kZVxuICAgICAgICAgKiAoW3NlZSBleGFtcGxlXSh7JSBzbHVnIGRhdGFiaW5kaW5nX3RyZWV2aWV3ICV9KSkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gKCkgPT4gb2YkMShbXSk7XG4gICAgICAgIHRoaXMuY2hlY2tib3hlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV4cGFuZEljb25zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IEJlaGF2aW9yU3ViamVjdCQxKFtdKTtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24kMSgoKSA9PiB7IH0pO1xuICAgICAgICB0aGlzLmRvbVN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZ2V0IHJvbGUoKSB7IHJldHVybiAndHJlZSc7IH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIGdldCBkaXJlY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsaXphdGlvbi5ydGwgPyAncnRsJyA6ICdsdHInO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGNvbnRlbnQgYW5pbWF0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2V0IGFuaW1hdGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYW5pbWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9hbmltYXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbm9kZXMgd2hpY2ggd2lsbCBiZSBkaXNwbGF5ZWQgYnkgdGhlIFRyZWVWaWV3XG4gICAgICogKFtzZWUgZXhhbXBsZV0oeyUgc2x1ZyBkYXRhYmluZGluZ190cmVldmlldyAlfSkpLlxuICAgICAqL1xuICAgIHNldCBub2Rlcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VOb3RpZmljYXRpb24ubm90aWZ5KCk7XG4gICAgICAgIHRoaXMuZGF0YS5uZXh0KHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB3aGljaCBkZXRlcm1pbmVzIGlmIGEgc3BlY2lmaWMgbm9kZSBoYXMgY2hpbGQgbm9kZXNcbiAgICAgKiAoW3NlZSBleGFtcGxlXSh7JSBzbHVnIGRhdGFiaW5kaW5nX3RyZWV2aWV3ICV9KSkuXG4gICAgICovXG4gICAgZ2V0IGhhc0NoaWxkcmVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFzQ2hpbGRyZW4gfHwgaGFzQ2hpbGRyZW47XG4gICAgfVxuICAgIHNldCBoYXNDaGlsZHJlbihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9oYXNDaGlsZHJlbiA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLmV4cGFuZEljb25zID0gQm9vbGVhbih0aGlzLl9pc0V4cGFuZGVkICYmIHRoaXMuX2hhc0NoaWxkcmVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB3aGljaCBkZXRlcm1pbmVzIGlmIGEgc3BlY2lmaWMgbm9kZSBpcyBzZWxlY3RlZFxuICAgICAqIChbc2VlIGV4YW1wbGVdKHslIHNsdWcgY2hlY2tib3hlc190cmVldmlldyAlfSN0b2MtbW9kaWZ5aW5nLXRoZS1jaGVja2VkLXN0YXRlKSkuXG4gICAgICovXG4gICAgZ2V0IGlzQ2hlY2tlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQ2hlY2tlZCB8fCBpc0NoZWNrZWQ7XG4gICAgfVxuICAgIHNldCBpc0NoZWNrZWQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5faXNDaGVja2VkID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuY2hlY2tib3hlcyA9IEJvb2xlYW4odGhpcy5faXNDaGVja2VkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB3aGljaCBkZXRlcm1pbmVzIGlmIGEgc3BlY2lmaWMgbm9kZSBpcyBleHBhbmRlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNFeHBhbmRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRXhwYW5kZWQgfHwgaXNFeHBhbmRlZDtcbiAgICB9XG4gICAgc2V0IGlzRXhwYW5kZWQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5faXNFeHBhbmRlZCA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLmV4cGFuZEljb25zID0gQm9vbGVhbih0aGlzLl9pc0V4cGFuZGVkICYmIHRoaXMuX2hhc0NoaWxkcmVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB3aGljaCBkZXRlcm1pbmVzIGlmIGEgc3BlY2lmaWMgbm9kZSBpcyBzZWxlY3RlZFxuICAgICAqIChbc2VlIGV4YW1wbGVdKHslIHNsdWcgc2VsZWN0aW9uX3RyZWV2aWV3ICV9I3RvYy1tb2RpZnlpbmctdGhlLXNlbGVjdGlvbikpLlxuICAgICAqL1xuICAgIGdldCBpc1NlbGVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTZWxlY3RlZCB8fCBpc1NlbGVjdGVkO1xuICAgIH1cbiAgICBzZXQgaXNTZWxlY3RlZChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKF8pIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS5uYXZpZ2FibGUgPSBCb29sZWFuKHRoaXMubmF2aWdhYmxlKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmRvbVN1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWJzY3JpcHRpb24gPT4gc3Vic2NyaXB0aW9uKCkpO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLm5vZGVDaGlsZHJlblNlcnZpY2VcbiAgICAgICAgICAgIC5jaGFuZ2VzXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCh4KSA9PiB0aGlzLmNoaWxkcmVuTG9hZGVkLmVtaXQoeCkpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLmV4cGFuZFNlcnZpY2UuY2hhbmdlc1xuICAgICAgICAgICAgLnN1YnNjcmliZSgoeyBpbmRleCwgZGF0YUl0ZW0sIGV4cGFuZCB9KSA9PiBleHBhbmRcbiAgICAgICAgICAgID8gdGhpcy5leHBhbmQuZW1pdCh7IGluZGV4LCBkYXRhSXRlbSB9KVxuICAgICAgICAgICAgOiB0aGlzLmNvbGxhcHNlLmVtaXQoeyBpbmRleCwgZGF0YUl0ZW0gfSkpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLm5hdmlnYXRpb25TZXJ2aWNlLmNoZWNrc1xuICAgICAgICAgICAgLnN1YnNjcmliZSgoeCkgPT4gdGhpcy5jaGVja2VkQ2hhbmdlLmVtaXQodGhpcy50cmVlVmlld0xvb2t1cFNlcnZpY2UuaXRlbUxvb2t1cCh4KSkpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLnNlbGVjdGlvblNlcnZpY2UuY2hhbmdlc1xuICAgICAgICAgICAgLnN1YnNjcmliZSgoeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhhc09ic2VydmVycyh0aGlzLnNlbGVjdGlvbkNoYW5nZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZS5lbWl0KHgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaERvbUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCbHVycyB0aGUgZm9jdXNlZCBUcmVlVmlldyBpdGVtLlxuICAgICAqL1xuICAgIGJsdXIoKSB7XG4gICAgICAgIGlmICghaXNEb2N1bWVudEF2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZm9jdXNhYmxlTm9kZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICB0YXJnZXQuYmx1cigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvY3VzZXMgdGhlIGZpcnN0IGZvY3VzYWJsZSBpdGVtIGluIHRoZSBUcmVlVmlldyBjb21wb25lbnQgaWYgbm8gaGllcmFyY2hpY2FsIGluZGV4IGlzIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICAgICAqXG4gICAgICogIEBDb21wb25lbnQoe1xuICAgICAqICAgICAgc2VsZWN0b3I6ICdteS1hcHAnLFxuICAgICAqICAgICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgIDxidXR0b24gKGNsaWNrKT1cInRyZWV2aWV3LmZvY3VzKCcxJylcIj5Gb2N1c2VzIHRoZSBzZWNvbmQgbm9kZTwvYnV0dG9uPlxuICAgICAqICAgICAgPGtlbmRvLXRyZWV2aWV3XG4gICAgICogICAgICAgICAgI3RyZWV2aWV3XG4gICAgICogICAgICAgICAgW25vZGVzXT1cImRhdGFcIlxuICAgICAqICAgICAgICAgIHRleHRGaWVsZD1cInRleHRcIlxuICAgICAqICAgICAgPlxuICAgICAqICAgICAgPC9rZW5kby10cmVldmlldz5cbiAgICAgKiAgYFxuICAgICAqICB9KVxuICAgICAqICBleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAgKiAgICAgIHB1YmxpYyBkYXRhOiBhbnlbXSA9IFtcbiAgICAgKiAgICAgICAgICB7IHRleHQ6IFwiRnVybml0dXJlXCIgfSxcbiAgICAgKiAgICAgICAgICB7IHRleHQ6IFwiRGVjb3JcIiB9XG4gICAgICogICAgICBdO1xuICAgICAqICB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZm9jdXMoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS5hY3RpdmF0ZUluZGV4KGluZGV4KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZm9jdXNhYmxlTm9kZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICB0YXJnZXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCYXNlZCBvbiB0aGUgc3BlY2lmaWVkIGluZGV4LCByZXR1cm5zIHRoZSBUcmVlSXRlbUxvb2t1cCBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBub2RlLlxuICAgICAqIEByZXR1cm5zIHtUcmVlSXRlbUxvb2t1cH0gLSBUaGUgaXRlbSB0aGF0IHdhcyBzZWFyY2hlZCAobG9va2VkIHVwKS5cbiAgICAgKi9cbiAgICBpdGVtTG9va3VwKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVWaWV3TG9va3VwU2VydmljZS5pdGVtTG9va3VwKGluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIGlzRGlzYWJsZWROb2RlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGlvblNlcnZpY2UuaXNEaXNhYmxlZChub2RlLml0ZW0uaW5kZXgpO1xuICAgIH1cbiAgICBhdHRhY2hEb21IYW5kbGVycygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLmNsaWNrSGFuZGxlciA9IHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZG9tU3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMucmVuZGVyZXIubGlzdGVuKGVsZW1lbnQsICdjb250ZXh0bWVudScsIHRoaXMuY2xpY2tIYW5kbGVyKSwgdGhpcy5yZW5kZXJlci5saXN0ZW4oZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpLCB0aGlzLnJlbmRlcmVyLmxpc3RlbihlbGVtZW50LCAnZGJsY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlciksIHRoaXMucmVuZGVyZXIubGlzdGVuKGVsZW1lbnQsICdmb2N1c2luJywgdGhpcy5mb2N1c0hhbmRsZXIuYmluZCh0aGlzKSksIHRoaXMucmVuZGVyZXIubGlzdGVuKGVsZW1lbnQsICdmb2N1c291dCcsIHRoaXMuYmx1ckhhbmRsZXIuYmluZCh0aGlzKSksIHRoaXMucmVuZGVyZXIubGlzdGVuKGVsZW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlkb3duSGFuZGxlci5iaW5kKHRoaXMpKSk7XG4gICAgfVxuICAgIGZvY3VzSGFuZGxlcihlKSB7XG4gICAgICAgIGxldCBmb2N1c0l0ZW07XG4gICAgICAgIGlmIChtYXRjaChlLnRhcmdldCwgJy5rLXRyZWV2aWV3LWl0ZW0nKSkge1xuICAgICAgICAgICAgZm9jdXNJdGVtID0gZS50YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWlzRm9jdXNhYmxlKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgZm9jdXNJdGVtID0gY2xvc2VzdE5vZGUoZS50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb2N1c0l0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvblNlcnZpY2UuYWN0aXZhdGVJbmRleChub2RlSWQoZS50YXJnZXQpKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSAmJiBoYXNPYnNlcnZlcnModGhpcy5vbkZvY3VzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Gb2N1cy5lbWl0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBibHVySGFuZGxlcihlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZlICYmIG1hdGNoKGUudGFyZ2V0LCAnLmstdHJlZXZpZXctaXRlbScpICYmXG4gICAgICAgICAgICAoIWUucmVsYXRlZFRhcmdldCB8fCAhbWF0Y2goZS5yZWxhdGVkVGFyZ2V0LCAnLmstdHJlZXZpZXctaXRlbScpIHx8ICFoYXNQYXJlbnQoZS5yZWxhdGVkVGFyZ2V0LCB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCkpKSB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25TZXJ2aWNlLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChoYXNPYnNlcnZlcnModGhpcy5vbkJsdXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkJsdXIuZW1pdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNsaWNrSGFuZGxlcihlKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAoKGUudHlwZSA9PT0gJ2NvbnRleHRtZW51JyAmJiAhaGFzT2JzZXJ2ZXJzKHRoaXMubm9kZUNsaWNrKSkgfHxcbiAgICAgICAgICAgIChlLnR5cGUgPT09ICdjbGljaycgJiYgIWhhc09ic2VydmVycyh0aGlzLm5vZGVDbGljaykgJiYgIWhhc09ic2VydmVycyh0aGlzLnNlbGVjdGlvbkNoYW5nZSkpIHx8XG4gICAgICAgICAgICAoZS50eXBlID09PSAnZGJsY2xpY2snICYmICFoYXNPYnNlcnZlcnModGhpcy5ub2RlRGJsQ2xpY2spKSB8fCBpc0ZvY3VzYWJsZSh0YXJnZXQpIHx8XG4gICAgICAgICAgICAhaXNDb250ZW50KHRhcmdldCkgfHwgIWhhc1BhcmVudCh0YXJnZXQsIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbm9kZUlkKGNsb3Nlc3ROb2RlKHRhcmdldCkpO1xuICAgICAgICAvLyB0aGUgZGlzYWJsZWQgY2hlY2sgaXMgcHJvYmFibHkgbm90IG5lZWRlZCBkdWUgdG8gdGhlIGstc3RhdGUtZGlzYWJsZWQgc3R5bGVzXG4gICAgICAgIGlmICghaW5kZXggfHwgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS5pc0Rpc2FibGVkKGluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb29rdXAgPSB0aGlzLnRyZWVWaWV3TG9va3VwU2VydmljZS5pdGVtTG9va3VwKGluZGV4KTtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25TZXJ2aWNlLnNlbGVjdEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBlLnR5cGUgPT09ICdkYmxjbGljaycgPyB0aGlzLm5vZGVEYmxDbGljayA6IHRoaXMubm9kZUNsaWNrO1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0KHtcbiAgICAgICAgICAgICAgICBpdGVtOiBsb29rdXAuaXRlbSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgIHR5cGU6IGUudHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZlICYmIHRoaXMubmF2aWdhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvblNlcnZpY2UubW92ZShlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuVHJlZVZpZXdDb21wb25lbnQuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQsXG4gICAgICAgICAgICAgICAgZXhwb3J0QXM6ICdrZW5kb1RyZWVWaWV3JyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcnM6IHByb3ZpZGVycyxcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2tlbmRvLXRyZWV2aWV3JyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICAgIDx1bCBjbGFzcz1cImstdHJlZXZpZXctbGluZXNcIlxuICAgICAga2VuZG9UcmVlVmlld0dyb3VwXG4gICAgICByb2xlPVwiZ3JvdXBcIlxuICAgICAgW2NoZWNrYm94ZXNdPVwiY2hlY2tib3hlc1wiXG4gICAgICBbZXhwYW5kSWNvbnNdPVwiZXhwYW5kSWNvbnNcIlxuICAgICAgW2NoaWxkcmVuXT1cImNoaWxkcmVuXCJcbiAgICAgIFtoYXNDaGlsZHJlbl09XCJoYXNDaGlsZHJlblwiXG4gICAgICBbaXNDaGVja2VkXT1cImlzQ2hlY2tlZFwiXG4gICAgICBbaXNEaXNhYmxlZF09XCJpc0Rpc2FibGVkXCJcbiAgICAgIFtpc0V4cGFuZGVkXT1cImlzRXhwYW5kZWRcIlxuICAgICAgW2lzU2VsZWN0ZWRdPVwiaXNTZWxlY3RlZFwiXG4gICAgICBbbm9kZVRlbXBsYXRlUmVmXT1cIm5vZGVUZW1wbGF0ZT8udGVtcGxhdGVSZWZcIlxuICAgICAgW3RleHRGaWVsZF09XCJ0ZXh0RmllbGRcIlxuICAgICAgW25vZGVzXT1cImZldGNoTm9kZXNcIlxuICAgICAgPlxuICAgIDwvdWw+XG4gIGBcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuVHJlZVZpZXdDb21wb25lbnQuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBFeHBhbmRTdGF0ZVNlcnZpY2UsIH0sXG4gICAgeyB0eXBlOiBOYXZpZ2F0aW9uU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IE5vZGVDaGlsZHJlblNlcnZpY2UsIH0sXG4gICAgeyB0eXBlOiBTZWxlY3Rpb25TZXJ2aWNlLCB9LFxuICAgIHsgdHlwZTogVHJlZVZpZXdMb29rdXBTZXJ2aWNlLCB9LFxuICAgIHsgdHlwZTogTmdab25lLCB9LFxuICAgIHsgdHlwZTogUmVuZGVyZXIyLCB9LFxuICAgIHsgdHlwZTogRWxlbWVudFJlZiwgfSxcbiAgICB7IHR5cGU6IERhdGFDaGFuZ2VOb3RpZmljYXRpb25TZXJ2aWNlLCB9LFxuICAgIHsgdHlwZTogTG9jYWxpemF0aW9uU2VydmljZSwgfSxcbl07XG5UcmVlVmlld0NvbXBvbmVudC5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAnY2xhc3NOYW1lcyc6IFt7IHR5cGU6IEhvc3RCaW5kaW5nLCBhcmdzOiBbXCJjbGFzcy5rLXdpZGdldFwiLF0gfSwgeyB0eXBlOiBIb3N0QmluZGluZywgYXJnczogW1wiY2xhc3Muay10cmVldmlld1wiLF0gfSxdLFxuICAgICdyb2xlJzogW3sgdHlwZTogSG9zdEJpbmRpbmcsIGFyZ3M6IFtcImF0dHIucm9sZVwiLF0gfSxdLFxuICAgICdkaXJlY3Rpb24nOiBbeyB0eXBlOiBIb3N0QmluZGluZywgYXJnczogW1wiYXR0ci5kaXJcIixdIH0sXSxcbiAgICAnYW5pbWF0ZSc6IFt7IHR5cGU6IElucHV0IH0sIHsgdHlwZTogSG9zdEJpbmRpbmcsIGFyZ3M6IFsnQC5kaXNhYmxlZCcsXSB9LF0sXG4gICAgJ2NoaWxkcmVuTG9hZGVkJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbiAgICAnb25CbHVyJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ2JsdXInLF0gfSxdLFxuICAgICdvbkZvY3VzJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ2ZvY3VzJyxdIH0sXSxcbiAgICAnZXhwYW5kJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbiAgICAnY29sbGFwc2UnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuICAgICdjaGVja2VkQ2hhbmdlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbiAgICAnc2VsZWN0aW9uQ2hhbmdlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbiAgICAnbm9kZUNsaWNrJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbiAgICAnbm9kZURibENsaWNrJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbiAgICAnbm9kZVRlbXBsYXRlJzogW3sgdHlwZTogQ29udGVudENoaWxkLCBhcmdzOiBbTm9kZVRlbXBsYXRlRGlyZWN0aXZlLF0gfSxdLFxuICAgICdub2Rlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAndGV4dEZpZWxkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdoYXNDaGlsZHJlbic6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnaXNDaGVja2VkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpc0Rpc2FibGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpc0V4cGFuZGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpc1NlbGVjdGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICduYXZpZ2FibGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ2NoaWxkcmVuJzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcblxuY29uc3QgRklFTERfUkVHRVggPSAvXFxbKD86KFxcZCspfFsnXCJdKC4qPylbJ1wiXSlcXF18KCg/Oig/IVxcWy4qP1xcXXxcXC4pLikrKS9nO1xuY29uc3QgZ2V0dGVyQ2FjaGUgPSB7fTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zdHJpbmctbGl0ZXJhbFxuZ2V0dGVyQ2FjaGVbJ3VuZGVmaW5lZCddID0gb2JqID0+IG9iajtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBnZXR0ZXIgPSAoZmllbGQsIHNhZmUpID0+IHtcbiAgICBjb25zdCBrZXkgPSBmaWVsZCArIHNhZmU7XG4gICAgaWYgKGdldHRlckNhY2hlW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIGdldHRlckNhY2hlW2tleV07XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkcyA9IFtdO1xuICAgIGZpZWxkLnJlcGxhY2UoRklFTERfUkVHRVgsIChfLCBpbmRleCwgaW5kZXhBY2Nlc3NvciwgZmllbGQpID0+IHtcbiAgICAgICAgZmllbGRzLnB1c2goaXNQcmVzZW50KGluZGV4KSA/IGluZGV4IDogKGluZGV4QWNjZXNzb3IgfHwgZmllbGQpKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBnZXR0ZXJDYWNoZVtrZXldID0gb2JqID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG9iajtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZmllbGRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdFtmaWVsZHNbaWR4XV07XG4gICAgICAgICAgICBpZiAoIWlzUHJlc2VudChyZXN1bHQpICYmIHNhZmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gZ2V0dGVyQ2FjaGVba2V5XTtcbn07XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5jbGFzcyBUcmVlVmlld0dyb3VwQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihleHBhbmRTZXJ2aWNlLCBsb2FkaW5nU2VydmljZSwgaW5kZXhCdWlsZGVyLCB0cmVlVmlld0xvb2t1cFNlcnZpY2UsIG5hdmlnYXRpb25TZXJ2aWNlLCBub2RlQ2hpbGRyZW5TZXJ2aWNlLCBkYXRhQ2hhbmdlTm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kU2VydmljZSA9IGV4cGFuZFNlcnZpY2U7XG4gICAgICAgIHRoaXMubG9hZGluZ1NlcnZpY2UgPSBsb2FkaW5nU2VydmljZTtcbiAgICAgICAgdGhpcy5pbmRleEJ1aWxkZXIgPSBpbmRleEJ1aWxkZXI7XG4gICAgICAgIHRoaXMudHJlZVZpZXdMb29rdXBTZXJ2aWNlID0gdHJlZVZpZXdMb29rdXBTZXJ2aWNlO1xuICAgICAgICB0aGlzLm5hdmlnYXRpb25TZXJ2aWNlID0gbmF2aWdhdGlvblNlcnZpY2U7XG4gICAgICAgIHRoaXMubm9kZUNoaWxkcmVuU2VydmljZSA9IG5vZGVDaGlsZHJlblNlcnZpY2U7XG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZU5vdGlmaWNhdGlvbiA9IGRhdGFDaGFuZ2VOb3RpZmljYXRpb247XG4gICAgICAgIHRoaXMua0dyb3VwQ2xhc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLnRleHRGaWVsZCA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5pc0NoZWNrZWQgPSAoKSA9PiAnbm9uZSc7XG4gICAgICAgIHRoaXMuaXNEaXNhYmxlZCA9ICgpID0+IGZhbHNlO1xuICAgICAgICB0aGlzLmlzRXhwYW5kZWQgPSAoKSA9PiBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0gKCkgPT4gZmFsc2U7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSAoKSA9PiBvZiQxKFtdKTtcbiAgICAgICAgdGhpcy5oYXNDaGlsZHJlbiA9ICgpID0+IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgcm9sZSgpIHsgcmV0dXJuICdncm91cCc7IH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxuICAgIHNldCBkYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IG1hcHBlZENoaWxkcmVuID0gdGhpcy5tYXBUb1RyZWVJdGVtKGRhdGEpO1xuICAgICAgICB0aGlzLnNldE5vZGVDaGlsZHJlbihtYXBwZWRDaGlsZHJlbik7XG4gICAgICAgIHRoaXMuZW1pdENoaWxkcmVuTG9hZGVkKG1hcHBlZENoaWxkcmVuKTtcbiAgICB9XG4gICAgZ2V0IGhhc1RlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMubm9kZVRlbXBsYXRlUmVmKTtcbiAgICB9XG4gICAgZXhwYW5kTm9kZShpbmRleCwgZGF0YUl0ZW0sIGV4cGFuZCkge1xuICAgICAgICBpZiAoZXhwYW5kKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZFNlcnZpY2UuZXhwYW5kKGluZGV4LCBkYXRhSXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZFNlcnZpY2UuY29sbGFwc2UoaW5kZXgsIGRhdGFJdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGVja05vZGUoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS5jaGVja0luZGV4KGluZGV4KTtcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS5hY3RpdmF0ZUluZGV4KGluZGV4KTtcbiAgICB9XG4gICAgbm9kZUluZGV4KGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4QnVpbGRlci5ub2RlSW5kZXgoaW5kZXgudG9TdHJpbmcoKSwgdGhpcy5wYXJlbnRJbmRleCk7XG4gICAgfVxuICAgIG5vZGVUZXh0KGRhdGFJdGVtKSB7XG4gICAgICAgIGNvbnN0IHRleHRGaWVsZCA9IGlzQXJyYXkodGhpcy50ZXh0RmllbGQpID8gdGhpcy50ZXh0RmllbGRbMF0gOiB0aGlzLnRleHRGaWVsZDtcbiAgICAgICAgcmV0dXJuIGdldHRlcih0ZXh0RmllbGQsIHRydWUpKGRhdGFJdGVtKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLm5vZGVzU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGVzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YUNoYW5nZVN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlVG9Ob2Rlc0NoYW5nZSgpO1xuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VTdWJzY3JpcHRpb24gPSB0aGlzLmRhdGFDaGFuZ2VOb3RpZmljYXRpb25cbiAgICAgICAgICAgIC5jaGFuZ2VzXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHRoaXMuc3Vic2NyaWJlVG9Ob2Rlc0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlcy5wYXJlbnRJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5zZXROb2RlQ2hpbGRyZW4odGhpcy5tYXBUb1RyZWVJdGVtKHRoaXMuZGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZldGNoQ2hpbGRyZW4obm9kZSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4obm9kZSlcbiAgICAgICAgICAgIC5waXBlKGNhdGNoRXJyb3IkMSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdTZXJ2aWNlLm5vdGlmeUxvYWRlZChpbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gZW1wdHkkMSgpO1xuICAgICAgICB9KSwgdGFwJDEoKCkgPT4gdGhpcy5sb2FkaW5nU2VydmljZS5ub3RpZnlMb2FkZWQoaW5kZXgpKSk7XG4gICAgfVxuICAgIGdldCBuZXh0RmllbGRzKCkge1xuICAgICAgICBpZiAoaXNBcnJheSh0aGlzLnRleHRGaWVsZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHRGaWVsZC5sZW5ndGggPiAxID8gdGhpcy50ZXh0RmllbGQuc2xpY2UoMSkgOiB0aGlzLnRleHRGaWVsZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RoaXMudGV4dEZpZWxkXTtcbiAgICB9XG4gICAgc2V0Tm9kZUNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMudHJlZVZpZXdMb29rdXBTZXJ2aWNlLnJlZ2lzdGVyQ2hpbGRyZW4odGhpcy5wYXJlbnRJbmRleCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBtYXBUb1RyZWVJdGVtKGRhdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGEubWFwKChkYXRhSXRlbSwgaWR4KSA9PiAoeyBkYXRhSXRlbSwgaW5kZXg6IHRoaXMubm9kZUluZGV4KGlkeCkgfSkpO1xuICAgIH1cbiAgICBlbWl0Q2hpbGRyZW5Mb2FkZWQoY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlQ2hpbGRyZW5TZXJ2aWNlLmNoaWxkcmVuTG9hZGVkKHsgZGF0YUl0ZW06IHRoaXMucGFyZW50RGF0YUl0ZW0sIGluZGV4OiB0aGlzLnBhcmVudEluZGV4IH0sIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlVG9Ob2Rlc0NoYW5nZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZXNTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubm9kZXNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGVzU3Vic2NyaXB0aW9uID0gdGhpcy5ub2Rlcyh0aGlzLnBhcmVudERhdGFJdGVtLCB0aGlzLnBhcmVudEluZGV4KS5zdWJzY3JpYmUoeCA9PiB7IHRoaXMuZGF0YSA9IHg7IH0pO1xuICAgIH1cbn1cblRyZWVWaWV3R3JvdXBDb21wb25lbnQuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIoJ3RvZ2dsZScsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJ3ZvaWQgPT4gKicsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7IGhlaWdodDogMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKCcwLjFzIGVhc2UtaW4nLCBzdHlsZSh7IGhlaWdodDogXCIqXCIgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJyogPT4gdm9pZCcsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7IGhlaWdodDogXCIqXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZSgnMC4xcyBlYXNlLWluJywgc3R5bGUoeyBoZWlnaHQ6IDAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdba2VuZG9UcmVlVmlld0dyb3VwXScsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGxpXG4gICAgICAgICAgICAqbmdGb3I9XCJsZXQgbm9kZSBvZiBkYXRhOyBsZXQgaW5kZXggPSBpbmRleFwiIGNsYXNzPVwiay1pdGVtIGstdHJlZXZpZXctaXRlbVwiXG4gICAgICAgICAgICBrZW5kb1RyZWVWaWV3SXRlbVxuICAgICAgICAgICAgW2RhdGFJdGVtXT1cIm5vZGVcIlxuICAgICAgICAgICAgW2luZGV4XT1cIm5vZGVJbmRleChpbmRleClcIlxuICAgICAgICAgICAgW3BhcmVudERhdGFJdGVtXT1cInBhcmVudERhdGFJdGVtXCJcbiAgICAgICAgICAgIFtwYXJlbnRJbmRleF09XCJwYXJlbnRJbmRleFwiXG4gICAgICAgICAgICBbaXNDaGVja2VkXT1cImlzQ2hlY2tlZChub2RlLCBub2RlSW5kZXgoaW5kZXgpKVwiXG4gICAgICAgICAgICBbaXNEaXNhYmxlZF09XCJkaXNhYmxlZCB8fCBpc0Rpc2FibGVkKG5vZGUsIG5vZGVJbmRleChpbmRleCkpXCJcbiAgICAgICAgICAgIFtpc0V4cGFuZGVkXT1cImlzRXhwYW5kZWQobm9kZSwgbm9kZUluZGV4KGluZGV4KSlcIlxuICAgICAgICAgICAgW2lzU2VsZWN0ZWRdPVwiaXNTZWxlY3RlZChub2RlLCBub2RlSW5kZXgoaW5kZXgpKVwiXG4gICAgICAgICAgICBbYXR0ci5kYXRhLXRyZWVpbmRleF09XCJub2RlSW5kZXgoaW5kZXgpXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImstbWlkXCI+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJrLWljb25cIlxuICAgICAgICAgICAgICAgICAgICBbY2xhc3Muay1pLWNvbGxhcHNlXT1cImlzRXhwYW5kZWQobm9kZSwgbm9kZUluZGV4KGluZGV4KSlcIlxuICAgICAgICAgICAgICAgICAgICBbY2xhc3Muay1pLWV4cGFuZF09XCIhaXNFeHBhbmRlZChub2RlLCBub2RlSW5kZXgoaW5kZXgpKVwiXG4gICAgICAgICAgICAgICAgICAgIFtrZW5kb1RyZWVWaWV3TG9hZGluZ109XCJub2RlSW5kZXgoaW5kZXgpXCJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImV4cGFuZE5vZGUobm9kZUluZGV4KGluZGV4KSwgbm9kZSwgIWlzRXhwYW5kZWQobm9kZSwgbm9kZUluZGV4KGluZGV4KSkpXCJcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJleHBhbmRJY29ucyAmJiBoYXNDaGlsZHJlbihub2RlKVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGtlbmRvLWNoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiY2hlY2tib3hlc1wiXG4gICAgICAgICAgICAgICAgICAgIFtub2RlXT1cIm5vZGVcIlxuICAgICAgICAgICAgICAgICAgICBbaW5kZXhdPVwibm9kZUluZGV4KGluZGV4KVwiXG4gICAgICAgICAgICAgICAgICAgIFtpc0NoZWNrZWRdPVwiaXNDaGVja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgKGNoZWNrU3RhdGVDaGFuZ2UpPVwiY2hlY2tOb2RlKG5vZGVJbmRleChpbmRleCkpXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCItMVwiXG4gICAgICAgICAgICAgICAgPjwva2VuZG8tY2hlY2tib3g+XG4gICAgICAgICAgICAgICAgPHNwYW4ga2VuZG9UcmVlVmlld0l0ZW1Db250ZW50XG4gICAgICAgICAgICAgICAgICAgIFthdHRyLmRhdGEtdHJlZWluZGV4XT1cIm5vZGVJbmRleChpbmRleClcIlxuICAgICAgICAgICAgICAgICAgICBbZGF0YUl0ZW1dPVwibm9kZVwiXG4gICAgICAgICAgICAgICAgICAgIFtpbmRleF09XCJub2RlSW5kZXgoaW5kZXgpXCJcbiAgICAgICAgICAgICAgICAgICAgW2luaXRpYWxTZWxlY3Rpb25dPVwiaXNTZWxlY3RlZChub2RlLCBub2RlSW5kZXgoaW5kZXgpKVwiXG4gICAgICAgICAgICAgICAgICAgIFtpc1NlbGVjdGVkXT1cImlzU2VsZWN0ZWRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImstaW5cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBbbmdTd2l0Y2hdPVwiaGFzVGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nU3dpdGNoQ2FzZT1cInRydWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwibm9kZVRlbXBsYXRlUmVmXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInskaW1wbGljaXQ6IG5vZGUsIGluZGV4OiBub2RlSW5kZXgoaW5kZXgpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaERlZmF1bHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3tub2RlVGV4dChub2RlKX19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWxcbiAgICAgICAgICAgICAgICAqbmdJZj1cImlzRXhwYW5kZWQobm9kZSwgbm9kZUluZGV4KGluZGV4KSkgJiYgaGFzQ2hpbGRyZW4obm9kZSlcIlxuICAgICAgICAgICAgICAgIGtlbmRvVHJlZVZpZXdHcm91cFxuICAgICAgICAgICAgICAgIHJvbGU9XCJncm91cFwiXG4gICAgICAgICAgICAgICAgW25vZGVzXT1cImZldGNoQ2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgIFtjaGVja2JveGVzXT1cImNoZWNrYm94ZXNcIlxuICAgICAgICAgICAgICAgIFtleHBhbmRJY29uc109XCJleHBhbmRJY29uc1wiXG4gICAgICAgICAgICAgICAgW2NoaWxkcmVuXT1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICBbaGFzQ2hpbGRyZW5dPVwiaGFzQ2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgIFtpc0NoZWNrZWRdPVwiaXNDaGVja2VkXCJcbiAgICAgICAgICAgICAgICBbaXNEaXNhYmxlZF09XCJpc0Rpc2FibGVkXCJcbiAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWQgfHwgaXNEaXNhYmxlZChub2RlLCBub2RlSW5kZXgoaW5kZXgpKVwiXG4gICAgICAgICAgICAgICAgW2lzRXhwYW5kZWRdPVwiaXNFeHBhbmRlZFwiXG4gICAgICAgICAgICAgICAgW2lzU2VsZWN0ZWRdPVwiaXNTZWxlY3RlZFwiXG4gICAgICAgICAgICAgICAgW25vZGVUZW1wbGF0ZVJlZl09XCJub2RlVGVtcGxhdGVSZWZcIlxuICAgICAgICAgICAgICAgIFtwYXJlbnRJbmRleF09XCJub2RlSW5kZXgoaW5kZXgpXCJcbiAgICAgICAgICAgICAgICBbcGFyZW50RGF0YUl0ZW1dPVwibm9kZVwiXG4gICAgICAgICAgICAgICAgW3RleHRGaWVsZF09XCJuZXh0RmllbGRzXCJcbiAgICAgICAgICAgICAgICBbQHRvZ2dsZV09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2xpPlxuICAgIGBcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuVHJlZVZpZXdHcm91cENvbXBvbmVudC5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtcbiAgICB7IHR5cGU6IEV4cGFuZFN0YXRlU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IExvYWRpbmdOb3RpZmljYXRpb25TZXJ2aWNlLCB9LFxuICAgIHsgdHlwZTogSW5kZXhCdWlsZGVyU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IFRyZWVWaWV3TG9va3VwU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IE5hdmlnYXRpb25TZXJ2aWNlLCB9LFxuICAgIHsgdHlwZTogTm9kZUNoaWxkcmVuU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IERhdGFDaGFuZ2VOb3RpZmljYXRpb25TZXJ2aWNlLCB9LFxuXTtcblRyZWVWaWV3R3JvdXBDb21wb25lbnQucHJvcERlY29yYXRvcnMgPSB7XG4gICAgJ2tHcm91cENsYXNzJzogW3sgdHlwZTogSG9zdEJpbmRpbmcsIGFyZ3M6IFtcImNsYXNzLmstZ3JvdXBcIixdIH0sXSxcbiAgICAncm9sZSc6IFt7IHR5cGU6IEhvc3RCaW5kaW5nLCBhcmdzOiBbXCJhdHRyLnJvbGVcIixdIH0sXSxcbiAgICAnY2hlY2tib3hlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnZXhwYW5kSWNvbnMnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ2Rpc2FibGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdub2Rlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAndGV4dEZpZWxkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdwYXJlbnREYXRhSXRlbSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAncGFyZW50SW5kZXgnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ25vZGVUZW1wbGF0ZVJlZic6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnaXNDaGVja2VkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpc0Rpc2FibGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpc0V4cGFuZGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpc1NlbGVjdGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdjaGlsZHJlbic6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnaGFzQ2hpbGRyZW4nOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xuXG5jb25zdCBpbmRleENoZWNrZWQgPSAoa2V5cywgaW5kZXgpID0+IGtleXMuZmlsdGVyKGsgPT4gayA9PT0gaW5kZXgpLmxlbmd0aCA+IDA7XG5jb25zdCBtYXRjaEtleSA9IGluZGV4ID0+IGsgPT4ge1xuICAgIGlmIChpbmRleCA9PT0gaykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFrLnNwbGl0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGsuc3BsaXQoJ18nKS5yZWR1Y2UoKHsga2V5LCByZXN1bHQgfSwgcGFydCkgPT4ge1xuICAgICAgICBrZXkgKz0gcGFydDtcbiAgICAgICAgaWYgKGluZGV4ID09PSBrZXkgfHwgcmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHQ6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgKz0gXCJfXCI7XG4gICAgICAgIHJldHVybiB7IGtleSwgcmVzdWx0OiBmYWxzZSB9O1xuICAgIH0sIHsga2V5OiBcIlwiLCByZXN1bHQ6IGZhbHNlIH0pLnJlc3VsdDtcbn07XG4vKipcbiAqIEEgZGlyZWN0aXZlIHdoaWNoIG1hbmFnZXMgdGhlIGluLW1lbW9yeSBjaGVja2VkIHN0YXRlIG9mIHRoZSBUcmVlVmlldyBub2RlXG4gKiAoW3NlZSBleGFtcGxlXSh7JSBzbHVnIGNoZWNrYm94ZXNfdHJlZXZpZXcgJX0pKS5cbiAqL1xuY2xhc3MgQ2hlY2tEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKHRyZWVWaWV3LCB6b25lKSB7XG4gICAgICAgIHRoaXMudHJlZVZpZXcgPSB0cmVlVmlldztcbiAgICAgICAgdGhpcy56b25lID0gem9uZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIGBjaGVja2VkS2V5c2AgY29sbGVjdGlvbiB3YXMgdXBkYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tlZEtleXNDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24kMSgoKSA9PiB7IH0pO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aW9ucyA9IHtcbiAgICAgICAgICAgICdtdWx0aXBsZSc6IChlKSA9PiB0aGlzLmNoZWNrTXVsdGlwbGUoZSksXG4gICAgICAgICAgICAnc2luZ2xlJzogKGUpID0+IHRoaXMuY2hlY2tTaW5nbGUoZSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY2hlY2tlZEtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLnRyZWVWaWV3LmNoZWNrZWRDaGFuZ2VcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGUpID0+IHRoaXMuY2hlY2soZSkpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLnRyZWVWaWV3LmNoaWxkcmVuTG9hZGVkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIkMSgoKSA9PiB0aGlzLm9wdGlvbnMuY2hlY2tDaGlsZHJlbiksIHN3aXRjaE1hcCQxKGUgPT4gdGhpcy56b25lLm9uU3RhYmxlLnBpcGUodGFrZSQxKDEpLCBtYXAkMSgoKSA9PiBlKSkpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoZSkgPT4gdGhpcy5hZGRDaGlsZHJlbktleXMoZSkpKTtcbiAgICAgICAgdGhpcy50cmVlVmlldy5pc0NoZWNrZWQgPSB0aGlzLmlzSXRlbUNoZWNrZWQuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIHNldCBpc0NoZWNrZWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy50cmVlVmlldy5pc0NoZWNrZWQgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgY29sbGVjdGlvbiB0aGF0IHdpbGwgc3RvcmUgdGhlIGNoZWNrZWQga2V5c1xuICAgICAqIChbc2VlIGV4YW1wbGVdKHslIHNsdWcgY2hlY2tib3hlc190cmVldmlldyAlfSkpLlxuICAgICAqL1xuICAgIGdldCBjaGVja2VkS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrZWRLZXlzO1xuICAgIH1cbiAgICBzZXQgY2hlY2tlZEtleXMoa2V5cykge1xuICAgICAgICB0aGlzLl9jaGVja2VkS2V5cyA9IGtleXM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNoZWNrQ2hpbGRyZW46IHRydWUsXG4gICAgICAgICAgICBjaGVja1BhcmVudHM6IHRydWUsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgbW9kZTogXCJtdWx0aXBsZVwiXG4gICAgICAgIH07XG4gICAgICAgIGlmICghaXNQcmVzZW50KHRoaXMuY2hlY2thYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQm9vbGVhbiA9IHR5cGVvZiB0aGlzLmNoZWNrYWJsZSA9PT0gJ2Jvb2xlYW4nO1xuICAgICAgICBjb25zdCBjaGVja1NldHRpbmdzID0gaXNCb29sZWFuXG4gICAgICAgICAgICA/IHsgZW5hYmxlZDogdGhpcy5jaGVja2FibGUgfVxuICAgICAgICAgICAgOiB0aGlzLmNoZWNrYWJsZTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdGlvbnMsIGNoZWNrU2V0dGluZ3MpO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmNoZWNrYWJsZSkge1xuICAgICAgICAgICAgdGhpcy50cmVlVmlldy5jaGVja2JveGVzID0gdGhpcy5vcHRpb25zLmVuYWJsZWQ7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUNoZWNrT25DbGljaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZUNsaWNrKCk7XG4gICAgfVxuICAgIGlzSXRlbUNoZWNrZWQoZGF0YUl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0tleSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNJbmRleENoZWNrZWQoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleUluZGV4ID0gdGhpcy5jaGVja2VkS2V5cy5pbmRleE9mKHRoaXMuaXRlbUtleSh7IGRhdGFJdGVtLCBpbmRleCB9KSk7XG4gICAgICAgIHJldHVybiBrZXlJbmRleCA+IC0xID8gJ2NoZWNrZWQnIDogJ25vbmUnO1xuICAgIH1cbiAgICBpc0luZGV4Q2hlY2tlZChpbmRleCkge1xuICAgICAgICBjb25zdCBjaGVja2VkS2V5cyA9IHRoaXMuY2hlY2tlZEtleXMuZmlsdGVyKG1hdGNoS2V5KGluZGV4KSk7XG4gICAgICAgIGlmIChpbmRleENoZWNrZWQoY2hlY2tlZEtleXMsIGluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuICdjaGVja2VkJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG1vZGUsIGNoZWNrUGFyZW50cyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ211bHRpcGxlJyAmJiBjaGVja1BhcmVudHMgJiYgY2hlY2tlZEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2luZGV0ZXJtaW5hdGUnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgfVxuICAgIGl0ZW1LZXkoZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBlLmluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jaGVja0tleSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIGUuZGF0YUl0ZW1bdGhpcy5jaGVja0tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNoZWNrS2V5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrS2V5KGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoZWNrKGUpIHtcbiAgICAgICAgY29uc3QgeyBlbmFibGVkLCBtb2RlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBlcmZvcm1TZWxlY3Rpb24gPSB0aGlzLmNoZWNrQWN0aW9uc1ttb2RlXSB8fCBub29wO1xuICAgICAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZXJmb3JtU2VsZWN0aW9uKGUpO1xuICAgIH1cbiAgICBjaGVja1NpbmdsZShub2RlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuaXRlbUtleShub2RlLml0ZW0pO1xuICAgICAgICB0aGlzLmNoZWNrZWRLZXlzID0gdGhpcy5jaGVja2VkS2V5c1swXSAhPT0ga2V5ID8gW2tleV0gOiBbXTtcbiAgICAgICAgdGhpcy5ub3RpZnkoKTtcbiAgICB9XG4gICAgY2hlY2tNdWx0aXBsZShub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tOb2RlKG5vZGUpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNoZWNrUGFyZW50cykge1xuICAgICAgICAgICAgdGhpcy5jaGVja1BhcmVudHMobm9kZS5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm90aWZ5KCk7XG4gICAgfVxuICAgIHRvZ2dsZUNoZWNrT25DbGljaygpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZUNsaWNrKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2hlY2tPbkNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLmNsaWNrU3Vic2NyaXB0aW9uID0gdGhpcy50cmVlVmlldy5ub2RlQ2xpY2suc3Vic2NyaWJlKGFyZ3MgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9va3VwID0gdGhpcy50cmVlVmlldy5pdGVtTG9va3VwKGFyZ3MuaXRlbS5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2sobG9va3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnN1YnNjcmliZUNsaWNrKCkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jbGlja1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGlja1N1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tOb2RlKG5vZGUsIGNoZWNrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuaXRlbUtleShub2RlLml0ZW0pO1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmNoZWNrZWRLZXlzLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgY29uc3QgaXNDaGVja2VkID0gaWR4ID4gLTE7XG4gICAgICAgIGNvbnN0IHNob3VsZENoZWNrID0gY2hlY2sgPT09IHVuZGVmaW5lZCA/ICFpc0NoZWNrZWQgOiBjaGVjaztcbiAgICAgICAgaWYgKCFpc1ByZXNlbnQoa2V5KSB8fCAoaXNDaGVja2VkICYmIGNoZWNrKSB8fCB0aGlzLnRyZWVWaWV3LmlzRGlzYWJsZWROb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2hlY2tlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja2VkS2V5cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2hlY2tDaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5tYXAobiA9PiB0aGlzLmNoZWNrTm9kZShuLCBzaG91bGRDaGVjaykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoZWNrUGFyZW50cyhwYXJlbnQpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50UGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRLZXkgPSB0aGlzLml0ZW1LZXkoY3VycmVudFBhcmVudC5pdGVtKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gdGhpcy5jaGVja2VkS2V5cy5pbmRleE9mKHBhcmVudEtleSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxDaGlsZHJlblNlbGVjdGVkKGN1cnJlbnRQYXJlbnQuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRLZXlzLnB1c2gocGFyZW50S2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJlbnRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkS2V5cy5zcGxpY2UocGFyZW50SW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGFsbENoaWxkcmVuU2VsZWN0ZWQoY2hpbGRyZW4pIHtcbiAgICAgICAgY29uc3QgaXNDaGVja2VkUmVkdWNlciA9IChhY2MsIGl0ZW0pID0+IChhY2MgJiYgdGhpcy5pc0l0ZW1DaGVja2VkKGl0ZW0uZGF0YUl0ZW0sIGl0ZW0uaW5kZXgpID09PSAnY2hlY2tlZCcpO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW4ucmVkdWNlKGlzQ2hlY2tlZFJlZHVjZXIsIHRydWUpO1xuICAgIH1cbiAgICBub3RpZnkoKSB7XG4gICAgICAgIHRoaXMuY2hlY2tlZEtleXNDaGFuZ2UuZW1pdCh0aGlzLmNoZWNrZWRLZXlzLnNsaWNlKCkpO1xuICAgIH1cbiAgICBhZGRDaGlsZHJlbktleXMoYXJncykge1xuICAgICAgICBpZiAodGhpcy5jaGVja2VkS2V5cy5pbmRleE9mKHRoaXMuaXRlbUtleShhcmdzLml0ZW0pKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlzID0gYXJncy5jaGlsZHJlbi5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbUtleSA9IHRoaXMuaXRlbUtleShpdGVtKTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nS2V5ID0gdGhpcy5jaGVja2VkS2V5cy5maW5kKGtleSA9PiBpdGVtS2V5ID09PSBrZXkpO1xuICAgICAgICAgICAgaWYgKCFleGlzdGluZ0tleSkge1xuICAgICAgICAgICAgICAgIGFjYy5wdXNoKGl0ZW1LZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZEtleXMgPSB0aGlzLmNoZWNrZWRLZXlzLmNvbmNhdChrZXlzKTtcbiAgICAgICAgICAgIHRoaXMuem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkNoZWNrRGlyZWN0aXZlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBEaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW2tlbmRvVHJlZVZpZXdDaGVja2FibGVdJyB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkNoZWNrRGlyZWN0aXZlLmN0b3JQYXJhbWV0ZXJzID0gKCkgPT4gW1xuICAgIHsgdHlwZTogVHJlZVZpZXdDb21wb25lbnQsIH0sXG4gICAgeyB0eXBlOiBOZ1pvbmUsIH0sXG5dO1xuQ2hlY2tEaXJlY3RpdmUucHJvcERlY29yYXRvcnMgPSB7XG4gICAgJ2lzQ2hlY2tlZCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnY2hlY2tLZXknOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogW1wiY2hlY2tCeVwiLF0gfSxdLFxuICAgICdjaGVja2VkS2V5cyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnY2hlY2thYmxlJzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsna2VuZG9UcmVlVmlld0NoZWNrYWJsZScsXSB9LF0sXG4gICAgJ2NoZWNrZWRLZXlzQ2hhbmdlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbn07XG5cbi8qKlxuICogQSBkaXJlY3RpdmUgd2hpY2ggbWFuYWdlcyB0aGUgZGlzYWJsZWQgaW4tbWVtb3J5IHN0YXRlIG9mIHRoZSBUcmVlVmlldyBub2RlXG4gKiAoW3NlZSBleGFtcGxlXSh7JSBzbHVnIGRpc2FibGVkc3RhdGVfdHJlZXZpZXcgJX0pKS5cbiAqL1xuY2xhc3MgRGlzYWJsZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IodHJlZVZpZXcsIGNkcikge1xuICAgICAgICB0aGlzLnRyZWVWaWV3ID0gdHJlZVZpZXc7XG4gICAgICAgIHRoaXMuY2RyID0gY2RyO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyB0aGUgY29sbGVjdGlvbiB0aGF0IHdpbGwgc3RvcmUgdGhlIGRpc2FibGVkIGtleXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpc2FibGVkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLnRyZWVWaWV3LmlzRGlzYWJsZWQgPSAoZGF0YUl0ZW0sIGluZGV4KSA9PiAodGhpcy5kaXNhYmxlZEtleXMuaW5kZXhPZih0aGlzLml0ZW1LZXkoeyBkYXRhSXRlbSwgaW5kZXggfSkpID4gLTEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgc2V0IGlzRGlzYWJsZWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy50cmVlVmlldy5pc0Rpc2FibGVkID0gdmFsdWU7XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMgPSB7fSkge1xuICAgICAgICBjb25zdCB7IGRpc2FibGVkS2V5cyB9ID0gY2hhbmdlcztcbiAgICAgICAgaWYgKGRpc2FibGVkS2V5cyAmJiAhZGlzYWJsZWRLZXlzLmZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpdGVtS2V5KGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBlLmluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kaXNhYmxlS2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5kYXRhSXRlbVt0aGlzLmRpc2FibGVLZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kaXNhYmxlS2V5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc2FibGVLZXkoZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5EaXNhYmxlRGlyZWN0aXZlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBEaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW2tlbmRvVHJlZVZpZXdEaXNhYmxlXScgfSxdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5EaXNhYmxlRGlyZWN0aXZlLmN0b3JQYXJhbWV0ZXJzID0gKCkgPT4gW1xuICAgIHsgdHlwZTogVHJlZVZpZXdDb21wb25lbnQsIH0sXG4gICAgeyB0eXBlOiBDaGFuZ2VEZXRlY3RvclJlZiwgfSxcbl07XG5EaXNhYmxlRGlyZWN0aXZlLnByb3BEZWNvcmF0b3JzID0ge1xuICAgICdpc0Rpc2FibGVkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdkaXNhYmxlS2V5JzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFtcImtlbmRvVHJlZVZpZXdEaXNhYmxlXCIsXSB9LF0sXG4gICAgJ2Rpc2FibGVkS2V5cyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG5cbi8qKlxuICogQSBkaXJlY3RpdmUgd2hpY2ggbWFuYWdlcyB0aGUgZXhwYW5kZWQgc3RhdGUgb2YgdGhlIFRyZWVWaWV3XG4gKiAoW3NlZSBleGFtcGxlXSh7JSBzbHVnIGV4cGFuZGVkc3RhdGVfdHJlZXZpZXcgJX0pKS5cbiAqL1xuY2xhc3MgRXhwYW5kRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmVlVmlldykge1xuICAgICAgICB0aGlzLnRyZWVWaWV3ID0gdHJlZVZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBgZXhwYW5kZWRLZXlzYCBjb2xsZWN0aW9uIHdhcyB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHBhbmRlZEtleXNDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24kMSgoKSA9PiB7IH0pO1xuICAgICAgICB0aGlzLl9leHBhbmRlZEtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChtZXJnZSQxKHRoaXMudHJlZVZpZXcuZXhwYW5kLnBpcGUobWFwJDEoZSA9PiAoT2JqZWN0LmFzc2lnbih7IGV4cGFuZDogdHJ1ZSB9LCBlKSkpKSwgdGhpcy50cmVlVmlldy5jb2xsYXBzZS5waXBlKG1hcCQxKGUgPT4gKE9iamVjdC5hc3NpZ24oeyBleHBhbmQ6IGZhbHNlIH0sIGUpKSkpKS5zdWJzY3JpYmUodGhpcy50b2dnbGVFeHBhbmQuYmluZCh0aGlzKSkpO1xuICAgICAgICB0aGlzLnRyZWVWaWV3LmlzRXhwYW5kZWQgPSAoZGF0YUl0ZW0sIGluZGV4KSA9PiB0aGlzLmV4cGFuZGVkS2V5cy5pbmRleE9mKHRoaXMuaXRlbUtleSh7IGRhdGFJdGVtLCBpbmRleCB9KSkgPiAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIHNldCBpc0V4cGFuZGVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHJlZVZpZXcuaXNFeHBhbmRlZCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBjb2xsZWN0aW9uIHRoYXQgd2lsbCBzdG9yZSB0aGUgZXhwYW5kZWQga2V5cy5cbiAgICAgKi9cbiAgICBnZXQgZXhwYW5kZWRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXhwYW5kZWRLZXlzO1xuICAgIH1cbiAgICBzZXQgZXhwYW5kZWRLZXlzKGtleXMpIHtcbiAgICAgICAgdGhpcy5fZXhwYW5kZWRLZXlzID0ga2V5cztcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICBpdGVtS2V5KGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhwYW5kS2V5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZXhwYW5kS2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZGF0YUl0ZW1bdGhpcy5leHBhbmRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmV4cGFuZEtleSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhwYW5kS2V5KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLmluZGV4O1xuICAgIH1cbiAgICB0b2dnbGVFeHBhbmQoeyBpbmRleCwgZGF0YUl0ZW0sIGV4cGFuZCB9KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1LZXkoeyBpbmRleCwgZGF0YUl0ZW0gfSk7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZXhwYW5kZWRLZXlzLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGxldCBub3RpZnkgPSBmYWxzZTtcbiAgICAgICAgaWYgKGlkeCA+IC0xICYmICFleHBhbmQpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZWRLZXlzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgbm90aWZ5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpZHggPT09IC0xICYmIGV4cGFuZCkge1xuICAgICAgICAgICAgdGhpcy5leHBhbmRlZEtleXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIG5vdGlmeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdGlmeSkge1xuICAgICAgICAgICAgdGhpcy5leHBhbmRlZEtleXNDaGFuZ2UuZW1pdCh0aGlzLmV4cGFuZGVkS2V5cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5FeHBhbmREaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdba2VuZG9UcmVlVmlld0V4cGFuZGFibGVdJyB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkV4cGFuZERpcmVjdGl2ZS5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtcbiAgICB7IHR5cGU6IFRyZWVWaWV3Q29tcG9uZW50LCB9LFxuXTtcbkV4cGFuZERpcmVjdGl2ZS5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAnaXNFeHBhbmRlZCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnZXhwYW5kS2V5JzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFtcImV4cGFuZEJ5XCIsXSB9LF0sXG4gICAgJ2V4cGFuZGVkS2V5c0NoYW5nZSc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4gICAgJ2V4cGFuZGVkS2V5cyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG5cbi8qKlxuICogQSBkaXJlY3RpdmUgd2hpY2ggbWFuYWdlcyB0aGUgaW4tbWVtb3J5IHNlbGVjdGlvbiBzdGF0ZSBvZiB0aGUgVHJlZVZpZXcgbm9kZVxuICogKFtzZWUgZXhhbXBsZV0oeyUgc2x1ZyBzZWxlY3Rpb25fdHJlZXZpZXcgJX0pKS5cbiAqL1xuY2xhc3MgU2VsZWN0RGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmVlVmlldykge1xuICAgICAgICB0aGlzLnRyZWVWaWV3ID0gdHJlZVZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBgc2VsZWN0ZWRLZXlzYCBjb2xsZWN0aW9uIHdhcyB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWxlY3RlZEtleXNDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24kMSgoKSA9PiB7IH0pO1xuICAgICAgICB0aGlzLnNlbGVjdEFjdGlvbnMgPSB7XG4gICAgICAgICAgICAnbXVsdGlwbGUnOiAoZSkgPT4gdGhpcy5zZWxlY3RNdWx0aXBsZShlKSxcbiAgICAgICAgICAgICdzaW5nbGUnOiAoZSkgPT4gdGhpcy5zZWxlY3RTaW5nbGUoZSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRLZXlzID0gW107XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQodGhpcy50cmVlVmlldy5zZWxlY3Rpb25DaGFuZ2Uuc3Vic2NyaWJlKHRoaXMuc2VsZWN0LmJpbmQodGhpcykpKTtcbiAgICAgICAgdGhpcy50cmVlVmlldy5pc1NlbGVjdGVkID0gKGRhdGFJdGVtLCBpbmRleCkgPT4gKHRoaXMuc2VsZWN0ZWRLZXlzLmluZGV4T2YodGhpcy5pdGVtS2V5KHsgZGF0YUl0ZW0sIGluZGV4IH0pKSA+IC0xKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIHNldCBpc1NlbGVjdGVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHJlZVZpZXcuaXNTZWxlY3RlZCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBjb2xsZWN0aW9uIHRoYXQgd2lsbCBzdG9yZSB0aGUgc2VsZWN0ZWQga2V5c1xuICAgICAqIChbc2VlIGV4YW1wbGVdKHslIHNsdWcgc2VsZWN0aW9uX3RyZWV2aWV3ICV9I3RvYy1zZWxlY3Rpb24tbW9kZXMpKS5cbiAgICAgKi9cbiAgICBnZXQgc2VsZWN0ZWRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRLZXlzO1xuICAgIH1cbiAgICBzZXQgc2VsZWN0ZWRLZXlzKGtleXMpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRLZXlzID0ga2V5cztcbiAgICB9XG4gICAgZ2V0IGdldEFyaWFNdWx0aXNlbGVjdGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubW9kZSA9PT0gJ211bHRpcGxlJztcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIG1vZGU6ICdzaW5nbGUnXG4gICAgICAgIH07XG4gICAgICAgIGlmICghaXNQcmVzZW50KHRoaXMuc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQm9vbGVhbiA9IHR5cGVvZiB0aGlzLnNlbGVjdGlvbiA9PT0gJ2Jvb2xlYW4nO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25TZXR0aW5ncyA9IGlzQm9vbGVhbiA/IHsgZW5hYmxlZDogdGhpcy5zZWxlY3Rpb24gfSA6IHRoaXMuc2VsZWN0aW9uO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgc2VsZWN0aW9uU2V0dGluZ3MpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIGl0ZW1LZXkoZSkge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0S2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZS5pbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2VsZWN0S2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGUuZGF0YUl0ZW1bdGhpcy5zZWxlY3RLZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZWxlY3RLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdEtleShlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3QoZSkge1xuICAgICAgICBjb25zdCB7IGVuYWJsZWQsIG1vZGUgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcGVyZm9ybVNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0QWN0aW9uc1ttb2RlXSB8fCBub29wO1xuICAgICAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZXJmb3JtU2VsZWN0aW9uKGUpO1xuICAgIH1cbiAgICBzZWxlY3RTaW5nbGUobm9kZSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLml0ZW1LZXkobm9kZSk7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkS2V5c1swXSA9PT0ga2V5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZEtleXMgPSBba2V5XTtcbiAgICAgICAgdGhpcy5ub3RpZnkoKTtcbiAgICB9XG4gICAgc2VsZWN0TXVsdGlwbGUobm9kZSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLml0ZW1LZXkobm9kZSk7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuc2VsZWN0ZWRLZXlzLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IGlkeCA+IC0xO1xuICAgICAgICBpZiAoIWlzUHJlc2VudChrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRLZXlzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm90aWZ5KCk7XG4gICAgfVxuICAgIG5vdGlmeSgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEtleXNDaGFuZ2UuZW1pdCh0aGlzLnNlbGVjdGVkS2V5cy5zbGljZSgpKTtcbiAgICB9XG59XG5TZWxlY3REaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdba2VuZG9UcmVlVmlld1NlbGVjdGFibGVdJyB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cblNlbGVjdERpcmVjdGl2ZS5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtcbiAgICB7IHR5cGU6IFRyZWVWaWV3Q29tcG9uZW50LCB9LFxuXTtcblNlbGVjdERpcmVjdGl2ZS5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAnaXNTZWxlY3RlZCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnc2VsZWN0S2V5JzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnc2VsZWN0QnknLF0gfSxdLFxuICAgICdzZWxlY3Rpb24nOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydrZW5kb1RyZWVWaWV3U2VsZWN0YWJsZScsXSB9LF0sXG4gICAgJ3NlbGVjdGVkS2V5cyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnc2VsZWN0ZWRLZXlzQ2hhbmdlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbiAgICAnZ2V0QXJpYU11bHRpc2VsZWN0YWJsZSc6IFt7IHR5cGU6IEhvc3RCaW5kaW5nLCBhcmdzOiBbJ2F0dHIuYXJpYS1tdWx0aXNlbGVjdGFibGUnLF0gfSxdLFxufTtcblxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB3aGljaCBlbmNhcHN1bGF0ZXMgdGhlIHJldHJpZXZhbCBvZiBjaGlsZCBub2Rlcy5cbiAqL1xuY2xhc3MgSGllcmFyY2h5QmluZGluZ0RpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IodHJlZVZpZXcpIHtcbiAgICAgICAgdGhpcy50cmVlVmlldyA9IHRyZWVWaWV3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZmllbGQgbmFtZSB3aGljaCBob2xkcyB0aGUgZGF0YSBpdGVtcyBvZiB0aGUgY2hpbGQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBjaGlsZHJlbkZpZWxkKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIidjaGlsZHJlbkZpZWxkJyBjYW5ub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hpbGRyZW5GaWVsZCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZmllbGQgbmFtZSB3aGljaCBob2xkcyB0aGUgZGF0YSBpdGVtcyBvZiB0aGUgY2hpbGQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBjaGlsZHJlbkZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW5GaWVsZDtcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jaGlsZHJlbkZpZWxkKSkge1xuICAgICAgICAgICAgdGhpcy50cmVlVmlldy5jaGlsZHJlbiA9IGl0ZW0gPT4gb2YkMShnZXR0ZXIodGhpcy5jaGlsZHJlbkZpZWxkLCB0cnVlKShpdGVtKSk7XG4gICAgICAgICAgICB0aGlzLnRyZWVWaWV3Lmhhc0NoaWxkcmVuID0gaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBnZXR0ZXIodGhpcy5jaGlsZHJlbkZpZWxkLCB0cnVlKShpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQm9vbGVhbihjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkhpZXJhcmNoeUJpbmRpbmdEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdba2VuZG9UcmVlVmlld0hpZXJhcmNoeUJpbmRpbmddJyB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkhpZXJhcmNoeUJpbmRpbmdEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBUcmVlVmlld0NvbXBvbmVudCwgfSxcbl07XG5IaWVyYXJjaHlCaW5kaW5nRGlyZWN0aXZlLnByb3BEZWNvcmF0b3JzID0ge1xuICAgICdjaGlsZHJlbkZpZWxkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIExvYWRpbmdJbmRpY2F0b3JEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGV4cGFuZFNlcnZpY2UsIGxvYWRpbmdTZXJ2aWNlLCBjZCkge1xuICAgICAgICB0aGlzLmV4cGFuZFNlcnZpY2UgPSBleHBhbmRTZXJ2aWNlO1xuICAgICAgICB0aGlzLmxvYWRpbmdTZXJ2aWNlID0gbG9hZGluZ1NlcnZpY2U7XG4gICAgICAgIHRoaXMuY2QgPSBjZDtcbiAgICAgICAgdGhpcy5fbG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgbG9hZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRpbmc7XG4gICAgfVxuICAgIHNldCBsb2FkaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvYWRpbmcgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGNvbnN0IGxvYWRpbmdOb3RpZmljYXRpb25zID0gdGhpcy5sb2FkaW5nU2VydmljZVxuICAgICAgICAgICAgLmNoYW5nZXNcbiAgICAgICAgICAgIC5waXBlKGZpbHRlciQxKGluZGV4ID0+IGluZGV4ID09PSB0aGlzLmluZGV4KSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gdGhpcy5leHBhbmRTZXJ2aWNlXG4gICAgICAgICAgICAuY2hhbmdlc1xuICAgICAgICAgICAgLnBpcGUoZmlsdGVyJDEoKHsgaW5kZXggfSkgPT4gaW5kZXggPT09IHRoaXMuaW5kZXgpLCB0YXAkMSgoeyBleHBhbmQgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFleHBhbmQgJiYgdGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCBmaWx0ZXIkMSgoeyBleHBhbmQgfSkgPT4gZXhwYW5kKSwgc3dpdGNoTWFwJDEoeCA9PiBvZiQxKHgpLnBpcGUoZGVsYXkkMSgxMDApLCB0YWtlVW50aWwkMShsb2FkaW5nTm90aWZpY2F0aW9ucykpKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5sb2FkaW5nID0gdHJ1ZSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLmFkZChsb2FkaW5nTm90aWZpY2F0aW9ucy5zdWJzY3JpYmUoKCkgPT4gdGhpcy5sb2FkaW5nID0gZmFsc2UpKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkxvYWRpbmdJbmRpY2F0b3JEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdba2VuZG9UcmVlVmlld0xvYWRpbmddJyB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkxvYWRpbmdJbmRpY2F0b3JEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBFeHBhbmRTdGF0ZVNlcnZpY2UsIH0sXG4gICAgeyB0eXBlOiBMb2FkaW5nTm90aWZpY2F0aW9uU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IENoYW5nZURldGVjdG9yUmVmLCB9LFxuXTtcbkxvYWRpbmdJbmRpY2F0b3JEaXJlY3RpdmUucHJvcERlY29yYXRvcnMgPSB7XG4gICAgJ2xvYWRpbmcnOiBbeyB0eXBlOiBIb3N0QmluZGluZywgYXJnczogW1wiY2xhc3Muay1pLWxvYWRpbmdcIixdIH0sXSxcbiAgICAnaW5kZXgnOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogW1wia2VuZG9UcmVlVmlld0xvYWRpbmdcIixdIH0sXSxcbn07XG5cbi8qKlxuICogQGhpZGRlblxuICogUGVyZm9ybXMgdGhlIHJpZ2h0LXRvLWxlZnQgZnVuY3Rpb24gY29tcG9zaXRpb24uIEZ1bmN0aW9ucyBtdXN0IGhhdmUgYSB1bmFyeS5cbiAqL1xuY29uc3QgY29tcG9zZSA9ICguLi5hcmdzKSA9PiAoZGF0YSkgPT4gYXJncy5yZWR1Y2VSaWdodCgoYWNjLCBjdXJyKSA9PiBjdXJyKGFjYyksIGRhdGEpO1xuXG5jb25zdCBmaW5kQ2hpbGRyZW4gPSAocHJvcCwgbm9kZXMsIHZhbHVlKSA9PiBub2Rlcy5maWx0ZXIoeCA9PiBwcm9wKHgpID09PSB2YWx1ZSk7XG4vKipcbiAqIEEgZGlyZWN0aXZlIHdoaWNoIGVuY2Fwc3VsYXRlcyB0aGUgcmV0cmlldmFsIG9mIHRoZSBjaGlsZCBub2Rlcy5cbiAqL1xuY2xhc3MgRmxhdERhdGFCaW5kaW5nRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmVlVmlldykge1xuICAgICAgICB0aGlzLnRyZWVWaWV3ID0gdHJlZVZpZXc7XG4gICAgICAgIHRoaXMub3JpZ2luYWxEYXRhID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBub2RlcyB3aGljaCB3aWxsIGJlIGRpc3BsYXllZCBieSB0aGUgVHJlZVZpZXcuXG4gICAgICovXG4gICAgc2V0IG5vZGVzKHZhbHVlcykge1xuICAgICAgICB0aGlzLm9yaWdpbmFsRGF0YSA9IHZhbHVlcyB8fCBbXTtcbiAgICAgICAgaWYgKCFpc051bGxPckVtcHR5U3RyaW5nKHRoaXMucGFyZW50SWRGaWVsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBnZXR0ZXIodGhpcy5wYXJlbnRJZEZpZWxkLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMudHJlZVZpZXcubm9kZXMgPSAodGhpcy5vcmlnaW5hbERhdGEpLmZpbHRlcihjb21wb3NlKGlzQmxhbmssIHByb3ApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJlZVZpZXcubm9kZXMgPSB0aGlzLm9yaWdpbmFsRGF0YS5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5wYXJlbnRJZEZpZWxkKSAmJiBpc1ByZXNlbnQodGhpcy5pZEZpZWxkKSkge1xuICAgICAgICAgICAgY29uc3QgZmV0Y2hDaGlsZHJlbiA9IG5vZGUgPT4gZmluZENoaWxkcmVuKGdldHRlcih0aGlzLnBhcmVudElkRmllbGQsIHRydWUpLCB0aGlzLm9yaWdpbmFsRGF0YSB8fCBbXSwgZ2V0dGVyKHRoaXMuaWRGaWVsZCwgdHJ1ZSkobm9kZSkpO1xuICAgICAgICAgICAgdGhpcy50cmVlVmlldy5oYXNDaGlsZHJlbiA9IG5vZGUgPT4gZmV0Y2hDaGlsZHJlbihub2RlKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgdGhpcy50cmVlVmlldy5jaGlsZHJlbiA9IG5vZGUgPT4gb2YkMShmZXRjaENoaWxkcmVuKG5vZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoaXNDaGFuZ2VkKFwicGFyZW50SWRGaWVsZFwiLCBjaGFuZ2VzLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZXMgPSB0aGlzLm9yaWdpbmFsRGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkZsYXREYXRhQmluZGluZ0RpcmVjdGl2ZS5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogRGlyZWN0aXZlLCBhcmdzOiBbeyBzZWxlY3RvcjogJ1trZW5kb1RyZWVWaWV3RmxhdERhdGFCaW5kaW5nXScgfSxdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5GbGF0RGF0YUJpbmRpbmdEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBUcmVlVmlld0NvbXBvbmVudCwgfSxcbl07XG5GbGF0RGF0YUJpbmRpbmdEaXJlY3RpdmUucHJvcERlY29yYXRvcnMgPSB7XG4gICAgJ25vZGVzJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdwYXJlbnRJZEZpZWxkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpZEZpZWxkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcblxuY29uc3QgYnVpbGRJdGVtID0gKGluZGV4LCBkYXRhSXRlbSkgPT4gKHsgZGF0YUl0ZW0sIGluZGV4IH0pO1xubGV0IGlkID0gMDtcbi8qKlxuICogQGhpZGRlblxuICpcbiAqIEEgZGlyZWN0aXZlIHdoaWNoIG1hbmFnZXMgdGhlIGV4cGFuZGVkIHN0YXRlIG9mIHRoZSBUcmVlVmlldy5cbiAqL1xuY2xhc3MgVHJlZVZpZXdJdGVtRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBleHBhbmRTZXJ2aWNlLCBuYXZpZ2F0aW9uU2VydmljZSwgc2VsZWN0aW9uU2VydmljZSwgbG9va3VwU2VydmljZSwgcmVuZGVyZXIsIGliKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZXhwYW5kU2VydmljZSA9IGV4cGFuZFNlcnZpY2U7XG4gICAgICAgIHRoaXMubmF2aWdhdGlvblNlcnZpY2UgPSBuYXZpZ2F0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TZXJ2aWNlID0gc2VsZWN0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5sb29rdXBTZXJ2aWNlID0gbG9va3VwU2VydmljZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmliID0gaWI7XG4gICAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFyaWFDaGVja2VkID0gJ2ZhbHNlJztcbiAgICAgICAgdGhpcy5pZCA9IGlkKys7XG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgc2V0IGlzQ2hlY2tlZChjaGVja2VkKSB7XG4gICAgICAgIGlmIChjaGVja2VkID09PSAnY2hlY2tlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuYXJpYUNoZWNrZWQgPSAndHJ1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hlY2tlZCA9PT0gJ2luZGV0ZXJtaW5hdGUnKSB7XG4gICAgICAgICAgICB0aGlzLmFyaWFDaGVja2VkID0gJ21peGVkJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXJpYUNoZWNrZWQgPSAnZmFsc2UnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpc0V4cGFuZGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNFeHBhbmRlZCB8fCBmYWxzZTtcbiAgICB9XG4gICAgc2V0IGlzRXhwYW5kZWQoaXNFeHBhbmRlZCkge1xuICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gaXNFeHBhbmRlZDtcbiAgICB9XG4gICAgZ2V0IGlzU2VsZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NlbGVjdGVkIHx8IGZhbHNlO1xuICAgIH1cbiAgICBzZXQgaXNTZWxlY3RlZChpc1NlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkO1xuICAgIH1cbiAgICBnZXQgdHJlZUl0ZW0oKSB7XG4gICAgICAgIHJldHVybiBidWlsZEl0ZW0odGhpcy5pbmRleCwgdGhpcy5kYXRhSXRlbSk7XG4gICAgfVxuICAgIGdldCBwYXJlbnRUcmVlSXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50RGF0YUl0ZW0gPyBidWlsZEl0ZW0odGhpcy5wYXJlbnRJbmRleCwgdGhpcy5wYXJlbnREYXRhSXRlbSkgOiBudWxsO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5sb29rdXBTZXJ2aWNlLnJlZ2lzdGVySXRlbSh0aGlzLnRyZWVJdGVtLCB0aGlzLnBhcmVudFRyZWVJdGVtKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck5hdmlnYXRpb25JdGVtKCk7XG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RyZWVpdGVtJyk7XG4gICAgICAgIHRoaXMuc2V0QXJpYUF0dHJpYnV0ZXMoKTtcbiAgICAgICAgdGhpcy5zZXREaXNhYmxlZENsYXNzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVGFiSW5kZXgoKTtcbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBjb25zdCB7IGluZGV4LCBpc0Rpc2FibGVkIH0gPSBjaGFuZ2VzO1xuICAgICAgICBpZiAoaW5kZXggfHwgY2hhbmdlcy5pc0NoZWNrZWQgfHwgY2hhbmdlcy5pc0V4cGFuZGVkIHx8IGNoYW5nZXMuaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRBcmlhQXR0cmlidXRlcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldERpc2FibGVkQ2xhc3MoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdmVMb29rdXBJdGVtKGNoYW5nZXMpO1xuICAgICAgICB0aGlzLm1vdmVOYXZpZ2F0aW9uSXRlbShpbmRleCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZU5hdmlnYXRpb25JdGVtKGlzRGlzYWJsZWQpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS51bnJlZ2lzdGVySXRlbSh0aGlzLmlkLCB0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5sb29rdXBTZXJ2aWNlLnVucmVnaXN0ZXJJdGVtKHRoaXMuaW5kZXgsIHRoaXMuZGF0YUl0ZW0pO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMucmVkdWNlKChsaXN0LCBjYWxsYmFjaykgPT4gKGNhbGxiYWNrLnVuc3Vic2NyaWJlKCksIGxpc3QpLCBbXSk7XG4gICAgfVxuICAgIHN1YnNjcmliZSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS5tb3Zlc1xuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFiSW5kZXgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzSXRlbSgpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25TZXJ2aWNlLmV4cGFuZHNcbiAgICAgICAgICAgICAgICAucGlwZShmaWx0ZXIkMSgoeyBpbmRleCB9KSA9PiBpbmRleCA9PT0gdGhpcy5pbmRleCAmJiAhdGhpcy5pc0Rpc2FibGVkKSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCh7IGV4cGFuZCB9KSA9PiB0aGlzLmV4cGFuZChleHBhbmQpKVxuICAgICAgICBdO1xuICAgIH1cbiAgICByZWdpc3Rlck5hdmlnYXRpb25JdGVtKCkge1xuICAgICAgICB0aGlzLm5hdmlnYXRpb25TZXJ2aWNlLnJlZ2lzdGVySXRlbSh0aGlzLmlkLCB0aGlzLmluZGV4LCB0aGlzLmlzRGlzYWJsZWQpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlSXRlbSgpO1xuICAgIH1cbiAgICBhY3RpdmF0ZUl0ZW0oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uU2VydmljZSA9IHRoaXMubmF2aWdhdGlvblNlcnZpY2U7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblNlcnZpY2UgPSB0aGlzLnNlbGVjdGlvblNlcnZpY2U7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgc2VsZWN0aW9uU2VydmljZS5zZXRGaXJzdFNlbGVjdGVkKGluZGV4LCB0aGlzLmlzU2VsZWN0ZWQpO1xuICAgICAgICBpZiAoIW5hdmlnYXRpb25TZXJ2aWNlLmlzQWN0aXZlKGluZGV4KSAmJiBzZWxlY3Rpb25TZXJ2aWNlLmlzRmlyc3RTZWxlY3RlZChpbmRleCkpIHtcbiAgICAgICAgICAgIG5hdmlnYXRpb25TZXJ2aWNlLmFjdGl2YXRlSW5kZXgoaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4cGFuZChzaG91bGRFeHBhbmQpIHtcbiAgICAgICAgdGhpcy5leHBhbmRTZXJ2aWNlW3Nob3VsZEV4cGFuZCA/ICdleHBhbmQnIDogJ2NvbGxhcHNlJ10odGhpcy5pbmRleCwgdGhpcy5kYXRhSXRlbSk7XG4gICAgfVxuICAgIGlzRm9jdXNhYmxlKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuaXNEaXNhYmxlZCAmJiB0aGlzLm5hdmlnYXRpb25TZXJ2aWNlLmlzRm9jdXNhYmxlKHRoaXMuaW5kZXgpO1xuICAgIH1cbiAgICBmb2N1c0l0ZW0oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQgJiYgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS5pc0FjdGl2ZSh0aGlzLmluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlTG9va3VwSXRlbShjaGFuZ2VzID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBkYXRhSXRlbSwgaW5kZXgsIHBhcmVudERhdGFJdGVtLCBwYXJlbnRJbmRleCB9ID0gY2hhbmdlcztcbiAgICAgICAgaWYgKChpbmRleCAmJiBpbmRleC5maXJzdENoYW5nZSkgfHwgLy9za2lwIGZpcnN0IGNoYW5nZVxuICAgICAgICAgICAgKCFkYXRhSXRlbSAmJiAhaW5kZXggJiYgIXBhcmVudERhdGFJdGVtICYmICFwYXJlbnRJbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRJbmRleCA9IChpbmRleCB8fCB7fSkucHJldmlvdXNWYWx1ZSB8fCB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLmxvb2t1cFNlcnZpY2UucmVwbGFjZUl0ZW0ob2xkSW5kZXgsIHRoaXMudHJlZUl0ZW0sIHRoaXMucGFyZW50VHJlZUl0ZW0pO1xuICAgIH1cbiAgICBtb3ZlTmF2aWdhdGlvbkl0ZW0oaW5kZXhDaGFuZ2UgPSB7fSkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRWYWx1ZSwgZmlyc3RDaGFuZ2UsIHByZXZpb3VzVmFsdWUgfSA9IGluZGV4Q2hhbmdlO1xuICAgICAgICBpZiAoIWZpcnN0Q2hhbmdlICYmIGlzUHJlc2VudChjdXJyZW50VmFsdWUpICYmIGlzUHJlc2VudChwcmV2aW91c1ZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VydmljZS51bnJlZ2lzdGVySXRlbSh0aGlzLmlkLCBwcmV2aW91c1ZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvblNlcnZpY2UucmVnaXN0ZXJJdGVtKHRoaXMuaWQsIGN1cnJlbnRWYWx1ZSwgdGhpcy5pc0Rpc2FibGVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNhYmxlTmF2aWdhdGlvbkl0ZW0oZGlzYWJsZUNoYW5nZSkge1xuICAgICAgICBpZiAoIWRpc2FibGVDaGFuZ2UgfHwgZGlzYWJsZUNoYW5nZS5maXJzdENoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlcnZpY2UgPSB0aGlzLm5hdmlnYXRpb25TZXJ2aWNlO1xuICAgICAgICBpZiAodGhpcy5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICBzZXJ2aWNlLmFjdGl2YXRlQ2xvc2VzdCh0aGlzLmluZGV4KTsgLy9hY3RpdmF0ZSBiZWZvcmUgdW5yZWdpc3RlciB0aGUgaXRlbVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VydmljZS5hY3RpdmF0ZUZvY3VzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHNlcnZpY2UudW5yZWdpc3Rlckl0ZW0odGhpcy5pZCwgdGhpcy5pbmRleCk7XG4gICAgICAgIHNlcnZpY2UucmVnaXN0ZXJJdGVtKHRoaXMuaWQsIHRoaXMuaW5kZXgsIHRoaXMuaXNEaXNhYmxlZCk7XG4gICAgfVxuICAgIHNldEFyaWFBdHRyaWJ1dGVzKCkge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1sZXZlbCcsIHRoaXMuaWIubGV2ZWwodGhpcy5pbmRleCkudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdGhpcy5pc0V4cGFuZGVkLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIHRoaXMuaXNTZWxlY3RlZC50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsIHRoaXMuYXJpYUNoZWNrZWQpO1xuICAgIH1cbiAgICBzZXREaXNhYmxlZENsYXNzKCkge1xuICAgICAgICB0aGlzLnNldENsYXNzKCdrLXN0YXRlLWRpc2FibGVkJywgdGhpcy5pc0Rpc2FibGVkKTtcbiAgICB9XG4gICAgc2V0Q2xhc3MoY2xhc3NOYW1lLCB0b2dnbGUpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdG9nZ2xlID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyc7XG4gICAgICAgIHRoaXMucmVuZGVyZXJbYWN0aW9uXSh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICB9XG4gICAgdXBkYXRlVGFiSW5kZXgoKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsIHRoaXMuaXNGb2N1c2FibGUoKSA/ICcwJyA6ICctMScpO1xuICAgIH1cbiAgICBzZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIGF0dHIsIHZhbHVlKTtcbiAgICB9XG59XG5UcmVlVmlld0l0ZW1EaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdba2VuZG9UcmVlVmlld0l0ZW1dJyB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cblRyZWVWaWV3SXRlbURpcmVjdGl2ZS5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtcbiAgICB7IHR5cGU6IEVsZW1lbnRSZWYsIH0sXG4gICAgeyB0eXBlOiBFeHBhbmRTdGF0ZVNlcnZpY2UsIH0sXG4gICAgeyB0eXBlOiBOYXZpZ2F0aW9uU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IFNlbGVjdGlvblNlcnZpY2UsIH0sXG4gICAgeyB0eXBlOiBUcmVlVmlld0xvb2t1cFNlcnZpY2UsIH0sXG4gICAgeyB0eXBlOiBSZW5kZXJlcjIsIH0sXG4gICAgeyB0eXBlOiBJbmRleEJ1aWxkZXJTZXJ2aWNlLCB9LFxuXTtcblRyZWVWaWV3SXRlbURpcmVjdGl2ZS5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAnZGF0YUl0ZW0nOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ2luZGV4JzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdwYXJlbnREYXRhSXRlbSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAncGFyZW50SW5kZXgnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ2lzQ2hlY2tlZCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnaXNEaXNhYmxlZCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnaXNFeHBhbmRlZCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnaXNTZWxlY3RlZCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG5cbi8qKlxuICogQGhpZGRlblxuICpcbiAqIEEgZGlyZWN0aXZlIHdoaWNoIG1hbmFnZXMgdGhlIGV4cGFuZGVkIHN0YXRlIG9mIHRoZSBUcmVlVmlldy5cbiAqL1xuY2xhc3MgVHJlZVZpZXdJdGVtQ29udGVudERpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmF2aWdhdGlvblNlcnZpY2UsIHNlbGVjdGlvblNlcnZpY2UsIHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmF2aWdhdGlvblNlcnZpY2UgPSBuYXZpZ2F0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TZXJ2aWNlID0gc2VsZWN0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmluaXRpYWxTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbiQxKCgpID0+IHsgfSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQodGhpcy5uYXZpZ2F0aW9uU2VydmljZS5tb3Zlc1xuICAgICAgICAgICAgLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUl0ZW0uYmluZCh0aGlzKSkpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKHRoaXMubmF2aWdhdGlvblNlcnZpY2Uuc2VsZWN0c1xuICAgICAgICAgICAgLnBpcGUoZmlsdGVyJDEoKGluZGV4KSA9PiBpbmRleCA9PT0gdGhpcy5pbmRleCkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChpbmRleCkgPT4gdGhpcy5zZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdChpbmRleCwgdGhpcy5kYXRhSXRlbSkpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLnNlbGVjdGlvblNlcnZpY2UuY2hhbmdlc1xuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGlvbih0aGlzLmlzU2VsZWN0ZWQodGhpcy5kYXRhSXRlbSwgdGhpcy5pbmRleCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuaW5pdGlhbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rpb24odGhpcy5pbml0aWFsU2VsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rpb24odGhpcy5pbml0aWFsU2VsZWN0aW9uKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICB1cGRhdGVJdGVtKCkge1xuICAgICAgICB0aGlzLnJlbmRlcih0aGlzLm5hdmlnYXRpb25TZXJ2aWNlLmlzQWN0aXZlKHRoaXMuaW5kZXgpLCAnay1zdGF0ZS1mb2N1c2VkJyk7XG4gICAgfVxuICAgIHVwZGF0ZVNlbGVjdGlvbihzZWxlY3RlZCkge1xuICAgICAgICB0aGlzLnJlbmRlcihzZWxlY3RlZCwgJ2stc3RhdGUtc2VsZWN0ZWQnKTtcbiAgICB9XG4gICAgcmVuZGVyKGFkZENsYXNzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYWRkQ2xhc3MgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJztcbiAgICAgICAgdGhpcy5yZW5kZXJlclthY3Rpb25dKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBjbGFzc05hbWUpO1xuICAgIH1cbn1cblRyZWVWaWV3SXRlbUNvbnRlbnREaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdba2VuZG9UcmVlVmlld0l0ZW1Db250ZW50XScgfSxdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5UcmVlVmlld0l0ZW1Db250ZW50RGlyZWN0aXZlLmN0b3JQYXJhbWV0ZXJzID0gKCkgPT4gW1xuICAgIHsgdHlwZTogRWxlbWVudFJlZiwgfSxcbiAgICB7IHR5cGU6IE5hdmlnYXRpb25TZXJ2aWNlLCB9LFxuICAgIHsgdHlwZTogU2VsZWN0aW9uU2VydmljZSwgfSxcbiAgICB7IHR5cGU6IFJlbmRlcmVyMiwgfSxcbl07XG5UcmVlVmlld0l0ZW1Db250ZW50RGlyZWN0aXZlLnByb3BEZWNvcmF0b3JzID0ge1xuICAgICdkYXRhSXRlbSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICAnaW5kZXgnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ2luaXRpYWxTZWxlY3Rpb24nOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ2lzU2VsZWN0ZWQnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqXG4gKiBSZXByZXNlbnRzIHRoZSBDaGVja0JveCBjb21wb25lbnQgb2YgdGhlIEtlbmRvIFVJIFRyZWVWaWV3IGZvciBBbmd1bGFyLlxuICpcbiAqL1xuY2xhc3MgQ2hlY2tCb3hDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHJlbmRlcmVyLCBjaGFuZ2VEZXRlY3Rvcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3IgPSBjaGFuZ2VEZXRlY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGUgW2BpZGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvaWQpIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkID0gYF8ke2d1aWQoKX1gO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoZSBbYHRhYmluZGV4YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9HbG9iYWxfYXR0cmlidXRlcy90YWJpbmRleCkgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFiaW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgdXNlciBjaGFuZ2VzIHRoZSBjaGVjayBzdGF0ZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja1N0YXRlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmNoZWNrU3RhdGUgPSAnbm9uZSc7XG4gICAgfVxuICAgIC8vWFhYOiBpbXBsZW1lbnQgQ29tcG9uZW50VmFsdWVBY2Nlc3NvclxuICAgIC8vWFhYOiBmb2N1cy9ibHVyIG1ldGhvZHNcbiAgICBnZXQgY2xhc3NXcmFwcGVyKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGdldCBpbmRldGVybWluYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja1N0YXRlID09PSAnaW5kZXRlcm1pbmF0ZSc7XG4gICAgfVxuICAgIGdldCBjaGVja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja1N0YXRlID09PSAnY2hlY2tlZCc7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJ0YWJpbmRleFwiKTtcbiAgICB9XG4gICAgbmdEb0NoZWNrKCkge1xuICAgICAgICB0aGlzLmNoZWNrU3RhdGUgPSB0aGlzLmlzQ2hlY2tlZCh0aGlzLm5vZGUsIHRoaXMuaW5kZXgpO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGUudGFyZ2V0LmNoZWNrZWQgPyAnY2hlY2tlZCcgOiAnbm9uZSc7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgVmlldyBTdGF0ZSBzbyB0aGF0IEFuZ3VsYXIgdXBkYXRlcyB0aGUgaW5wdXQgaWYgdGhlIGlzQ2hlY2tlZCB2YWx1ZSBpcyB0aGUgc2FtZVxuICAgICAgICB0aGlzLmNoZWNrU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMuY2hlY2tTdGF0ZUNoYW5nZS5lbWl0KHN0YXRlKTtcbiAgICB9XG59XG5DaGVja0JveENvbXBvbmVudC5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogQ29tcG9uZW50LCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAna2VuZG8tY2hlY2tib3gnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgXG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgY2xhc3M9XCJrLWNoZWNrYm94XCJcbiAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICBbaWRdPVwiaWRcIlxuICAgICAgICAgICAgW2NoZWNrZWRdPVwiY2hlY2tlZFwiXG4gICAgICAgICAgICBbaW5kZXRlcm1pbmF0ZV09XCJpbmRldGVybWluYXRlXCJcbiAgICAgICAgICAgIFt0YWJpbmRleF09XCJ0YWJpbmRleFwiXG4gICAgICAgICAgICAoY2hhbmdlKT1cImhhbmRsZUNoYW5nZSgkZXZlbnQpXCJcbiAgICAgICAgLz5cbiAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBjbGFzcz1cImstY2hlY2tib3gtbGFiZWxcIlxuICAgICAgICAgICAgdGFiaW5kZXg9XCItMVwiXG4gICAgICAgICAgICBbZm9yXT1cImlkXCJcbiAgICAgICAgPnt7bGFiZWxUZXh0fX08L2xhYmVsPlxuICAgIGBcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuQ2hlY2tCb3hDb21wb25lbnQuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBFbGVtZW50UmVmLCB9LFxuICAgIHsgdHlwZTogUmVuZGVyZXIyLCB9LFxuICAgIHsgdHlwZTogQ2hhbmdlRGV0ZWN0b3JSZWYsIH0sXG5dO1xuQ2hlY2tCb3hDb21wb25lbnQucHJvcERlY29yYXRvcnMgPSB7XG4gICAgJ2NsYXNzV3JhcHBlcic6IFt7IHR5cGU6IEhvc3RCaW5kaW5nLCBhcmdzOiBbJ2NsYXNzLmstY2hlY2tib3gtd3JhcHBlcicsXSB9LF0sXG4gICAgJ2lkJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdpc0NoZWNrZWQnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ2luZGV4JzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdsYWJlbFRleHQnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgJ3RhYmluZGV4JzogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgICdjaGVja1N0YXRlQ2hhbmdlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbn07XG5cbmNvbnN0IENPTVBPTkVOVF9ESVJFQ1RJVkVTID0gW1xuICAgIENoZWNrQm94Q29tcG9uZW50XG5dO1xuLyoqXG4gKiBAaGlkZGVuXG4gKlxuICogUmVwcmVzZW50cyB0aGUgW05nTW9kdWxlXSh7eyBzaXRlLmRhdGEudXJscy5hbmd1bGFyWyduZ21vZHVsZWFwaSddIH19KSBkZWZpbml0aW9uIGZvciB0aGUgQ2hlY2tCb3ggY29tcG9uZW50LlxuICovXG5jbGFzcyBDaGVja0JveE1vZHVsZSB7XG59XG5DaGVja0JveE1vZHVsZS5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogTmdNb2R1bGUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbQ09NUE9ORU5UX0RJUkVDVElWRVNdLFxuICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtDT01QT05FTlRfRElSRUNUSVZFU11cbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuQ2hlY2tCb3hNb2R1bGUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXTtcblxuY29uc3QgQ09NUE9ORU5UX0RJUkVDVElWRVMkMSA9IFtcbiAgICBUcmVlVmlld0NvbXBvbmVudCxcbiAgICBUcmVlVmlld0dyb3VwQ29tcG9uZW50LFxuICAgIFRyZWVWaWV3SXRlbURpcmVjdGl2ZSxcbiAgICBUcmVlVmlld0l0ZW1Db250ZW50RGlyZWN0aXZlLFxuICAgIE5vZGVUZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICBDaGVja0RpcmVjdGl2ZSxcbiAgICBEaXNhYmxlRGlyZWN0aXZlLFxuICAgIEV4cGFuZERpcmVjdGl2ZSxcbiAgICBTZWxlY3REaXJlY3RpdmUsXG4gICAgSGllcmFyY2h5QmluZGluZ0RpcmVjdGl2ZSxcbiAgICBMb2FkaW5nSW5kaWNhdG9yRGlyZWN0aXZlLFxuICAgIEZsYXREYXRhQmluZGluZ0RpcmVjdGl2ZVxuXTtcbi8qKlxuICogQGhpZGRlblxuICovXG5jbGFzcyBTaGFyZWRNb2R1bGUge1xufVxuU2hhcmVkTW9kdWxlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtDT01QT05FTlRfRElSRUNUSVZFUyQxXSxcbiAgICAgICAgICAgICAgICBleHBvcnRzOiBbQ09NUE9ORU5UX0RJUkVDVElWRVMkMV0sXG4gICAgICAgICAgICAgICAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgQ2hlY2tCb3hNb2R1bGVdXG4gICAgICAgICAgICB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cblNoYXJlZE1vZHVsZS5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtdO1xuXG5jb25zdCBFWFBPUlRTID0gW1xuICAgIFRyZWVWaWV3Q29tcG9uZW50LFxuICAgIE5vZGVUZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICBDaGVja0RpcmVjdGl2ZSxcbiAgICBEaXNhYmxlRGlyZWN0aXZlLFxuICAgIEV4cGFuZERpcmVjdGl2ZSxcbiAgICBTZWxlY3REaXJlY3RpdmUsXG4gICAgSGllcmFyY2h5QmluZGluZ0RpcmVjdGl2ZSxcbiAgICBGbGF0RGF0YUJpbmRpbmdEaXJlY3RpdmVcbl07XG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIFtOZ01vZHVsZV0oe3sgc2l0ZS5kYXRhLnVybHMuYW5ndWxhclsnbmdtb2R1bGVhcGknXSB9fSkgZGVmaW5pdGlvbiBmb3IgdGhlIFRyZWVWaWV3IGNvbXBvbmVudC5cbiAqL1xuY2xhc3MgVHJlZVZpZXdNb2R1bGUge1xufVxuVHJlZVZpZXdNb2R1bGUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IE5nTW9kdWxlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtFWFBPUlRTXSxcbiAgICAgICAgICAgICAgICBpbXBvcnRzOiBbU2hhcmVkTW9kdWxlXVxuICAgICAgICAgICAgfSxdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5UcmVlVmlld01vZHVsZS5jdG9yUGFyYW1ldGVycyA9ICgpID0+IFtdO1xuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCB7IENoZWNrQm94Q29tcG9uZW50LCBDaGVja0JveE1vZHVsZSwgRGF0YUNoYW5nZU5vdGlmaWNhdGlvblNlcnZpY2UsIEV4cGFuZFN0YXRlU2VydmljZSwgSW5kZXhCdWlsZGVyU2VydmljZSwgTG9hZGluZ0luZGljYXRvckRpcmVjdGl2ZSwgTG9hZGluZ05vdGlmaWNhdGlvblNlcnZpY2UsIE5hdmlnYXRpb25TZXJ2aWNlLCBOb2RlQ2hpbGRyZW5TZXJ2aWNlLCBTZWxlY3Rpb25TZXJ2aWNlLCBTaGFyZWRNb2R1bGUsIFRyZWVWaWV3R3JvdXBDb21wb25lbnQsIFRyZWVWaWV3SXRlbUNvbnRlbnREaXJlY3RpdmUsIFRyZWVWaWV3SXRlbURpcmVjdGl2ZSwgVHJlZVZpZXdMb29rdXBTZXJ2aWNlLCBUcmVlVmlld0NvbXBvbmVudCwgVHJlZVZpZXdNb2R1bGUsIE5vZGVUZW1wbGF0ZURpcmVjdGl2ZSwgQ2hlY2tEaXJlY3RpdmUsIERpc2FibGVEaXJlY3RpdmUsIEV4cGFuZERpcmVjdGl2ZSwgU2VsZWN0RGlyZWN0aXZlLCBIaWVyYXJjaHlCaW5kaW5nRGlyZWN0aXZlLCBGbGF0RGF0YUJpbmRpbmdEaXJlY3RpdmUgfTtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nexports.BehaviorSubject = rxjs_1.BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nexports.Subscription = rxjs_1.Subscription;\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nexports.empty = rxjs_1.empty;\n//# sourceMappingURL=empty.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nexports.merge = rxjs_1.merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nexports.of = rxjs_1.of;\n//# sourceMappingURL=of.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.catchError = operators_1.catchError;\n//# sourceMappingURL=catchError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.delay = operators_1.delay;\n//# sourceMappingURL=delay.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.filter = operators_1.filter;\n//# sourceMappingURL=filter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.map = operators_1.map;\n//# sourceMappingURL=map.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.skip = operators_1.skip;\n//# sourceMappingURL=skip.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.switchMap = operators_1.switchMap;\n//# sourceMappingURL=switchMap.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.take = operators_1.take;\n//# sourceMappingURL=take.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.takeUntil = operators_1.takeUntil;\n//# sourceMappingURL=takeUntil.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nexports.tap = operators_1.tap;\n//# sourceMappingURL=tap.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/BehaviorSubject\"));\n//# sourceMappingURL=BehaviorSubject.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/Subscription\"));\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/observable/empty\"));\n//# sourceMappingURL=empty.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/observable/merge\"));\n//# sourceMappingURL=merge.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/observable/of\"));\n//# sourceMappingURL=of.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/catchError\"));\n//# sourceMappingURL=catchError.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/delay\"));\n//# sourceMappingURL=delay.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/filter\"));\n//# sourceMappingURL=filter.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/map\"));\n//# sourceMappingURL=map.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/skip\"));\n//# sourceMappingURL=skip.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/switchMap\"));\n//# sourceMappingURL=switchMap.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/take\"));\n//# sourceMappingURL=take.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/takeUntil\"));\n//# sourceMappingURL=takeUntil.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/operators/tap\"));\n//# sourceMappingURL=tap.js.map","\nimport {map} from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { AuthenticatorService } from '../authenticator.service';\nimport { TreeTableModule } from 'primeng/treetable';\nimport { TreeNode } from 'primeng/api';\n\n@Injectable()\nexport class TopicListingService {\n\n  baseUrl: string = '';\n  Authorization: any;\n  headers;\n  institute_id;\n\n\n  private drl = \"assets/data.json\";\n  constructor(\n    private http: HttpClient,\n    private auth: AuthenticatorService\n  ) {\n    this.auth.currentAuthKey.subscribe(key => {\n      this.Authorization = key;\n      this.headers = new HttpHeaders(\n        { \"Content-Type\": \"application/json\", \"Authorization\": this.Authorization });\n    })\n    this.auth.currentInstituteId.subscribe(id => {\n      this.institute_id = id;\n    });\n    this.baseUrl = this.auth.getBaseUrl();\n  }\n\n  getSatndard() {\n    let url = this.baseUrl + \"/api/v1/standards/all/\" + this.institute_id + \"?active=Y\"\n    return this.http.get(url, { headers: this.headers }).pipe(map(\n      data => {\n        return data;\n      },\n      error => {\n        return error;\n      }\n    ))\n  }\n\n  getSubject(obj) {\n    let url = this.baseUrl + \"/api/v1/subjects/standards/\" + obj + \"?active=Y\"\n    return this.http.get(url, { headers: this.headers }).pipe(map(\n      data => {\n        return data;\n      },\n      error => {\n        return error;\n      }\n    ))\n  }\n\n  postTopic(obj) {\n    let url = this.baseUrl + \"/api/v1/topic_manager/add/\" + this.institute_id;\n    return this.http.post(url, obj, { headers: this.headers }).pipe(map(\n      data => {\n        return data;\n      },\n      error => {\n        return error;\n      }\n    ))\n  }\n\n  getZeroLevelTopics(subject_id){\n    let url = this.baseUrl + \"/api/v1/topic_manager/add/\" + this.institute_id +\"/subjects/\"+subject_id+\"/topics\";\n    return this.http.get(url, { headers: this.headers }).pipe(map(\n      data => {\n        return data;\n      },\n      error => {\n        return error;\n      }\n    ))\n  }\n\n  getAllTopicsSubTopics(subject_id){\n    let url = this.baseUrl + \"/api/v1/topic_manager/standards/-1/subjects/\"+subject_id+\"/topics\";\n    return this.http.get(url, { headers: this.headers }).pipe(map(\n      data => {\n        return data;\n      },\n      error => {\n        return error;\n      }\n    ))\n  }\n\n  getSubTopics(parent_topic_id){\n    let url = this.baseUrl + \"/api/v1/topic_manager/subTopicList/\" + this.institute_id +\"/\"+parent_topic_id;\n    return this.http.get(url, { headers: this.headers }).pipe(map(\n      data => {\n        return data;\n      },\n      error => {\n        return error;\n      }\n    ))\n  }\n\n}\n"]}