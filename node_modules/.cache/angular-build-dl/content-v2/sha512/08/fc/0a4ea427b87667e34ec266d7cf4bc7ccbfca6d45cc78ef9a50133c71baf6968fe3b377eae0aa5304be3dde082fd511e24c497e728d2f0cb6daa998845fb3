{"version":3,"sources":["webpack:///node_modules/primeng/components/common/treedragdropservice.js","webpack:///node_modules/primeng/components/tree/tree.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","exports","value","core_1","Subject_1","TreeDragDropService","dragStartSource","Subject","dragStopSource","dragStart$","asObservable","dragStop$","prototype","startDrag","event","next","stopDrag","Injectable","__metadata","k","v","metadata","__param","paramIndex","decorator","core_2","common_1","shared_1","shared_2","treedragdropservice_1","UITreeNode","tree","UITreeNode_1","ngOnInit","node","parent","parentNode","getIcon","icon","expanded","children","expandedIcon","collapsedIcon","ICON_CLASS","isLeaf","leaf","toggle","onNodeCollapse","emit","originalEvent","onNodeExpand","onNodeClick","onNodeTouchEnd","onNodeRightClick","isSelected","onDropPoint","position","preventDefault","dragNode","dragNodeIndex","dragNodeScope","isValidDropPointIndex","dragNodeTree","index","allowDrop","newNodeList","dragNodeSubNodes","splice","dropIndex","push","dragDropService","subNodes","onNodeDrop","dropNode","draghoverPrev","draghoverNext","onDropPointDragOver","dataTransfer","dropEffect","onDropPointDragEnter","onDropPointDragLeave","onDragStart","draggableNodes","draggable","setData","scope","draggableScope","onDragStop","onDropNodeDragOver","droppableNodes","stopPropagation","onDropNode","droppable","draghoverNode","onDropNodeDragEnter","onDropNodeDragLeave","rect","currentTarget","getBoundingClientRect","x","left","width","y","Math","floor","top","height","Input","Boolean","Number","Component","selector","template","Inject","forwardRef","Tree","el","selectionChange","EventEmitter","onNodeSelect","onNodeUnselect","onNodeContextMenuSelect","layout","metaKeySelection","propagateSelectionUp","propagateSelectionDown","loadingIcon","emptyMessage","_this","dragStartSubscription","subscribe","dragStopSubscription","dragHover","get","enumerable","configurable","ngAfterContentInit","templates","templateMap","forEach","item","name","eventTarget","className","indexOf","selectionMode","selectable","index_1","findIndexInSelection","selected","isCheckboxSelectionMode","propagateDown","selection","filter","val","propagateUp","concat","metaSelection","nodeTouched","metaKey","ctrlKey","isSingleSelectionMode","isMultipleSelectionMode","contextMenu","show","select","selectedCount","childPartialSelected","_i","_a","child","partialSelected","index_2","getTemplateForNode","type","onDragOver","onDrop","onDragEnter","onDragLeave","isValidDragScope","allow","parent_1","dragScope","dropScope","droppableScope","Array","dropScope_1","s","dragScope_1","ds","getBlockableElement","nativeElement","ngOnDestroy","unsubscribe","String","Output","ContentChildren","PrimeTemplate","QueryList","Optional","ElementRef","TreeModule","NgModule","imports","CommonModule","SharedModule","declarations"],"mappings":";;;;;;;;;;;;;;AACA,UAAIA,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,YAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,YAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQH,MAAR,GAAiBE,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCR,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,YAA2HO,CAA3H;AACA,YAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBZ,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAX,GAAoB,CAAjC,EAAoCO,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C;AAAiD,cAAIH,CAAC,GAAGV,UAAU,CAACa,CAAD,CAAlB,EAAuBN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACT,MAAD,EAASC,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACT,MAAD,EAASC,GAAT,CAA7C,KAA+DK,CAAnE;AAAxE;AACL,eAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACM,cAAP,CAAsBb,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,OALD;;AAMAC,YAAM,CAACM,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,aAAK,EAAE;AAAT,OAA7C;;AACA,UAAIC,MAAM,GAAG,mBAAO;AAAC;AAAA,kEAAD,CAApB;;AACA,UAAIC,SAAS,GAAG,mBAAO;AAAC;AAAA,sCAAD,CAAvB;;AACA,UAAIC,mBAAmB;AAAG;AAAe,kBAAY;AACjD,iBAASA,mBAAT,GAA+B;AAC3B,eAAKC,eAAL,GAAuB,IAAIF,SAAS,CAACG,OAAd,EAAvB;AACA,eAAKC,cAAL,GAAsB,IAAIJ,SAAS,CAACG,OAAd,EAAtB;AACA,eAAKE,UAAL,GAAkB,KAAKH,eAAL,CAAqBI,YAArB,EAAlB;AACA,eAAKC,SAAL,GAAiB,KAAKH,cAAL,CAAoBE,YAApB,EAAjB;AACH;;AACDL,2BAAmB,CAACO,SAApB,CAA8BC,SAA9B,GAA0C,UAAUC,KAAV,EAAiB;AACvD,eAAKR,eAAL,CAAqBS,IAArB,CAA0BD,KAA1B;AACH,SAFD;;AAGAT,2BAAmB,CAACO,SAApB,CAA8BI,QAA9B,GAAyC,UAAUF,KAAV,EAAiB;AACtD,eAAKN,cAAL,CAAoBO,IAApB,CAAyBD,KAAzB;AACH,SAFD;;AAGAT,2BAAmB,GAAGpB,UAAU,CAAC,CAC7BkB,MAAM,CAACc,UAAP,EAD6B,CAAD,EAE7BZ,mBAF6B,CAAhC;AAGA,eAAOA,mBAAP;AACH,OAjBwC,EAAzC;;AAkBAJ,aAAO,CAACI,mBAAR,GAA8BA,mBAA9B,C,CACA;;;;;;;;;;;;;;;;;AC5BA,UAAIpB,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,YAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,YAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQH,MAAR,GAAiBE,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCR,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,YAA2HO,CAA3H;AACA,YAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBZ,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAX,GAAoB,CAAjC,EAAoCO,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C;AAAiD,cAAIH,CAAC,GAAGV,UAAU,CAACa,CAAD,CAAlB,EAAuBN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACT,MAAD,EAASC,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACT,MAAD,EAASC,GAAT,CAA7C,KAA+DK,CAAnE;AAAxE;AACL,eAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACM,cAAP,CAAsBb,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,OALD;;AAMA,UAAIyB,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC1D,YAAI,OAAOvB,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACwB,QAAf,KAA4B,UAA/D,EAA2E,OAAOxB,OAAO,CAACwB,QAAR,CAAiBF,CAAjB,EAAoBC,CAApB,CAAP;AAC9E,OAFD;;AAGA,UAAIE,OAAO,GAAI,QAAQ,KAAKA,OAAd,IAA0B,UAAUC,UAAV,EAAsBC,SAAtB,EAAiC;AACrE,eAAO,UAAUrC,MAAV,EAAkBC,GAAlB,EAAuB;AAAEoC,mBAAS,CAACrC,MAAD,EAASC,GAAT,EAAcmC,UAAd,CAAT;AAAqC,SAArE;AACH,OAFD;;AAGA7B,YAAM,CAACM,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,aAAK,EAAE;AAAT,OAA7C;;AACA,UAAIC,MAAM,GAAG,mBAAO;AAAC;AAAA,kEAAD,CAApB;;AACA,UAAIsB,MAAM,GAAG,mBAAO;AAAC;AAAA,kEAAD,CAApB;;AACA,UAAIC,QAAQ,GAAG,mBAAO;AAAC;AAAA,sEAAD,CAAtB;;AACA,UAAIC,QAAQ,GAAG,mBAAO;AAAC;AAAA,0DAAD,CAAtB;;AACA,UAAIC,QAAQ,GAAG,mBAAO;AAAC;AAAA,0DAAD,CAAtB;;AACA,UAAIC,qBAAqB,GAAG,mBAAO;AAAC;AAAA,uEAAD,CAAnC;;AACA,UAAIC,UAAU;AAAG;AAAe,kBAAY;AACxC,iBAASA,UAAT,CAAoBC,IAApB,EAA0B;AACtB,eAAKA,IAAL,GAAYA,IAAZ;AACH;;AACDC,oBAAY,GAAGF,UAAf;;AACAA,kBAAU,CAAClB,SAAX,CAAqBqB,QAArB,GAAgC,YAAY;AACxC,eAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAKC,UAAxB;AACH,SAFD;;AAGAN,kBAAU,CAAClB,SAAX,CAAqByB,OAArB,GAA+B,YAAY;AACvC,cAAIC,IAAJ;AACA,cAAI,KAAKJ,IAAL,CAAUI,IAAd,EACIA,IAAI,GAAG,KAAKJ,IAAL,CAAUI,IAAjB,CADJ,KAGIA,IAAI,GAAG,KAAKJ,IAAL,CAAUK,QAAV,IAAsB,KAAKL,IAAL,CAAUM,QAAhC,IAA4C,KAAKN,IAAL,CAAUM,QAAV,CAAmBhD,MAA/D,GAAwE,KAAK0C,IAAL,CAAUO,YAAlF,GAAiG,KAAKP,IAAL,CAAUQ,aAAlH;AACJ,iBAAOV,YAAY,CAACW,UAAb,GAA0B,GAA1B,GAAgCL,IAAvC;AACH,SAPD;;AAQAR,kBAAU,CAAClB,SAAX,CAAqBgC,MAArB,GAA8B,YAAY;AACtC,iBAAO,KAAKV,IAAL,CAAUW,IAAV,IAAkB,KAAlB,GAA0B,KAA1B,GAAkC,EAAE,KAAKX,IAAL,CAAUM,QAAV,IAAsB,KAAKN,IAAL,CAAUM,QAAV,CAAmBhD,MAA3C,CAAzC;AACH,SAFD;;AAGAsC,kBAAU,CAAClB,SAAX,CAAqBkC,MAArB,GAA8B,UAAUhC,KAAV,EAAiB;AAC3C,cAAI,KAAKoB,IAAL,CAAUK,QAAd,EACI,KAAKR,IAAL,CAAUgB,cAAV,CAAyBC,IAAzB,CAA8B;AAAEC,yBAAa,EAAEnC,KAAjB;AAAwBoB,gBAAI,EAAE,KAAKA;AAAnC,WAA9B,EADJ,KAGI,KAAKH,IAAL,CAAUmB,YAAV,CAAuBF,IAAvB,CAA4B;AAAEC,yBAAa,EAAEnC,KAAjB;AAAwBoB,gBAAI,EAAE,KAAKA;AAAnC,WAA5B;AACJ,eAAKA,IAAL,CAAUK,QAAV,GAAqB,CAAC,KAAKL,IAAL,CAAUK,QAAhC;AACH,SAND;;AAOAT,kBAAU,CAAClB,SAAX,CAAqBuC,WAArB,GAAmC,UAAUrC,KAAV,EAAiB;AAChD,eAAKiB,IAAL,CAAUoB,WAAV,CAAsBrC,KAAtB,EAA6B,KAAKoB,IAAlC;AACH,SAFD;;AAGAJ,kBAAU,CAAClB,SAAX,CAAqBwC,cAArB,GAAsC,YAAY;AAC9C,eAAKrB,IAAL,CAAUqB,cAAV;AACH,SAFD;;AAGAtB,kBAAU,CAAClB,SAAX,CAAqByC,gBAArB,GAAwC,UAAUvC,KAAV,EAAiB;AACrD,eAAKiB,IAAL,CAAUsB,gBAAV,CAA2BvC,KAA3B,EAAkC,KAAKoB,IAAvC;AACH,SAFD;;AAGAJ,kBAAU,CAAClB,SAAX,CAAqB0C,UAArB,GAAkC,YAAY;AAC1C,iBAAO,KAAKvB,IAAL,CAAUuB,UAAV,CAAqB,KAAKpB,IAA1B,CAAP;AACH,SAFD;;AAGAJ,kBAAU,CAAClB,SAAX,CAAqB2C,WAArB,GAAmC,UAAUzC,KAAV,EAAiB0C,QAAjB,EAA2B;AAC1D1C,eAAK,CAAC2C,cAAN;AACA,cAAIC,QAAQ,GAAG,KAAK3B,IAAL,CAAU2B,QAAzB;AACA,cAAIC,aAAa,GAAG,KAAK5B,IAAL,CAAU4B,aAA9B;AACA,cAAIC,aAAa,GAAG,KAAK7B,IAAL,CAAU6B,aAA9B;AACA,cAAIC,qBAAqB,GAAG,KAAK9B,IAAL,CAAU+B,YAAV,KAA2B,KAAK/B,IAAhC,GAAwCyB,QAAQ,KAAK,CAAb,IAAkBG,aAAa,KAAK,KAAKI,KAAL,GAAa,CAAzF,GAA8F,IAA1H;;AACA,cAAI,KAAKhC,IAAL,CAAUiC,SAAV,CAAoBN,QAApB,EAA8B,KAAKxB,IAAnC,EAAyC0B,aAAzC,KAA2DC,qBAA/D,EAAsF;AAClF,gBAAII,WAAW,GAAG,KAAK/B,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUC,MAAV,CAAiBK,QAApC,GAA+C,KAAKT,IAAL,CAAU7B,KAA3E;AACA,iBAAK6B,IAAL,CAAUmC,gBAAV,CAA2BC,MAA3B,CAAkCR,aAAlC,EAAiD,CAAjD;AACA,gBAAIS,SAAS,GAAG,KAAKL,KAArB;;AACA,gBAAIP,QAAQ,GAAG,CAAf,EAAkB;AACdY,uBAAS,GAAI,KAAKrC,IAAL,CAAUmC,gBAAV,KAA+BD,WAAhC,GAAiD,KAAKlC,IAAL,CAAU4B,aAAV,GAA0B,KAAKI,KAAhC,GAAyC,KAAKA,KAA9C,GAAsD,KAAKA,KAAL,GAAa,CAAnH,GAAwH,KAAKA,KAAzI;AACAE,yBAAW,CAACE,MAAZ,CAAmBC,SAAnB,EAA8B,CAA9B,EAAiCV,QAAjC;AACH,aAHD,MAIK;AACDU,uBAAS,GAAGH,WAAW,CAACzE,MAAxB;AACAyE,yBAAW,CAACI,IAAZ,CAAiBX,QAAjB;AACH;;AACD,iBAAK3B,IAAL,CAAUuC,eAAV,CAA0BtD,QAA1B,CAAmC;AAC/BkB,kBAAI,EAAEwB,QADyB;AAE/Ba,sBAAQ,EAAE,KAAKrC,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUC,MAAV,CAAiBK,QAApC,GAA+C,KAAKT,IAAL,CAAU7B,KAFpC;AAG/B6D,mBAAK,EAAEJ;AAHwB,aAAnC;AAKA,iBAAK5B,IAAL,CAAUyC,UAAV,CAAqBxB,IAArB,CAA0B;AACtBC,2BAAa,EAAEnC,KADO;AAEtB4C,sBAAQ,EAAEA,QAFY;AAGtBe,sBAAQ,EAAE,KAAKvC,IAHO;AAItBkC,uBAAS,EAAEA;AAJW,aAA1B;AAMH;;AACD,eAAKM,aAAL,GAAqB,KAArB;AACA,eAAKC,aAAL,GAAqB,KAArB;AACH,SAhCD;;AAiCA7C,kBAAU,CAAClB,SAAX,CAAqBgE,mBAArB,GAA2C,UAAU9D,KAAV,EAAiB;AACxDA,eAAK,CAAC+D,YAAN,CAAmBC,UAAnB,GAAgC,MAAhC;AACAhE,eAAK,CAAC2C,cAAN;AACH,SAHD;;AAIA3B,kBAAU,CAAClB,SAAX,CAAqBmE,oBAArB,GAA4C,UAAUjE,KAAV,EAAiB0C,QAAjB,EAA2B;AACnE,cAAI,KAAKzB,IAAL,CAAUiC,SAAV,CAAoB,KAAKjC,IAAL,CAAU2B,QAA9B,EAAwC,KAAKxB,IAA7C,EAAmD,KAAKH,IAAL,CAAU6B,aAA7D,CAAJ,EAAiF;AAC7E,gBAAIJ,QAAQ,GAAG,CAAf,EACI,KAAKkB,aAAL,GAAqB,IAArB,CADJ,KAGI,KAAKC,aAAL,GAAqB,IAArB;AACP;AACJ,SAPD;;AAQA7C,kBAAU,CAAClB,SAAX,CAAqBoE,oBAArB,GAA4C,UAAUlE,KAAV,EAAiB;AACzD,eAAK4D,aAAL,GAAqB,KAArB;AACA,eAAKC,aAAL,GAAqB,KAArB;AACH,SAHD;;AAIA7C,kBAAU,CAAClB,SAAX,CAAqBqE,WAArB,GAAmC,UAAUnE,KAAV,EAAiB;AAChD,cAAI,KAAKiB,IAAL,CAAUmD,cAAV,IAA4B,KAAKhD,IAAL,CAAUiD,SAAV,KAAwB,KAAxD,EAA+D;AAC3DrE,iBAAK,CAAC+D,YAAN,CAAmBO,OAAnB,CAA2B,MAA3B,EAAmC,MAAnC;AACA,iBAAKrD,IAAL,CAAUuC,eAAV,CAA0BzD,SAA1B,CAAoC;AAChCkB,kBAAI,EAAE,IAD0B;AAEhCG,kBAAI,EAAE,KAAKA,IAFqB;AAGhCqC,sBAAQ,EAAE,KAAKrC,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUC,MAAV,CAAiBK,QAApC,GAA+C,KAAKT,IAAL,CAAU7B,KAHnC;AAIhC6D,mBAAK,EAAE,KAAKA,KAJoB;AAKhCsB,mBAAK,EAAE,KAAKtD,IAAL,CAAUuD;AALe,aAApC;AAOH,WATD,MAUK;AACDxE,iBAAK,CAAC2C,cAAN;AACH;AACJ,SAdD;;AAeA3B,kBAAU,CAAClB,SAAX,CAAqB2E,UAArB,GAAkC,UAAUzE,KAAV,EAAiB;AAC/C,eAAKiB,IAAL,CAAUuC,eAAV,CAA0BtD,QAA1B,CAAmC;AAC/BkB,gBAAI,EAAE,KAAKA,IADoB;AAE/BqC,oBAAQ,EAAE,KAAKrC,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUC,MAAV,CAAiBK,QAApC,GAA+C,KAAKT,IAAL,CAAU7B,KAFpC;AAG/B6D,iBAAK,EAAE,KAAKA;AAHmB,WAAnC;AAKH,SAND;;AAOAjC,kBAAU,CAAClB,SAAX,CAAqB4E,kBAArB,GAA0C,UAAU1E,KAAV,EAAiB;AACvDA,eAAK,CAAC+D,YAAN,CAAmBC,UAAnB,GAAgC,MAAhC;;AACA,cAAI,KAAK/C,IAAL,CAAU0D,cAAd,EAA8B;AAC1B3E,iBAAK,CAAC2C,cAAN;AACA3C,iBAAK,CAAC4E,eAAN;AACH;AACJ,SAND;;AAOA5D,kBAAU,CAAClB,SAAX,CAAqB+E,UAArB,GAAkC,UAAU7E,KAAV,EAAiB;AAC/C,cAAI,KAAKiB,IAAL,CAAU0D,cAAV,IAA4B,KAAKvD,IAAL,CAAU0D,SAAV,KAAwB,KAAxD,EAA+D;AAC3D9E,iBAAK,CAAC2C,cAAN;AACA3C,iBAAK,CAAC4E,eAAN;AACA,gBAAIhC,QAAQ,GAAG,KAAK3B,IAAL,CAAU2B,QAAzB;;AACA,gBAAI,KAAK3B,IAAL,CAAUiC,SAAV,CAAoBN,QAApB,EAA8B,KAAKxB,IAAnC,EAAyC,KAAKH,IAAL,CAAU6B,aAAnD,CAAJ,EAAuE;AACnE,kBAAID,aAAa,GAAG,KAAK5B,IAAL,CAAU4B,aAA9B;AACA,mBAAK5B,IAAL,CAAUmC,gBAAV,CAA2BC,MAA3B,CAAkCR,aAAlC,EAAiD,CAAjD;AACA,kBAAI,KAAKzB,IAAL,CAAUM,QAAd,EACI,KAAKN,IAAL,CAAUM,QAAV,CAAmB6B,IAAnB,CAAwBX,QAAxB,EADJ,KAGI,KAAKxB,IAAL,CAAUM,QAAV,GAAqB,CAACkB,QAAD,CAArB;AACJ,mBAAK3B,IAAL,CAAUuC,eAAV,CAA0BtD,QAA1B,CAAmC;AAC/BkB,oBAAI,EAAEwB,QADyB;AAE/Ba,wBAAQ,EAAE,KAAKrC,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUC,MAAV,CAAiBK,QAApC,GAA+C,KAAKT,IAAL,CAAU7B,KAFpC;AAG/B6D,qBAAK,EAAE,KAAKhC,IAAL,CAAU4B;AAHc,eAAnC;AAKA,mBAAK5B,IAAL,CAAUyC,UAAV,CAAqBxB,IAArB,CAA0B;AACtBC,6BAAa,EAAEnC,KADO;AAEtB4C,wBAAQ,EAAEA,QAFY;AAGtBe,wBAAQ,EAAE,KAAKvC,IAHO;AAItB6B,qBAAK,EAAE,KAAKA;AAJU,eAA1B;AAMH;AACJ;;AACD,eAAK8B,aAAL,GAAqB,KAArB;AACH,SA1BD;;AA2BA/D,kBAAU,CAAClB,SAAX,CAAqBkF,mBAArB,GAA2C,UAAUhF,KAAV,EAAiB;AACxD,cAAI,KAAKiB,IAAL,CAAU0D,cAAV,IAA4B,KAAKvD,IAAL,CAAU0D,SAAV,KAAwB,KAApD,IAA6D,KAAK7D,IAAL,CAAUiC,SAAV,CAAoB,KAAKjC,IAAL,CAAU2B,QAA9B,EAAwC,KAAKxB,IAA7C,EAAmD,KAAKH,IAAL,CAAU6B,aAA7D,CAAjE,EAA8I;AAC1I,iBAAKiC,aAAL,GAAqB,IAArB;AACH;AACJ,SAJD;;AAKA/D,kBAAU,CAAClB,SAAX,CAAqBmF,mBAArB,GAA2C,UAAUjF,KAAV,EAAiB;AACxD,cAAI,KAAKiB,IAAL,CAAU0D,cAAd,EAA8B;AAC1B,gBAAIO,IAAI,GAAGlF,KAAK,CAACmF,aAAN,CAAoBC,qBAApB,EAAX;;AACA,gBAAIpF,KAAK,CAACqF,CAAN,GAAUH,IAAI,CAACI,IAAL,GAAYJ,IAAI,CAACK,KAA3B,IAAoCvF,KAAK,CAACqF,CAAN,GAAUH,IAAI,CAACI,IAAnD,IAA2DtF,KAAK,CAACwF,CAAN,IAAWC,IAAI,CAACC,KAAL,CAAWR,IAAI,CAACS,GAAL,GAAWT,IAAI,CAACU,MAA3B,CAAtE,IAA4G5F,KAAK,CAACwF,CAAN,GAAUN,IAAI,CAACS,GAA/H,EAAoI;AAChI,mBAAKZ,aAAL,GAAqB,KAArB;AACH;AACJ;AACJ,SAPD;;AAQA/D,kBAAU,CAACa,UAAX,GAAwB,2BAAxB;;AACA1D,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAFH,CAAD,EAGPoC,UAAU,CAAClB,SAHJ,EAGe,MAHf,EAGuB,KAAK,CAH5B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAFH,CAAD,EAGPoC,UAAU,CAAClB,SAHJ,EAGe,YAHf,EAG6B,KAAK,CAHlC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGP9E,UAAU,CAAClB,SAHJ,EAGe,MAHf,EAGuB,KAAK,CAH5B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB2F,MAAhB,CAFH,CAAD,EAGP/E,UAAU,CAAClB,SAHJ,EAGe,OAHf,EAGwB,KAAK,CAH7B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGP9E,UAAU,CAAClB,SAHJ,EAGe,YAHf,EAG6B,KAAK,CAHlC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGP9E,UAAU,CAAClB,SAHJ,EAGe,WAHf,EAG4B,KAAK,CAHjC,CAAV;;AAIAkB,kBAAU,GAAGE,YAAY,GAAG/C,UAAU,CAAC,CACnCkB,MAAM,CAAC2G,SAAP,CAAiB;AACbC,kBAAQ,EAAE,YADG;AAEbC,kBAAQ,EAAE;AAFG,SAAjB,CADmC,EAKnC1F,OAAO,CAAC,CAAD,EAAInB,MAAM,CAAC8G,MAAP,CAAc9G,MAAM,CAAC+G,UAAP,CAAkB,YAAY;AAAE,iBAAOC,IAAP;AAAc,SAA9C,CAAd,CAAJ,CAL4B,EAMnCjG,UAAU,CAAC,mBAAD,EAAsB,CAACiG,IAAD,CAAtB,CANyB,CAAD,EAOnCrF,UAPmC,CAAtC;AAQA,eAAOA,UAAP;AACA,YAAIE,YAAJ;AACH,OA/L+B,EAAhC;;AAgMA/B,aAAO,CAAC6B,UAAR,GAAqBA,UAArB;;AACA,UAAIqF,IAAI;AAAG;AAAe,kBAAY;AAClC,iBAASA,IAAT,CAAcC,EAAd,EAAkB9C,eAAlB,EAAmC;AAC/B,eAAK8C,EAAL,GAAUA,EAAV;AACA,eAAK9C,eAAL,GAAuBA,eAAvB;AACA,eAAK+C,eAAL,GAAuB,IAAIlH,MAAM,CAACmH,YAAX,EAAvB;AACA,eAAKC,YAAL,GAAoB,IAAIpH,MAAM,CAACmH,YAAX,EAApB;AACA,eAAKE,cAAL,GAAsB,IAAIrH,MAAM,CAACmH,YAAX,EAAtB;AACA,eAAKpE,YAAL,GAAoB,IAAI/C,MAAM,CAACmH,YAAX,EAApB;AACA,eAAKvE,cAAL,GAAsB,IAAI5C,MAAM,CAACmH,YAAX,EAAtB;AACA,eAAKG,uBAAL,GAA+B,IAAItH,MAAM,CAACmH,YAAX,EAA/B;AACA,eAAK9C,UAAL,GAAkB,IAAIrE,MAAM,CAACmH,YAAX,EAAlB;AACA,eAAKI,MAAL,GAAc,UAAd;AACA,eAAKC,gBAAL,GAAwB,IAAxB;AACA,eAAKC,oBAAL,GAA4B,IAA5B;AACA,eAAKC,sBAAL,GAA8B,IAA9B;AACA,eAAKC,WAAL,GAAmB,mBAAnB;AACA,eAAKC,YAAL,GAAoB,kBAApB;AACH;;AACDZ,YAAI,CAACvG,SAAL,CAAeqB,QAAf,GAA0B,YAAY;AAClC,cAAI+F,KAAK,GAAG,IAAZ;;AACA,cAAI,KAAKvC,cAAT,EAAyB;AACrB,iBAAKwC,qBAAL,GAA6B,KAAK3D,eAAL,CAAqB7D,UAArB,CAAgCyH,SAAhC,CAA0C,UAAUpH,KAAV,EAAiB;AACpFkH,mBAAK,CAAClE,YAAN,GAAqBhD,KAAK,CAACiB,IAA3B;AACAiG,mBAAK,CAACtE,QAAN,GAAiB5C,KAAK,CAACoB,IAAvB;AACA8F,mBAAK,CAAC9D,gBAAN,GAAyBpD,KAAK,CAACyD,QAA/B;AACAyD,mBAAK,CAACrE,aAAN,GAAsB7C,KAAK,CAACiD,KAA5B;AACAiE,mBAAK,CAACpE,aAAN,GAAsB9C,KAAK,CAACuE,KAA5B;AACH,aAN4B,CAA7B;AAOA,iBAAK8C,oBAAL,GAA4B,KAAK7D,eAAL,CAAqB3D,SAArB,CAA+BuH,SAA/B,CAAyC,UAAUpH,KAAV,EAAiB;AAClFkH,mBAAK,CAAClE,YAAN,GAAqB,IAArB;AACAkE,mBAAK,CAACtE,QAAN,GAAiB,IAAjB;AACAsE,mBAAK,CAAC9D,gBAAN,GAAyB,IAAzB;AACA8D,mBAAK,CAACrE,aAAN,GAAsB,IAAtB;AACAqE,mBAAK,CAACpE,aAAN,GAAsB,IAAtB;AACAoE,mBAAK,CAACI,SAAN,GAAkB,KAAlB;AACH,aAP2B,CAA5B;AAQH;AACJ,SAnBD;;AAoBA1I,cAAM,CAACM,cAAP,CAAsBmH,IAAI,CAACvG,SAA3B,EAAsC,YAAtC,EAAoD;AAChDyH,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKX,MAAL,IAAe,YAAtB;AACH,WAH+C;AAIhDY,oBAAU,EAAE,IAJoC;AAKhDC,sBAAY,EAAE;AALkC,SAApD;;AAOApB,YAAI,CAACvG,SAAL,CAAe4H,kBAAf,GAAoC,YAAY;AAC5C,cAAIR,KAAK,GAAG,IAAZ;;AACA,cAAI,KAAKS,SAAL,CAAejJ,MAAnB,EAA2B;AACvB,iBAAKkJ,WAAL,GAAmB,EAAnB;AACH;;AACD,eAAKD,SAAL,CAAeE,OAAf,CAAuB,UAAUC,IAAV,EAAgB;AACnCZ,iBAAK,CAACU,WAAN,CAAkBE,IAAI,CAACC,IAAvB,IAA+BD,IAAI,CAAC5B,QAApC;AACH,WAFD;AAGH,SARD;;AASAG,YAAI,CAACvG,SAAL,CAAeuC,WAAf,GAA6B,UAAUrC,KAAV,EAAiBoB,IAAjB,EAAuB;AAChD,cAAI4G,WAAW,GAAGhI,KAAK,CAAC3B,MAAxB;;AACA,cAAI2J,WAAW,CAACC,SAAZ,IAAyBD,WAAW,CAACC,SAAZ,CAAsBC,OAAtB,CAA8B,iBAA9B,MAAqD,CAAlF,EAAqF;AACjF;AACH,WAFD,MAGK,IAAI,KAAKC,aAAT,EAAwB;AACzB,gBAAI/G,IAAI,CAACgH,UAAL,KAAoB,KAAxB,EAA+B;AAC3B;AACH;;AACD,gBAAIC,OAAO,GAAG,KAAKC,oBAAL,CAA0BlH,IAA1B,CAAd;AACA,gBAAImH,QAAQ,GAAIF,OAAO,IAAI,CAA3B;;AACA,gBAAI,KAAKG,uBAAL,EAAJ,EAAoC;AAChC,kBAAID,QAAJ,EAAc;AACV,oBAAI,KAAKxB,sBAAT,EACI,KAAK0B,aAAL,CAAmBrH,IAAnB,EAAyB,KAAzB,EADJ,KAGI,KAAKsH,SAAL,GAAiB,KAAKA,SAAL,CAAeC,MAAf,CAAsB,UAAUC,GAAV,EAAe3J,CAAf,EAAkB;AAAE,yBAAOA,CAAC,IAAIoJ,OAAZ;AAAsB,iBAAhE,CAAjB;;AACJ,oBAAI,KAAKvB,oBAAL,IAA6B1F,IAAI,CAACC,MAAtC,EAA8C;AAC1C,uBAAKwH,WAAL,CAAiBzH,IAAI,CAACC,MAAtB,EAA8B,KAA9B;AACH;;AACD,qBAAKkF,eAAL,CAAqBrE,IAArB,CAA0B,KAAKwG,SAA/B;AACA,qBAAKhC,cAAL,CAAoBxE,IAApB,CAAyB;AAAEC,+BAAa,EAAEnC,KAAjB;AAAwBoB,sBAAI,EAAEA;AAA9B,iBAAzB;AACH,eAVD,MAWK;AACD,oBAAI,KAAK2F,sBAAT,EACI,KAAK0B,aAAL,CAAmBrH,IAAnB,EAAyB,IAAzB,EADJ,KAGI,KAAKsH,SAAL,GAAiB,CAAC,KAAKA,SAAL,IAAkB,EAAnB,EAAuBI,MAAvB,CAA8B,CAAC1H,IAAD,CAA9B,CAAjB;;AACJ,oBAAI,KAAK0F,oBAAL,IAA6B1F,IAAI,CAACC,MAAtC,EAA8C;AAC1C,uBAAKwH,WAAL,CAAiBzH,IAAI,CAACC,MAAtB,EAA8B,IAA9B;AACH;;AACD,qBAAKkF,eAAL,CAAqBrE,IAArB,CAA0B,KAAKwG,SAA/B;AACA,qBAAKjC,YAAL,CAAkBvE,IAAlB,CAAuB;AAAEC,+BAAa,EAAEnC,KAAjB;AAAwBoB,sBAAI,EAAEA;AAA9B,iBAAvB;AACH;AACJ,aAvBD,MAwBK;AACD,kBAAI2H,aAAa,GAAG,KAAKC,WAAL,GAAmB,KAAnB,GAA2B,KAAKnC,gBAApD;;AACA,kBAAIkC,aAAJ,EAAmB;AACf,oBAAIE,OAAO,GAAIjJ,KAAK,CAACiJ,OAAN,IAAiBjJ,KAAK,CAACkJ,OAAtC;;AACA,oBAAIX,QAAQ,IAAIU,OAAhB,EAAyB;AACrB,sBAAI,KAAKE,qBAAL,EAAJ,EAAkC;AAC9B,yBAAK5C,eAAL,CAAqBrE,IAArB,CAA0B,IAA1B;AACH,mBAFD,MAGK;AACD,yBAAKwG,SAAL,GAAiB,KAAKA,SAAL,CAAeC,MAAf,CAAsB,UAAUC,GAAV,EAAe3J,CAAf,EAAkB;AAAE,6BAAOA,CAAC,IAAIoJ,OAAZ;AAAsB,qBAAhE,CAAjB;AACA,yBAAK9B,eAAL,CAAqBrE,IAArB,CAA0B,KAAKwG,SAA/B;AACH;;AACD,uBAAKhC,cAAL,CAAoBxE,IAApB,CAAyB;AAAEC,iCAAa,EAAEnC,KAAjB;AAAwBoB,wBAAI,EAAEA;AAA9B,mBAAzB;AACH,iBATD,MAUK;AACD,sBAAI,KAAK+H,qBAAL,EAAJ,EAAkC;AAC9B,yBAAK5C,eAAL,CAAqBrE,IAArB,CAA0Bd,IAA1B;AACH,mBAFD,MAGK,IAAI,KAAKgI,uBAAL,EAAJ,EAAoC;AACrC,yBAAKV,SAAL,GAAkB,CAACO,OAAF,GAAa,EAAb,GAAkB,KAAKP,SAAL,IAAkB,EAArD;AACA,yBAAKA,SAAL,GAAiB,KAAKA,SAAL,CAAeI,MAAf,CAAsB,CAAC1H,IAAD,CAAtB,CAAjB;AACA,yBAAKmF,eAAL,CAAqBrE,IAArB,CAA0B,KAAKwG,SAA/B;AACH;;AACD,uBAAKjC,YAAL,CAAkBvE,IAAlB,CAAuB;AAAEC,iCAAa,EAAEnC,KAAjB;AAAwBoB,wBAAI,EAAEA;AAA9B,mBAAvB;AACH;AACJ,eAvBD,MAwBK;AACD,oBAAI,KAAK+H,qBAAL,EAAJ,EAAkC;AAC9B,sBAAIZ,QAAJ,EAAc;AACV,yBAAKG,SAAL,GAAiB,IAAjB;AACA,yBAAKhC,cAAL,CAAoBxE,IAApB,CAAyB;AAAEC,mCAAa,EAAEnC,KAAjB;AAAwBoB,0BAAI,EAAEA;AAA9B,qBAAzB;AACH,mBAHD,MAIK;AACD,yBAAKsH,SAAL,GAAiBtH,IAAjB;AACA,yBAAKqF,YAAL,CAAkBvE,IAAlB,CAAuB;AAAEC,mCAAa,EAAEnC,KAAjB;AAAwBoB,0BAAI,EAAEA;AAA9B,qBAAvB;AACH;AACJ,iBATD,MAUK;AACD,sBAAImH,QAAJ,EAAc;AACV,yBAAKG,SAAL,GAAiB,KAAKA,SAAL,CAAeC,MAAf,CAAsB,UAAUC,GAAV,EAAe3J,CAAf,EAAkB;AAAE,6BAAOA,CAAC,IAAIoJ,OAAZ;AAAsB,qBAAhE,CAAjB;AACA,yBAAK3B,cAAL,CAAoBxE,IAApB,CAAyB;AAAEC,mCAAa,EAAEnC,KAAjB;AAAwBoB,0BAAI,EAAEA;AAA9B,qBAAzB;AACH,mBAHD,MAIK;AACD,yBAAKsH,SAAL,GAAiB,CAAC,KAAKA,SAAL,IAAkB,EAAnB,EAAuBI,MAAvB,CAA8B,CAAC1H,IAAD,CAA9B,CAAjB;AACA,yBAAKqF,YAAL,CAAkBvE,IAAlB,CAAuB;AAAEC,mCAAa,EAAEnC,KAAjB;AAAwBoB,0BAAI,EAAEA;AAA9B,qBAAvB;AACH;AACJ;;AACD,qBAAKmF,eAAL,CAAqBrE,IAArB,CAA0B,KAAKwG,SAA/B;AACH;AACJ;AACJ;;AACD,eAAKM,WAAL,GAAmB,KAAnB;AACH,SAvFD;;AAwFA3C,YAAI,CAACvG,SAAL,CAAewC,cAAf,GAAgC,YAAY;AACxC,eAAK0G,WAAL,GAAmB,IAAnB;AACH,SAFD;;AAGA3C,YAAI,CAACvG,SAAL,CAAeyC,gBAAf,GAAkC,UAAUvC,KAAV,EAAiBoB,IAAjB,EAAuB;AACrD,cAAI,KAAKiI,WAAT,EAAsB;AAClB,gBAAIrB,WAAW,GAAGhI,KAAK,CAAC3B,MAAxB;;AACA,gBAAI2J,WAAW,CAACC,SAAZ,IAAyBD,WAAW,CAACC,SAAZ,CAAsBC,OAAtB,CAA8B,iBAA9B,MAAqD,CAAlF,EAAqF;AACjF;AACH,aAFD,MAGK;AACD,kBAAIjF,KAAK,GAAG,KAAKqF,oBAAL,CAA0BlH,IAA1B,CAAZ;AACA,kBAAImH,QAAQ,GAAItF,KAAK,IAAI,CAAzB;;AACA,kBAAI,CAACsF,QAAL,EAAe;AACX,oBAAI,KAAKY,qBAAL,EAAJ,EACI,KAAK5C,eAAL,CAAqBrE,IAArB,CAA0Bd,IAA1B,EADJ,KAGI,KAAKmF,eAAL,CAAqBrE,IAArB,CAA0B,CAACd,IAAD,CAA1B;AACP;;AACD,mBAAKiI,WAAL,CAAiBC,IAAjB,CAAsBtJ,KAAtB;AACA,mBAAK2G,uBAAL,CAA6BzE,IAA7B,CAAkC;AAAEC,6BAAa,EAAEnC,KAAjB;AAAwBoB,oBAAI,EAAEA;AAA9B,eAAlC;AACH;AACJ;AACJ,SAnBD;;AAoBAiF,YAAI,CAACvG,SAAL,CAAewI,oBAAf,GAAsC,UAAUlH,IAAV,EAAgB;AAClD,cAAI6B,KAAK,GAAG,CAAC,CAAb;;AACA,cAAI,KAAKkF,aAAL,IAAsB,KAAKO,SAA/B,EAA0C;AACtC,gBAAI,KAAKS,qBAAL,EAAJ,EAAkC;AAC9BlG,mBAAK,GAAI,KAAKyF,SAAL,IAAkBtH,IAAnB,GAA2B,CAA3B,GAA+B,CAAC,CAAxC;AACH,aAFD,MAGK;AACD,mBAAK,IAAInC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyJ,SAAL,CAAehK,MAAnC,EAA2CO,CAAC,EAA5C,EAAgD;AAC5C,oBAAI,KAAKyJ,SAAL,CAAezJ,CAAf,KAAqBmC,IAAzB,EAA+B;AAC3B6B,uBAAK,GAAGhE,CAAR;AACA;AACH;AACJ;AACJ;AACJ;;AACD,iBAAOgE,KAAP;AACH,SAhBD;;AAiBAoD,YAAI,CAACvG,SAAL,CAAe+I,WAAf,GAA6B,UAAUzH,IAAV,EAAgBmI,MAAhB,EAAwB;AACjD,cAAInI,IAAI,CAACM,QAAL,IAAiBN,IAAI,CAACM,QAAL,CAAchD,MAAnC,EAA2C;AACvC,gBAAI8K,aAAa,GAAG,CAApB;AACA,gBAAIC,oBAAoB,GAAG,KAA3B;;AACA,iBAAK,IAAIC,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGvI,IAAI,CAACM,QAA3B,EAAqCgI,EAAE,GAAGC,EAAE,CAACjL,MAA7C,EAAqDgL,EAAE,EAAvD,EAA2D;AACvD,kBAAIE,KAAK,GAAGD,EAAE,CAACD,EAAD,CAAd;;AACA,kBAAI,KAAKlH,UAAL,CAAgBoH,KAAhB,CAAJ,EAA4B;AACxBJ,6BAAa;AAChB,eAFD,MAGK,IAAII,KAAK,CAACC,eAAV,EAA2B;AAC5BJ,oCAAoB,GAAG,IAAvB;AACH;AACJ;;AACD,gBAAIF,MAAM,IAAIC,aAAa,IAAIpI,IAAI,CAACM,QAAL,CAAchD,MAA7C,EAAqD;AACjD,mBAAKgK,SAAL,GAAiB,CAAC,KAAKA,SAAL,IAAkB,EAAnB,EAAuBI,MAAvB,CAA8B,CAAC1H,IAAD,CAA9B,CAAjB;AACAA,kBAAI,CAACyI,eAAL,GAAuB,KAAvB;AACH,aAHD,MAIK;AACD,kBAAI,CAACN,MAAL,EAAa;AACT,oBAAIO,OAAO,GAAG,KAAKxB,oBAAL,CAA0BlH,IAA1B,CAAd;;AACA,oBAAI0I,OAAO,IAAI,CAAf,EAAkB;AACd,uBAAKpB,SAAL,GAAiB,KAAKA,SAAL,CAAeC,MAAf,CAAsB,UAAUC,GAAV,EAAe3J,CAAf,EAAkB;AAAE,2BAAOA,CAAC,IAAI6K,OAAZ;AAAsB,mBAAhE,CAAjB;AACH;AACJ;;AACD,kBAAIL,oBAAoB,IAAID,aAAa,GAAG,CAAhB,IAAqBA,aAAa,IAAIpI,IAAI,CAACM,QAAL,CAAchD,MAAhF,EACI0C,IAAI,CAACyI,eAAL,GAAuB,IAAvB,CADJ,KAGIzI,IAAI,CAACyI,eAAL,GAAuB,KAAvB;AACP;AACJ;;AACD,cAAIxI,MAAM,GAAGD,IAAI,CAACC,MAAlB;;AACA,cAAIA,MAAJ,EAAY;AACR,iBAAKwH,WAAL,CAAiBxH,MAAjB,EAAyBkI,MAAzB;AACH;AACJ,SAlCD;;AAmCAlD,YAAI,CAACvG,SAAL,CAAe2I,aAAf,GAA+B,UAAUrH,IAAV,EAAgBmI,MAAhB,EAAwB;AACnD,cAAItG,KAAK,GAAG,KAAKqF,oBAAL,CAA0BlH,IAA1B,CAAZ;;AACA,cAAImI,MAAM,IAAItG,KAAK,IAAI,CAAC,CAAxB,EAA2B;AACvB,iBAAKyF,SAAL,GAAiB,CAAC,KAAKA,SAAL,IAAkB,EAAnB,EAAuBI,MAAvB,CAA8B,CAAC1H,IAAD,CAA9B,CAAjB;AACH,WAFD,MAGK,IAAI,CAACmI,MAAD,IAAWtG,KAAK,GAAG,CAAC,CAAxB,EAA2B;AAC5B,iBAAKyF,SAAL,GAAiB,KAAKA,SAAL,CAAeC,MAAf,CAAsB,UAAUC,GAAV,EAAe3J,CAAf,EAAkB;AAAE,qBAAOA,CAAC,IAAIgE,KAAZ;AAAoB,aAA9D,CAAjB;AACH;;AACD7B,cAAI,CAACyI,eAAL,GAAuB,KAAvB;;AACA,cAAIzI,IAAI,CAACM,QAAL,IAAiBN,IAAI,CAACM,QAAL,CAAchD,MAAnC,EAA2C;AACvC,iBAAK,IAAIgL,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGvI,IAAI,CAACM,QAA3B,EAAqCgI,EAAE,GAAGC,EAAE,CAACjL,MAA7C,EAAqDgL,EAAE,EAAvD,EAA2D;AACvD,kBAAIE,KAAK,GAAGD,EAAE,CAACD,EAAD,CAAd;AACA,mBAAKjB,aAAL,CAAmBmB,KAAnB,EAA0BL,MAA1B;AACH;AACJ;AACJ,SAfD;;AAgBAlD,YAAI,CAACvG,SAAL,CAAe0C,UAAf,GAA4B,UAAUpB,IAAV,EAAgB;AACxC,iBAAO,KAAKkH,oBAAL,CAA0BlH,IAA1B,KAAmC,CAAC,CAA3C;AACH,SAFD;;AAGAiF,YAAI,CAACvG,SAAL,CAAeqJ,qBAAf,GAAuC,YAAY;AAC/C,iBAAO,KAAKhB,aAAL,IAAsB,KAAKA,aAAL,IAAsB,QAAnD;AACH,SAFD;;AAGA9B,YAAI,CAACvG,SAAL,CAAesJ,uBAAf,GAAyC,YAAY;AACjD,iBAAO,KAAKjB,aAAL,IAAsB,KAAKA,aAAL,IAAsB,UAAnD;AACH,SAFD;;AAGA9B,YAAI,CAACvG,SAAL,CAAe0I,uBAAf,GAAyC,YAAY;AACjD,iBAAO,KAAKL,aAAL,IAAsB,KAAKA,aAAL,IAAsB,UAAnD;AACH,SAFD;;AAGA9B,YAAI,CAACvG,SAAL,CAAeiK,kBAAf,GAAoC,UAAU3I,IAAV,EAAgB;AAChD,cAAI,KAAKwG,WAAT,EACI,OAAOxG,IAAI,CAAC4I,IAAL,GAAY,KAAKpC,WAAL,CAAiBxG,IAAI,CAAC4I,IAAtB,CAAZ,GAA0C,KAAKpC,WAAL,CAAiB,SAAjB,CAAjD,CADJ,KAGI,OAAO,IAAP;AACP,SALD;;AAMAvB,YAAI,CAACvG,SAAL,CAAemK,UAAf,GAA4B,UAAUjK,KAAV,EAAiB;AACzC,cAAI,KAAK2E,cAAL,KAAwB,CAAC,KAAKvF,KAAN,IAAe,KAAKA,KAAL,CAAWV,MAAX,KAAsB,CAA7D,CAAJ,EAAqE;AACjEsB,iBAAK,CAAC+D,YAAN,CAAmBC,UAAnB,GAAgC,MAAhC;AACAhE,iBAAK,CAAC2C,cAAN;AACH;AACJ,SALD;;AAMA0D,YAAI,CAACvG,SAAL,CAAeoK,MAAf,GAAwB,UAAUlK,KAAV,EAAiB;AACrC,cAAI,KAAK2E,cAAL,KAAwB,CAAC,KAAKvF,KAAN,IAAe,KAAKA,KAAL,CAAWV,MAAX,KAAsB,CAA7D,CAAJ,EAAqE;AACjEsB,iBAAK,CAAC2C,cAAN;AACA,gBAAIC,QAAQ,GAAG,KAAKA,QAApB;;AACA,gBAAI,KAAKM,SAAL,CAAeN,QAAf,EAAyB,IAAzB,EAA+B,KAAKE,aAApC,CAAJ,EAAwD;AACpD,kBAAID,aAAa,GAAG,KAAKA,aAAzB;AACA,mBAAKO,gBAAL,CAAsBC,MAAtB,CAA6BR,aAA7B,EAA4C,CAA5C;AACA,mBAAKzD,KAAL,GAAa,KAAKA,KAAL,IAAc,EAA3B;AACA,mBAAKA,KAAL,CAAWmE,IAAX,CAAgBX,QAAhB;AACA,mBAAKY,eAAL,CAAqBtD,QAArB,CAA8B;AAC1BkB,oBAAI,EAAEwB;AADoB,eAA9B;AAGH;AACJ;AACJ,SAdD;;AAeAyD,YAAI,CAACvG,SAAL,CAAeqK,WAAf,GAA6B,UAAUnK,KAAV,EAAiB;AAC1C,cAAI,KAAK2E,cAAL,IAAuB,KAAKzB,SAAL,CAAe,KAAKN,QAApB,EAA8B,IAA9B,EAAoC,KAAKE,aAAzC,CAA3B,EAAoF;AAChF,iBAAKwE,SAAL,GAAiB,IAAjB;AACH;AACJ,SAJD;;AAKAjB,YAAI,CAACvG,SAAL,CAAesK,WAAf,GAA6B,UAAUpK,KAAV,EAAiB;AAC1C,cAAI,KAAK2E,cAAT,EAAyB;AACrB,gBAAIO,IAAI,GAAGlF,KAAK,CAACmF,aAAN,CAAoBC,qBAApB,EAAX;;AACA,gBAAIpF,KAAK,CAACqF,CAAN,GAAUH,IAAI,CAACI,IAAL,GAAYJ,IAAI,CAACK,KAA3B,IAAoCvF,KAAK,CAACqF,CAAN,GAAUH,IAAI,CAACI,IAAnD,IAA2DtF,KAAK,CAACwF,CAAN,GAAUN,IAAI,CAACS,GAAL,GAAWT,IAAI,CAACU,MAArF,IAA+F5F,KAAK,CAACwF,CAAN,GAAUN,IAAI,CAACS,GAAlH,EAAuH;AACnH,mBAAK2B,SAAL,GAAiB,KAAjB;AACH;AACJ;AACJ,SAPD;;AAQAjB,YAAI,CAACvG,SAAL,CAAeoD,SAAf,GAA2B,UAAUN,QAAV,EAAoBe,QAApB,EAA8Bb,aAA9B,EAA6C;AACpE,cAAI,CAACF,QAAL,EAAe;AACX;AACA,mBAAO,KAAP;AACH,WAHD,MAIK,IAAI,KAAKyH,gBAAL,CAAsBvH,aAAtB,CAAJ,EAA0C;AAC3C,gBAAIwH,KAAK,GAAG,IAAZ;;AACA,gBAAI3G,QAAJ,EAAc;AACV,kBAAIf,QAAQ,KAAKe,QAAjB,EAA2B;AACvB2G,qBAAK,GAAG,KAAR;AACH,eAFD,MAGK;AACD,oBAAIC,QAAQ,GAAG5G,QAAQ,CAACtC,MAAxB;;AACA,uBAAOkJ,QAAQ,IAAI,IAAnB,EAAyB;AACrB,sBAAIA,QAAQ,KAAK3H,QAAjB,EAA2B;AACvB0H,yBAAK,GAAG,KAAR;AACA;AACH;;AACDC,0BAAQ,GAAGA,QAAQ,CAAClJ,MAApB;AACH;AACJ;AACJ;;AACD,mBAAOiJ,KAAP;AACH,WAlBI,MAmBA;AACD,mBAAO,KAAP;AACH;AACJ,SA3BD;;AA4BAjE,YAAI,CAACvG,SAAL,CAAeuK,gBAAf,GAAkC,UAAUG,SAAV,EAAqB;AACnD,cAAIC,SAAS,GAAG,KAAKC,cAArB;;AACA,cAAID,SAAJ,EAAe;AACX,gBAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC;AAC/B,kBAAI,OAAOD,SAAP,KAAqB,QAAzB,EACI,OAAOC,SAAS,KAAKD,SAArB,CADJ,KAEK,IAAIA,SAAS,YAAYG,KAAzB,EACD,OAAOH,SAAS,CAACtC,OAAV,CAAkBuC,SAAlB,KAAgC,CAAC,CAAxC;AACP,aALD,MAMK,IAAIA,SAAS,YAAYE,KAAzB,EAAgC;AACjC,kBAAI,OAAOH,SAAP,KAAqB,QAAzB,EAAmC;AAC/B,uBAAOC,SAAS,CAACvC,OAAV,CAAkBsC,SAAlB,KAAgC,CAAC,CAAxC;AACH,eAFD,MAGK,IAAIA,SAAS,YAAYG,KAAzB,EAAgC;AACjC,qBAAK,IAAIjB,EAAE,GAAG,CAAT,EAAYkB,WAAW,GAAGH,SAA/B,EAA0Cf,EAAE,GAAGkB,WAAW,CAAClM,MAA3D,EAAmEgL,EAAE,EAArE,EAAyE;AACrE,sBAAImB,CAAC,GAAGD,WAAW,CAAClB,EAAD,CAAnB;;AACA,uBAAK,IAAIC,EAAE,GAAG,CAAT,EAAYmB,WAAW,GAAGN,SAA/B,EAA0Cb,EAAE,GAAGmB,WAAW,CAACpM,MAA3D,EAAmEiL,EAAE,EAArE,EAAyE;AACrE,wBAAIoB,EAAE,GAAGD,WAAW,CAACnB,EAAD,CAApB;;AACA,wBAAIkB,CAAC,KAAKE,EAAV,EAAc;AACV,6BAAO,IAAP;AACH;AACJ;AACJ;AACJ;AACJ;;AACD,mBAAO,KAAP;AACH,WAxBD,MAyBK;AACD,mBAAO,IAAP;AACH;AACJ,SA9BD;;AA+BA1E,YAAI,CAACvG,SAAL,CAAekL,mBAAf,GAAqC,YAAY;AAC7C,iBAAO,KAAK1E,EAAL,CAAQ2E,aAAR,CAAsBvJ,QAAtB,CAA+B,CAA/B,CAAP;AACH,SAFD;;AAGA2E,YAAI,CAACvG,SAAL,CAAeoL,WAAf,GAA6B,YAAY;AACrC,cAAI,KAAK/D,qBAAT,EAAgC;AAC5B,iBAAKA,qBAAL,CAA2BgE,WAA3B;AACH;;AACD,cAAI,KAAK9D,oBAAT,EAA+B;AAC3B,iBAAKA,oBAAL,CAA0B8D,WAA1B;AACH;AACJ,SAPD;;AAQAhN,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBuK,KAAhB,CAFH,CAAD,EAGPtE,IAAI,CAACvG,SAHE,EAGS,OAHT,EAGkB,KAAK,CAHvB,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBgL,MAAhB,CAFH,CAAD,EAGP/E,IAAI,CAACvG,SAHE,EAGS,eAHT,EAG0B,KAAK,CAH/B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAFH,CAAD,EAGPyH,IAAI,CAACvG,SAHE,EAGS,WAHT,EAGsB,KAAK,CAH3B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACgM,MAAP,EADO,EAEPjL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmH,YAAvB,CAFH,CAAD,EAGPH,IAAI,CAACvG,SAHE,EAGS,iBAHT,EAG4B,KAAK,CAHjC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACgM,MAAP,EADO,EAEPjL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmH,YAAvB,CAFH,CAAD,EAGPH,IAAI,CAACvG,SAHE,EAGS,cAHT,EAGyB,KAAK,CAH9B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACgM,MAAP,EADO,EAEPjL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmH,YAAvB,CAFH,CAAD,EAGPH,IAAI,CAACvG,SAHE,EAGS,gBAHT,EAG2B,KAAK,CAHhC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACgM,MAAP,EADO,EAEPjL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmH,YAAvB,CAFH,CAAD,EAGPH,IAAI,CAACvG,SAHE,EAGS,cAHT,EAGyB,KAAK,CAH9B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACgM,MAAP,EADO,EAEPjL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmH,YAAvB,CAFH,CAAD,EAGPH,IAAI,CAACvG,SAHE,EAGS,gBAHT,EAG2B,KAAK,CAHhC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACgM,MAAP,EADO,EAEPjL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmH,YAAvB,CAFH,CAAD,EAGPH,IAAI,CAACvG,SAHE,EAGS,yBAHT,EAGoC,KAAK,CAHzC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACgM,MAAP,EADO,EAEPjL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmH,YAAvB,CAFH,CAAD,EAGPH,IAAI,CAACvG,SAHE,EAGS,YAHT,EAGuB,KAAK,CAH5B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAFH,CAAD,EAGPyH,IAAI,CAACvG,SAHE,EAGS,OAHT,EAGkB,KAAK,CAHvB,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBgL,MAAhB,CAFH,CAAD,EAGP/E,IAAI,CAACvG,SAHE,EAGS,YAHT,EAGuB,KAAK,CAH5B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAFH,CAAD,EAGPyH,IAAI,CAACvG,SAHE,EAGS,aAHT,EAGwB,KAAK,CAH7B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBgL,MAAhB,CAFH,CAAD,EAGP/E,IAAI,CAACvG,SAHE,EAGS,QAHT,EAGmB,KAAK,CAHxB,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAFH,CAAD,EAGPyH,IAAI,CAACvG,SAHE,EAGS,gBAHT,EAG2B,KAAK,CAHhC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAFH,CAAD,EAGPyH,IAAI,CAACvG,SAHE,EAGS,gBAHT,EAG2B,KAAK,CAHhC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGPO,IAAI,CAACvG,SAHE,EAGS,gBAHT,EAG2B,KAAK,CAHhC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGPO,IAAI,CAACvG,SAHE,EAGS,gBAHT,EAG2B,KAAK,CAHhC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGPO,IAAI,CAACvG,SAHE,EAGS,kBAHT,EAG6B,KAAK,CAHlC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGPO,IAAI,CAACvG,SAHE,EAGS,sBAHT,EAGiC,KAAK,CAHtC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGPO,IAAI,CAACvG,SAHE,EAGS,wBAHT,EAGmC,KAAK,CAHxC,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgB0F,OAAhB,CAFH,CAAD,EAGPO,IAAI,CAACvG,SAHE,EAGS,SAHT,EAGoB,KAAK,CAHzB,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBgL,MAAhB,CAFH,CAAD,EAGP/E,IAAI,CAACvG,SAHE,EAGS,aAHT,EAGwB,KAAK,CAH7B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACwG,KAAP,EADO,EAEPzF,UAAU,CAAC,aAAD,EAAgBgL,MAAhB,CAFH,CAAD,EAGP/E,IAAI,CAACvG,SAHE,EAGS,cAHT,EAGyB,KAAK,CAH9B,CAAV;;AAIA3B,kBAAU,CAAC,CACPkB,MAAM,CAACiM,eAAP,CAAuBxK,QAAQ,CAACyK,aAAhC,CADO,EAEPnL,UAAU,CAAC,aAAD,EAAgBf,MAAM,CAACmM,SAAvB,CAFH,CAAD,EAGPnF,IAAI,CAACvG,SAHE,EAGS,WAHT,EAGsB,KAAK,CAH3B,CAAV;;AAIAuG,YAAI,GAAGlI,UAAU,CAAC,CACdkB,MAAM,CAAC2G,SAAP,CAAiB;AACbC,kBAAQ,EAAE,QADG;AAEbC,kBAAQ,EAAE;AAFG,SAAjB,CADc,EAKd1F,OAAO,CAAC,CAAD,EAAIG,MAAM,CAAC8K,QAAP,EAAJ,CALO,EAMdrL,UAAU,CAAC,mBAAD,EAAsB,CAACf,MAAM,CAACqM,UAAR,EAAoB3K,qBAAqB,CAACxB,mBAA1C,CAAtB,CANI,CAAD,EAOd8G,IAPc,CAAjB;AAQA,eAAOA,IAAP;AACH,OAhdyB,EAA1B;;AAidAlH,aAAO,CAACkH,IAAR,GAAeA,IAAf;;AACA,UAAIsF,UAAU;AAAG;AAAe,kBAAY;AACxC,iBAASA,UAAT,GAAsB,CACrB;;AACDA,kBAAU,GAAGxN,UAAU,CAAC,CACpBkB,MAAM,CAACuM,QAAP,CAAgB;AACZC,iBAAO,EAAE,CAACjL,QAAQ,CAACkL,YAAV,CADG;AAEZ3M,iBAAO,EAAE,CAACkH,IAAD,EAAOxF,QAAQ,CAACkL,YAAhB,CAFG;AAGZC,sBAAY,EAAE,CAAC3F,IAAD,EAAOrF,UAAP;AAHF,SAAhB,CADoB,CAAD,EAMpB2K,UANoB,CAAvB;AAOA,eAAOA,UAAP;AACH,OAX+B,EAAhC;;AAYAxM,aAAO,CAACwM,UAAR,GAAqBA,UAArB,C,CACA","file":"default~app-components-course-module-create-course-course-class-course-class-module~app-components-e~ce6167d9-es5.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar Subject_1 = require(\"rxjs/Subject\");\nvar TreeDragDropService = /** @class */ (function () {\n    function TreeDragDropService() {\n        this.dragStartSource = new Subject_1.Subject();\n        this.dragStopSource = new Subject_1.Subject();\n        this.dragStart$ = this.dragStartSource.asObservable();\n        this.dragStop$ = this.dragStopSource.asObservable();\n    }\n    TreeDragDropService.prototype.startDrag = function (event) {\n        this.dragStartSource.next(event);\n    };\n    TreeDragDropService.prototype.stopDrag = function (event) {\n        this.dragStopSource.next(event);\n    };\n    TreeDragDropService = __decorate([\n        core_1.Injectable()\n    ], TreeDragDropService);\n    return TreeDragDropService;\n}());\nexports.TreeDragDropService = TreeDragDropService;\n//# sourceMappingURL=treedragdropservice.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar core_2 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar shared_1 = require(\"../common/shared\");\nvar shared_2 = require(\"../common/shared\");\nvar treedragdropservice_1 = require(\"../common/treedragdropservice\");\nvar UITreeNode = /** @class */ (function () {\n    function UITreeNode(tree) {\n        this.tree = tree;\n    }\n    UITreeNode_1 = UITreeNode;\n    UITreeNode.prototype.ngOnInit = function () {\n        this.node.parent = this.parentNode;\n    };\n    UITreeNode.prototype.getIcon = function () {\n        var icon;\n        if (this.node.icon)\n            icon = this.node.icon;\n        else\n            icon = this.node.expanded && this.node.children && this.node.children.length ? this.node.expandedIcon : this.node.collapsedIcon;\n        return UITreeNode_1.ICON_CLASS + ' ' + icon;\n    };\n    UITreeNode.prototype.isLeaf = function () {\n        return this.node.leaf == false ? false : !(this.node.children && this.node.children.length);\n    };\n    UITreeNode.prototype.toggle = function (event) {\n        if (this.node.expanded)\n            this.tree.onNodeCollapse.emit({ originalEvent: event, node: this.node });\n        else\n            this.tree.onNodeExpand.emit({ originalEvent: event, node: this.node });\n        this.node.expanded = !this.node.expanded;\n    };\n    UITreeNode.prototype.onNodeClick = function (event) {\n        this.tree.onNodeClick(event, this.node);\n    };\n    UITreeNode.prototype.onNodeTouchEnd = function () {\n        this.tree.onNodeTouchEnd();\n    };\n    UITreeNode.prototype.onNodeRightClick = function (event) {\n        this.tree.onNodeRightClick(event, this.node);\n    };\n    UITreeNode.prototype.isSelected = function () {\n        return this.tree.isSelected(this.node);\n    };\n    UITreeNode.prototype.onDropPoint = function (event, position) {\n        event.preventDefault();\n        var dragNode = this.tree.dragNode;\n        var dragNodeIndex = this.tree.dragNodeIndex;\n        var dragNodeScope = this.tree.dragNodeScope;\n        var isValidDropPointIndex = this.tree.dragNodeTree === this.tree ? (position === 1 || dragNodeIndex !== this.index - 1) : true;\n        if (this.tree.allowDrop(dragNode, this.node, dragNodeScope) && isValidDropPointIndex) {\n            var newNodeList = this.node.parent ? this.node.parent.children : this.tree.value;\n            this.tree.dragNodeSubNodes.splice(dragNodeIndex, 1);\n            var dropIndex = this.index;\n            if (position < 0) {\n                dropIndex = (this.tree.dragNodeSubNodes === newNodeList) ? ((this.tree.dragNodeIndex > this.index) ? this.index : this.index - 1) : this.index;\n                newNodeList.splice(dropIndex, 0, dragNode);\n            }\n            else {\n                dropIndex = newNodeList.length;\n                newNodeList.push(dragNode);\n            }\n            this.tree.dragDropService.stopDrag({\n                node: dragNode,\n                subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\n                index: dragNodeIndex\n            });\n            this.tree.onNodeDrop.emit({\n                originalEvent: event,\n                dragNode: dragNode,\n                dropNode: this.node,\n                dropIndex: dropIndex\n            });\n        }\n        this.draghoverPrev = false;\n        this.draghoverNext = false;\n    };\n    UITreeNode.prototype.onDropPointDragOver = function (event) {\n        event.dataTransfer.dropEffect = 'move';\n        event.preventDefault();\n    };\n    UITreeNode.prototype.onDropPointDragEnter = function (event, position) {\n        if (this.tree.allowDrop(this.tree.dragNode, this.node, this.tree.dragNodeScope)) {\n            if (position < 0)\n                this.draghoverPrev = true;\n            else\n                this.draghoverNext = true;\n        }\n    };\n    UITreeNode.prototype.onDropPointDragLeave = function (event) {\n        this.draghoverPrev = false;\n        this.draghoverNext = false;\n    };\n    UITreeNode.prototype.onDragStart = function (event) {\n        if (this.tree.draggableNodes && this.node.draggable !== false) {\n            event.dataTransfer.setData(\"text\", \"data\");\n            this.tree.dragDropService.startDrag({\n                tree: this,\n                node: this.node,\n                subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\n                index: this.index,\n                scope: this.tree.draggableScope\n            });\n        }\n        else {\n            event.preventDefault();\n        }\n    };\n    UITreeNode.prototype.onDragStop = function (event) {\n        this.tree.dragDropService.stopDrag({\n            node: this.node,\n            subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\n            index: this.index\n        });\n    };\n    UITreeNode.prototype.onDropNodeDragOver = function (event) {\n        event.dataTransfer.dropEffect = 'move';\n        if (this.tree.droppableNodes) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    };\n    UITreeNode.prototype.onDropNode = function (event) {\n        if (this.tree.droppableNodes && this.node.droppable !== false) {\n            event.preventDefault();\n            event.stopPropagation();\n            var dragNode = this.tree.dragNode;\n            if (this.tree.allowDrop(dragNode, this.node, this.tree.dragNodeScope)) {\n                var dragNodeIndex = this.tree.dragNodeIndex;\n                this.tree.dragNodeSubNodes.splice(dragNodeIndex, 1);\n                if (this.node.children)\n                    this.node.children.push(dragNode);\n                else\n                    this.node.children = [dragNode];\n                this.tree.dragDropService.stopDrag({\n                    node: dragNode,\n                    subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\n                    index: this.tree.dragNodeIndex\n                });\n                this.tree.onNodeDrop.emit({\n                    originalEvent: event,\n                    dragNode: dragNode,\n                    dropNode: this.node,\n                    index: this.index\n                });\n            }\n        }\n        this.draghoverNode = false;\n    };\n    UITreeNode.prototype.onDropNodeDragEnter = function (event) {\n        if (this.tree.droppableNodes && this.node.droppable !== false && this.tree.allowDrop(this.tree.dragNode, this.node, this.tree.dragNodeScope)) {\n            this.draghoverNode = true;\n        }\n    };\n    UITreeNode.prototype.onDropNodeDragLeave = function (event) {\n        if (this.tree.droppableNodes) {\n            var rect = event.currentTarget.getBoundingClientRect();\n            if (event.x > rect.left + rect.width || event.x < rect.left || event.y >= Math.floor(rect.top + rect.height) || event.y < rect.top) {\n                this.draghoverNode = false;\n            }\n        }\n    };\n    UITreeNode.ICON_CLASS = 'ui-treenode-icon fa fa-fw';\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], UITreeNode.prototype, \"node\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], UITreeNode.prototype, \"parentNode\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], UITreeNode.prototype, \"root\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Number)\n    ], UITreeNode.prototype, \"index\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], UITreeNode.prototype, \"firstChild\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], UITreeNode.prototype, \"lastChild\", void 0);\n    UITreeNode = UITreeNode_1 = __decorate([\n        core_1.Component({\n            selector: 'p-treeNode',\n            template: \"\\n        <ng-template [ngIf]=\\\"node\\\">\\n            <li *ngIf=\\\"tree.droppableNodes\\\" class=\\\"ui-treenode-droppoint\\\" [ngClass]=\\\"{'ui-treenode-droppoint-active ui-state-highlight':draghoverPrev}\\\"\\n            (drop)=\\\"onDropPoint($event,-1)\\\" (dragover)=\\\"onDropPointDragOver($event)\\\" (dragenter)=\\\"onDropPointDragEnter($event,-1)\\\" (dragleave)=\\\"onDropPointDragLeave($event)\\\"></li>\\n            <li *ngIf=\\\"!tree.horizontal\\\" [ngClass]=\\\"['ui-treenode',node.styleClass||'', isLeaf() ? 'ui-treenode-leaf': '']\\\">\\n                <div class=\\\"ui-treenode-content\\\" (click)=\\\"onNodeClick($event)\\\" (contextmenu)=\\\"onNodeRightClick($event)\\\" (touchend)=\\\"onNodeTouchEnd()\\\"\\n                    (drop)=\\\"onDropNode($event)\\\" (dragover)=\\\"onDropNodeDragOver($event)\\\" (dragenter)=\\\"onDropNodeDragEnter($event)\\\" (dragleave)=\\\"onDropNodeDragLeave($event)\\\"\\n                    [ngClass]=\\\"{'ui-treenode-selectable':tree.selectionMode && node.selectable !== false,'ui-treenode-dragover':draghoverNode, 'ui-treenode-content-selected':isSelected()}\\\" [draggable]=\\\"tree.draggableNodes\\\" (dragstart)=\\\"onDragStart($event)\\\" (dragend)=\\\"onDragStop($event)\\\">\\n                    <span class=\\\"ui-tree-toggler  fa fa-fw\\\" [ngClass]=\\\"{'fa-caret-right':!node.expanded,'fa-caret-down':node.expanded}\\\"\\n                            (click)=\\\"toggle($event)\\\"></span\\n                    ><div class=\\\"ui-chkbox\\\" *ngIf=\\\"tree.selectionMode == 'checkbox'\\\"><div class=\\\"ui-chkbox-box ui-widget ui-corner-all ui-state-default\\\">\\n                        <span class=\\\"ui-chkbox-icon ui-clickable fa\\\" \\n                            [ngClass]=\\\"{'fa-check':isSelected(),'fa-minus':node.partialSelected}\\\"></span></div></div\\n                    ><span [class]=\\\"getIcon()\\\" *ngIf=\\\"node.icon||node.expandedIcon||node.collapsedIcon\\\"></span\\n                    ><span class=\\\"ui-treenode-label ui-corner-all\\\" \\n                        [ngClass]=\\\"{'ui-state-highlight':isSelected()}\\\">\\n                            <span *ngIf=\\\"!tree.getTemplateForNode(node)\\\">{{node.label}}</span>\\n                            <span *ngIf=\\\"tree.getTemplateForNode(node)\\\">\\n                                <ng-container *ngTemplateOutlet=\\\"tree.getTemplateForNode(node); context: {$implicit: node}\\\"></ng-container>\\n                            </span>\\n                    </span>\\n                </div>\\n                <ul class=\\\"ui-treenode-children\\\" style=\\\"display: none;\\\" *ngIf=\\\"node.children && node.expanded\\\" [style.display]=\\\"node.expanded ? 'block' : 'none'\\\">\\n                    <p-treeNode *ngFor=\\\"let childNode of node.children;let firstChild=first;let lastChild=last; let index=index\\\" [node]=\\\"childNode\\\" [parentNode]=\\\"node\\\"\\n                        [firstChild]=\\\"firstChild\\\" [lastChild]=\\\"lastChild\\\" [index]=\\\"index\\\"></p-treeNode>\\n                </ul>\\n            </li>\\n            <li *ngIf=\\\"tree.droppableNodes&&lastChild\\\" class=\\\"ui-treenode-droppoint\\\" [ngClass]=\\\"{'ui-treenode-droppoint-active ui-state-highlight':draghoverNext}\\\"\\n            (drop)=\\\"onDropPoint($event,1)\\\" (dragover)=\\\"onDropPointDragOver($event)\\\" (dragenter)=\\\"onDropPointDragEnter($event,1)\\\" (dragleave)=\\\"onDropPointDragLeave($event)\\\"></li>\\n            <table *ngIf=\\\"tree.horizontal\\\" [class]=\\\"node.styleClass\\\">\\n                <tbody>\\n                    <tr>\\n                        <td class=\\\"ui-treenode-connector\\\" *ngIf=\\\"!root\\\">\\n                            <table class=\\\"ui-treenode-connector-table\\\">\\n                                <tbody>\\n                                    <tr>\\n                                        <td [ngClass]=\\\"{'ui-treenode-connector-line':!firstChild}\\\"></td>\\n                                    </tr>\\n                                    <tr>\\n                                        <td [ngClass]=\\\"{'ui-treenode-connector-line':!lastChild}\\\"></td>\\n                                    </tr>\\n                                </tbody>\\n                            </table>\\n                        </td>\\n                        <td class=\\\"ui-treenode\\\" [ngClass]=\\\"{'ui-treenode-collapsed':!node.expanded}\\\">\\n                            <div class=\\\"ui-treenode-content ui-state-default ui-corner-all\\\" \\n                                [ngClass]=\\\"{'ui-treenode-selectable':tree.selectionMode,'ui-state-highlight':isSelected()}\\\" (click)=\\\"onNodeClick($event)\\\" (contextmenu)=\\\"onNodeRightClick($event)\\\"\\n                                (touchend)=\\\"onNodeTouchEnd()\\\">\\n                                <span class=\\\"ui-tree-toggler fa fa-fw\\\" [ngClass]=\\\"{'fa-plus':!node.expanded,'fa-minus':node.expanded}\\\" *ngIf=\\\"!isLeaf()\\\"\\n                                        (click)=\\\"toggle($event)\\\"></span\\n                                ><span [class]=\\\"getIcon()\\\" *ngIf=\\\"node.icon||node.expandedIcon||node.collapsedIcon\\\"></span\\n                                ><span class=\\\"ui-treenode-label ui-corner-all\\\">\\n                                        <span *ngIf=\\\"!tree.getTemplateForNode(node)\\\">{{node.label}}</span>\\n                                        <span *ngIf=\\\"tree.getTemplateForNode(node)\\\">\\n                                        <ng-container *ngTemplateOutlet=\\\"tree.getTemplateForNode(node); context: {$implicit: node}\\\"></ng-container>\\n                                        </span>\\n                                </span>\\n                            </div>\\n                        </td>\\n                        <td class=\\\"ui-treenode-children-container\\\" *ngIf=\\\"node.children && node.expanded\\\" [style.display]=\\\"node.expanded ? 'table-cell' : 'none'\\\">\\n                            <div class=\\\"ui-treenode-children\\\">\\n                                <p-treeNode *ngFor=\\\"let childNode of node.children;let firstChild=first;let lastChild=last;\\\" [node]=\\\"childNode\\\" \\n                                        [firstChild]=\\\"firstChild\\\" [lastChild]=\\\"lastChild\\\"></p-treeNode>\\n                            </div>\\n                        </td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </ng-template>\\n    \"\n        }),\n        __param(0, core_1.Inject(core_1.forwardRef(function () { return Tree; }))),\n        __metadata(\"design:paramtypes\", [Tree])\n    ], UITreeNode);\n    return UITreeNode;\n    var UITreeNode_1;\n}());\nexports.UITreeNode = UITreeNode;\nvar Tree = /** @class */ (function () {\n    function Tree(el, dragDropService) {\n        this.el = el;\n        this.dragDropService = dragDropService;\n        this.selectionChange = new core_1.EventEmitter();\n        this.onNodeSelect = new core_1.EventEmitter();\n        this.onNodeUnselect = new core_1.EventEmitter();\n        this.onNodeExpand = new core_1.EventEmitter();\n        this.onNodeCollapse = new core_1.EventEmitter();\n        this.onNodeContextMenuSelect = new core_1.EventEmitter();\n        this.onNodeDrop = new core_1.EventEmitter();\n        this.layout = 'vertical';\n        this.metaKeySelection = true;\n        this.propagateSelectionUp = true;\n        this.propagateSelectionDown = true;\n        this.loadingIcon = 'fa-circle-o-notch';\n        this.emptyMessage = 'No records found';\n    }\n    Tree.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.droppableNodes) {\n            this.dragStartSubscription = this.dragDropService.dragStart$.subscribe(function (event) {\n                _this.dragNodeTree = event.tree;\n                _this.dragNode = event.node;\n                _this.dragNodeSubNodes = event.subNodes;\n                _this.dragNodeIndex = event.index;\n                _this.dragNodeScope = event.scope;\n            });\n            this.dragStopSubscription = this.dragDropService.dragStop$.subscribe(function (event) {\n                _this.dragNodeTree = null;\n                _this.dragNode = null;\n                _this.dragNodeSubNodes = null;\n                _this.dragNodeIndex = null;\n                _this.dragNodeScope = null;\n                _this.dragHover = false;\n            });\n        }\n    };\n    Object.defineProperty(Tree.prototype, \"horizontal\", {\n        get: function () {\n            return this.layout == 'horizontal';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Tree.prototype.ngAfterContentInit = function () {\n        var _this = this;\n        if (this.templates.length) {\n            this.templateMap = {};\n        }\n        this.templates.forEach(function (item) {\n            _this.templateMap[item.name] = item.template;\n        });\n    };\n    Tree.prototype.onNodeClick = function (event, node) {\n        var eventTarget = event.target;\n        if (eventTarget.className && eventTarget.className.indexOf('ui-tree-toggler') === 0) {\n            return;\n        }\n        else if (this.selectionMode) {\n            if (node.selectable === false) {\n                return;\n            }\n            var index_1 = this.findIndexInSelection(node);\n            var selected = (index_1 >= 0);\n            if (this.isCheckboxSelectionMode()) {\n                if (selected) {\n                    if (this.propagateSelectionDown)\n                        this.propagateDown(node, false);\n                    else\n                        this.selection = this.selection.filter(function (val, i) { return i != index_1; });\n                    if (this.propagateSelectionUp && node.parent) {\n                        this.propagateUp(node.parent, false);\n                    }\n                    this.selectionChange.emit(this.selection);\n                    this.onNodeUnselect.emit({ originalEvent: event, node: node });\n                }\n                else {\n                    if (this.propagateSelectionDown)\n                        this.propagateDown(node, true);\n                    else\n                        this.selection = (this.selection || []).concat([node]);\n                    if (this.propagateSelectionUp && node.parent) {\n                        this.propagateUp(node.parent, true);\n                    }\n                    this.selectionChange.emit(this.selection);\n                    this.onNodeSelect.emit({ originalEvent: event, node: node });\n                }\n            }\n            else {\n                var metaSelection = this.nodeTouched ? false : this.metaKeySelection;\n                if (metaSelection) {\n                    var metaKey = (event.metaKey || event.ctrlKey);\n                    if (selected && metaKey) {\n                        if (this.isSingleSelectionMode()) {\n                            this.selectionChange.emit(null);\n                        }\n                        else {\n                            this.selection = this.selection.filter(function (val, i) { return i != index_1; });\n                            this.selectionChange.emit(this.selection);\n                        }\n                        this.onNodeUnselect.emit({ originalEvent: event, node: node });\n                    }\n                    else {\n                        if (this.isSingleSelectionMode()) {\n                            this.selectionChange.emit(node);\n                        }\n                        else if (this.isMultipleSelectionMode()) {\n                            this.selection = (!metaKey) ? [] : this.selection || [];\n                            this.selection = this.selection.concat([node]);\n                            this.selectionChange.emit(this.selection);\n                        }\n                        this.onNodeSelect.emit({ originalEvent: event, node: node });\n                    }\n                }\n                else {\n                    if (this.isSingleSelectionMode()) {\n                        if (selected) {\n                            this.selection = null;\n                            this.onNodeUnselect.emit({ originalEvent: event, node: node });\n                        }\n                        else {\n                            this.selection = node;\n                            this.onNodeSelect.emit({ originalEvent: event, node: node });\n                        }\n                    }\n                    else {\n                        if (selected) {\n                            this.selection = this.selection.filter(function (val, i) { return i != index_1; });\n                            this.onNodeUnselect.emit({ originalEvent: event, node: node });\n                        }\n                        else {\n                            this.selection = (this.selection || []).concat([node]);\n                            this.onNodeSelect.emit({ originalEvent: event, node: node });\n                        }\n                    }\n                    this.selectionChange.emit(this.selection);\n                }\n            }\n        }\n        this.nodeTouched = false;\n    };\n    Tree.prototype.onNodeTouchEnd = function () {\n        this.nodeTouched = true;\n    };\n    Tree.prototype.onNodeRightClick = function (event, node) {\n        if (this.contextMenu) {\n            var eventTarget = event.target;\n            if (eventTarget.className && eventTarget.className.indexOf('ui-tree-toggler') === 0) {\n                return;\n            }\n            else {\n                var index = this.findIndexInSelection(node);\n                var selected = (index >= 0);\n                if (!selected) {\n                    if (this.isSingleSelectionMode())\n                        this.selectionChange.emit(node);\n                    else\n                        this.selectionChange.emit([node]);\n                }\n                this.contextMenu.show(event);\n                this.onNodeContextMenuSelect.emit({ originalEvent: event, node: node });\n            }\n        }\n    };\n    Tree.prototype.findIndexInSelection = function (node) {\n        var index = -1;\n        if (this.selectionMode && this.selection) {\n            if (this.isSingleSelectionMode()) {\n                index = (this.selection == node) ? 0 : -1;\n            }\n            else {\n                for (var i = 0; i < this.selection.length; i++) {\n                    if (this.selection[i] == node) {\n                        index = i;\n                        break;\n                    }\n                }\n            }\n        }\n        return index;\n    };\n    Tree.prototype.propagateUp = function (node, select) {\n        if (node.children && node.children.length) {\n            var selectedCount = 0;\n            var childPartialSelected = false;\n            for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (this.isSelected(child)) {\n                    selectedCount++;\n                }\n                else if (child.partialSelected) {\n                    childPartialSelected = true;\n                }\n            }\n            if (select && selectedCount == node.children.length) {\n                this.selection = (this.selection || []).concat([node]);\n                node.partialSelected = false;\n            }\n            else {\n                if (!select) {\n                    var index_2 = this.findIndexInSelection(node);\n                    if (index_2 >= 0) {\n                        this.selection = this.selection.filter(function (val, i) { return i != index_2; });\n                    }\n                }\n                if (childPartialSelected || selectedCount > 0 && selectedCount != node.children.length)\n                    node.partialSelected = true;\n                else\n                    node.partialSelected = false;\n            }\n        }\n        var parent = node.parent;\n        if (parent) {\n            this.propagateUp(parent, select);\n        }\n    };\n    Tree.prototype.propagateDown = function (node, select) {\n        var index = this.findIndexInSelection(node);\n        if (select && index == -1) {\n            this.selection = (this.selection || []).concat([node]);\n        }\n        else if (!select && index > -1) {\n            this.selection = this.selection.filter(function (val, i) { return i != index; });\n        }\n        node.partialSelected = false;\n        if (node.children && node.children.length) {\n            for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                this.propagateDown(child, select);\n            }\n        }\n    };\n    Tree.prototype.isSelected = function (node) {\n        return this.findIndexInSelection(node) != -1;\n    };\n    Tree.prototype.isSingleSelectionMode = function () {\n        return this.selectionMode && this.selectionMode == 'single';\n    };\n    Tree.prototype.isMultipleSelectionMode = function () {\n        return this.selectionMode && this.selectionMode == 'multiple';\n    };\n    Tree.prototype.isCheckboxSelectionMode = function () {\n        return this.selectionMode && this.selectionMode == 'checkbox';\n    };\n    Tree.prototype.getTemplateForNode = function (node) {\n        if (this.templateMap)\n            return node.type ? this.templateMap[node.type] : this.templateMap['default'];\n        else\n            return null;\n    };\n    Tree.prototype.onDragOver = function (event) {\n        if (this.droppableNodes && (!this.value || this.value.length === 0)) {\n            event.dataTransfer.dropEffect = 'move';\n            event.preventDefault();\n        }\n    };\n    Tree.prototype.onDrop = function (event) {\n        if (this.droppableNodes && (!this.value || this.value.length === 0)) {\n            event.preventDefault();\n            var dragNode = this.dragNode;\n            if (this.allowDrop(dragNode, null, this.dragNodeScope)) {\n                var dragNodeIndex = this.dragNodeIndex;\n                this.dragNodeSubNodes.splice(dragNodeIndex, 1);\n                this.value = this.value || [];\n                this.value.push(dragNode);\n                this.dragDropService.stopDrag({\n                    node: dragNode\n                });\n            }\n        }\n    };\n    Tree.prototype.onDragEnter = function (event) {\n        if (this.droppableNodes && this.allowDrop(this.dragNode, null, this.dragNodeScope)) {\n            this.dragHover = true;\n        }\n    };\n    Tree.prototype.onDragLeave = function (event) {\n        if (this.droppableNodes) {\n            var rect = event.currentTarget.getBoundingClientRect();\n            if (event.x > rect.left + rect.width || event.x < rect.left || event.y > rect.top + rect.height || event.y < rect.top) {\n                this.dragHover = false;\n            }\n        }\n    };\n    Tree.prototype.allowDrop = function (dragNode, dropNode, dragNodeScope) {\n        if (!dragNode) {\n            //prevent random html elements to be dragged\n            return false;\n        }\n        else if (this.isValidDragScope(dragNodeScope)) {\n            var allow = true;\n            if (dropNode) {\n                if (dragNode === dropNode) {\n                    allow = false;\n                }\n                else {\n                    var parent_1 = dropNode.parent;\n                    while (parent_1 != null) {\n                        if (parent_1 === dragNode) {\n                            allow = false;\n                            break;\n                        }\n                        parent_1 = parent_1.parent;\n                    }\n                }\n            }\n            return allow;\n        }\n        else {\n            return false;\n        }\n    };\n    Tree.prototype.isValidDragScope = function (dragScope) {\n        var dropScope = this.droppableScope;\n        if (dropScope) {\n            if (typeof dropScope === 'string') {\n                if (typeof dragScope === 'string')\n                    return dropScope === dragScope;\n                else if (dragScope instanceof Array)\n                    return dragScope.indexOf(dropScope) != -1;\n            }\n            else if (dropScope instanceof Array) {\n                if (typeof dragScope === 'string') {\n                    return dropScope.indexOf(dragScope) != -1;\n                }\n                else if (dragScope instanceof Array) {\n                    for (var _i = 0, dropScope_1 = dropScope; _i < dropScope_1.length; _i++) {\n                        var s = dropScope_1[_i];\n                        for (var _a = 0, dragScope_1 = dragScope; _a < dragScope_1.length; _a++) {\n                            var ds = dragScope_1[_a];\n                            if (s === ds) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    Tree.prototype.getBlockableElement = function () {\n        return this.el.nativeElement.children[0];\n    };\n    Tree.prototype.ngOnDestroy = function () {\n        if (this.dragStartSubscription) {\n            this.dragStartSubscription.unsubscribe();\n        }\n        if (this.dragStopSubscription) {\n            this.dragStopSubscription.unsubscribe();\n        }\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Array)\n    ], Tree.prototype, \"value\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], Tree.prototype, \"selectionMode\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], Tree.prototype, \"selection\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], Tree.prototype, \"selectionChange\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], Tree.prototype, \"onNodeSelect\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], Tree.prototype, \"onNodeUnselect\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], Tree.prototype, \"onNodeExpand\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], Tree.prototype, \"onNodeCollapse\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], Tree.prototype, \"onNodeContextMenuSelect\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], Tree.prototype, \"onNodeDrop\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], Tree.prototype, \"style\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], Tree.prototype, \"styleClass\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], Tree.prototype, \"contextMenu\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], Tree.prototype, \"layout\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], Tree.prototype, \"draggableScope\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], Tree.prototype, \"droppableScope\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], Tree.prototype, \"draggableNodes\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], Tree.prototype, \"droppableNodes\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], Tree.prototype, \"metaKeySelection\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], Tree.prototype, \"propagateSelectionUp\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], Tree.prototype, \"propagateSelectionDown\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], Tree.prototype, \"loading\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], Tree.prototype, \"loadingIcon\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], Tree.prototype, \"emptyMessage\", void 0);\n    __decorate([\n        core_1.ContentChildren(shared_2.PrimeTemplate),\n        __metadata(\"design:type\", core_1.QueryList)\n    ], Tree.prototype, \"templates\", void 0);\n    Tree = __decorate([\n        core_1.Component({\n            selector: 'p-tree',\n            template: \"\\n        <div [ngClass]=\\\"{'ui-tree ui-widget ui-widget-content ui-corner-all':true,'ui-tree-selectable':selectionMode,'ui-treenode-dragover':dragHover,'ui-tree-loading': loading}\\\" [ngStyle]=\\\"style\\\" [class]=\\\"styleClass\\\" *ngIf=\\\"!horizontal\\\"\\n            (drop)=\\\"onDrop($event)\\\" (dragover)=\\\"onDragOver($event)\\\" (dragenter)=\\\"onDragEnter($event)\\\" (dragleave)=\\\"onDragLeave($event)\\\">\\n            <div class=\\\"ui-tree-loading-mask ui-widget-overlay\\\" *ngIf=\\\"loading\\\"></div>\\n            <div class=\\\"ui-tree-loading-content\\\" *ngIf=\\\"loading\\\">\\n                <i [class]=\\\"'fa fa-spin fa-2x ' + loadingIcon\\\"></i>\\n            </div>\\n            <ul class=\\\"ui-tree-container\\\" *ngIf=\\\"value\\\">\\n                <p-treeNode *ngFor=\\\"let node of value;let firstChild=first;let lastChild=last; let index=index\\\" [node]=\\\"node\\\" \\n                [firstChild]=\\\"firstChild\\\" [lastChild]=\\\"lastChild\\\" [index]=\\\"index\\\"></p-treeNode>\\n            </ul>\\n            <div class=\\\"ui-tree-empty-message\\\" *ngIf=\\\"!loading && !value\\\">{{emptyMessage}}</div>\\n        </div>\\n        <div [ngClass]=\\\"{'ui-tree ui-tree-horizontal ui-widget ui-widget-content ui-corner-all':true,'ui-tree-selectable':selectionMode}\\\"  [ngStyle]=\\\"style\\\" [class]=\\\"styleClass\\\" *ngIf=\\\"horizontal\\\">\\n            <div class=\\\"ui-tree-loading ui-widget-overlay\\\" *ngIf=\\\"loading\\\"></div>\\n            <div class=\\\"ui-tree-loading-content\\\" *ngIf=\\\"loading\\\">\\n                <i [class]=\\\"'fa fa-spin fa-2x ' + loadingIcon\\\"></i>\\n            </div>\\n            <table *ngIf=\\\"value&&value[0]\\\">\\n                <p-treeNode [node]=\\\"value[0]\\\" [root]=\\\"true\\\"></p-treeNode>\\n            </table>\\n            <div class=\\\"ui-tree-empty-message\\\" *ngIf=\\\"!loading && !value\\\">{{emptyMessage}}</div>\\n        </div>\\n    \"\n        }),\n        __param(1, core_2.Optional()),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, treedragdropservice_1.TreeDragDropService])\n    ], Tree);\n    return Tree;\n}());\nexports.Tree = Tree;\nvar TreeModule = /** @class */ (function () {\n    function TreeModule() {\n    }\n    TreeModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            exports: [Tree, shared_1.SharedModule],\n            declarations: [Tree, UITreeNode]\n        })\n    ], TreeModule);\n    return TreeModule;\n}());\nexports.TreeModule = TreeModule;\n//# sourceMappingURL=tree.js.map"]}