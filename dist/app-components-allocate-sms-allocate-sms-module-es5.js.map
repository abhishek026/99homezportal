{"version":3,"sources":["webpack:///src/app/components/allocate-sms/allocate-sms.component.html","webpack:///src/app/components/allocate-sms/transactional/transactional.component.html","webpack:///src/app/components/allocate-sms/allocate-sms-routing.module.ts","webpack:///src/app/components/allocate-sms/allocate-sms.component.scss","webpack:///src/app/components/allocate-sms/allocate-sms.component.ts","webpack:///src/app/components/allocate-sms/allocate-sms.module.ts","webpack:///src/app/components/allocate-sms/transactional/transactional.component.scss","webpack:///src/app/components/allocate-sms/transactional/transactional.component.ts"],"names":["AllocateSmsRoutingModule","imports","forChild","path","component","pathMatch","children","exports","AllocateSmsComponent","selector","template","AllocateSmsModule","declarations","TransactionalComponent","apiService","auth","_msgService","zone","type","radioSelected","transactionSMS","total_sms","price","tax","total_price","currentInstituteId","subscribe","id","institute_id","self","merchant_acc","key_id","total_amount","options","key","amount","name","description","theme","color","handler","paymentResponseHander","bind","modal","paymentCancelled","rzp","Razorpay","open","console","log","response","data","putData","resp","run","showErrorMessage","err"],"mappings":"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","file":"app-components-allocate-sms-allocate-sms-module-es5.js","sourcesContent":["export default \"\\n  <router-outlet></router-outlet>\";","export default \"<div class=\\\" container-fluid\\\">\\n  <div class=\\\"container-sms\\\">\\n    <h1 class=\\\"pull-left\\\">\\n      <a routerLink=\\\"/view/dashboard/admin\\\">\\n        Dashboard\\n      </a>\\n      <i style=\\\"font-family: 'FontAwesome';\\\" class=\\\"fas fa-angle-right\\\"></i> Buy SMS\\n    </h1>\\n    <div class=\\\"allocate-sms\\\">\\n      <input type=\\\"button\\\" [ngClass]=\\\"{'fullBlue': type=='Transactional'}\\\" style=\\\"margin-left: 0px;\\\" class=\\\"btn\\\" value=\\\"Transactional\\\" (click)=\\\"changeType('Transactional')\\\">\\n      <input type=\\\"button\\\" class=\\\"btn\\\" [ngClass]=\\\"{'fullBlue': type=='Promotional'}\\\" (click)=\\\"changeType('Promotional')\\\" value=\\\"Promotional\\\">\\n    </div>\\n  </div>\\n  <div class=\\\"sms-title\\\">SMS Plan</div>\\n  <div class=\\\"container-fluid\\\">\\n    <table class=\\\"table table-hover\\\">\\n      <thead class=\\\"border-css\\\">\\n        <tr>\\n          <th class=\\\"firstTh\\\"> Total SMS</th>\\n          <th> Price (Per SMS in Paisa)</th>\\n          <th>Tax(%)</th>\\n          <th>Total Price in Rs.</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let smsDetails  of transactionSMS; let i =index\\\">\\n          <td>\\n            <div class=\\\"c-sm-1 c-md-1 c-lg-1\\\">\\n              <div class=\\\"field-radio-wrapper\\\">\\n                <input type=\\\"radio\\\" name=\\\"bothRadio\\\" [id]=\\\"'bothRadio-'+i\\\" class=\\\"form-radio\\\" [value]=\\\"i\\\" [(ngModel)]=\\\"radioSelected\\\">\\n                <label [for]=\\\"'bothRadio-'+i\\\">{{smsDetails.total_sms}}</label>\\n              </div>\\n            </div>\\n          </td>\\n          <td>{{smsDetails.price}}</td>\\n          <td>{{smsDetails.tax}}</td>\\n          <td class=\\\"total_price\\\">{{smsDetails.total_price | number}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n\\n    <div class=\\\"text-right\\\">\\n      <input type=\\\"button\\\" class=\\\"btn\\\" routerLink=\\\"/view/dashboard/admin\\\" value=\\\"Back\\\">\\n      <input type=\\\"button\\\" class=\\\"btn fullBlue btn-buy\\\" (click)=\\\"openRazorpayCheckout()\\\" value=\\\"Buy Now\\\">\\n    </div>\\n  </div>\\n</div>\";","import { NgModule }     from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { TransactionalComponent } from './transactional/transactional.component';\nimport { AllocateSmsComponent } from './allocate-sms.component';\n\n@NgModule({\n    imports: [\n        RouterModule.forChild([\n            {\n                path: '',\n                component: AllocateSmsComponent,\n                pathMatch: 'prefix',\n                children: [\n                    {\n                        path: 'sms-details',\n                        component: TransactionalComponent,\n                        pathMatch: 'prefix'\n                    }\n                ]\n            }\n        ])\n    ],\n    exports: [\n        RouterModule\n    ]\n})\nexport class AllocateSmsRoutingModule {\n}","export default \".container-sms {\\n  padding: 10px;\\n}\\n\\n.container-sms .title {\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n\\n.container-sms .allocate-sms {\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid gray;\\n}\\n\\n.container-sms .allocate-sms .btn {\\n  border-radius: .25rem;\\n}\\n\\n.sms-title {\\n  font-size: 14px;\\n  font-weight: 600;\\n  padding-left: 1rem;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9hbGxvY2F0ZS1zbXMvYWxsb2NhdGUtc21zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtBQUNmOztBQUZBO0VBSUksZUFBZTtFQUNmLGdCQUFnQjtBQUVwQjs7QUFQQTtFQVNJLGlCQUFpQjtFQUNqQixvQkFBb0I7RUFDcEIsNkJBQTZCO0FBRWpDOztBQWJBO0VBY00scUJBQXFCO0FBRzNCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2FsbG9jYXRlLXNtcy9hbGxvY2F0ZS1zbXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLXNtcyB7XG4gIHBhZGRpbmc6IDEwcHg7XG5cbiAgLnRpdGxlIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgfVxuXG4gIC5hbGxvY2F0ZS1zbXMge1xuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBncmF5O1xuXG4gICAgLmJ0biB7XG4gICAgICBib3JkZXItcmFkaXVzOiAuMjVyZW07XG4gICAgfVxuICB9XG59XG5cbi5zbXMtdGl0bGUge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHBhZGRpbmctbGVmdCA6MXJlbTsgXG59XG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-allocate-sms',\n  templateUrl: './allocate-sms.component.html',\n  styleUrls: ['./allocate-sms.component.scss']\n})\nexport class AllocateSmsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TransactionalComponent } from './transactional/transactional.component';\nimport { AllocateSmsComponent } from './allocate-sms.component';\nimport { AllocateSmsRoutingModule } from './allocate-sms-routing.module';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AllocateSmsRoutingModule\n\n  ],\n  declarations: [\n    TransactionalComponent,\n    AllocateSmsComponent\n    ]\n})\nexport class AllocateSmsModule { }\n","export default \".container-fluid {\\n  color: #797979;\\n  padding-top: 10px;\\n}\\n\\n.container-fluid .border-css {\\n  border: 1px solid rgba(211, 212, 213, 0.5);\\n}\\n\\n.container-fluid table thead {\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n\\n.container-fluid table thead tr th {\\n  color: #797979;\\n}\\n\\n.container-fluid table thead tr td {\\n  color: #dbdbdb;\\n}\\n\\n.container-fluid table thead tr .total_price {\\n  color: #585574;\\n}\\n\\n.container-fluid .btn-buy {\\n  border-radius: .25rem;\\n}\\n\\n.container-sms {\\n  padding: 10px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.container-sms .allocate-sms {\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid gray;\\n}\\n\\n.btn {\\n  border-radius: .25rem;\\n}\\n\\n.firstTh {\\n  text-align: left;\\n  padding-left: 18px;\\n}\\n\\n.sms-title {\\n  font-size: 14px;\\n  font-weight: 600;\\n  padding-left: 1rem;\\n}\\n\\n.filter-section {\\n  padding: 10px 0px;\\n  margin: 5px 0;\\n  background: #efefef;\\n}\\n\\n.filter-section .radio-button {\\n  margin-top: 10px;\\n  display: inline-flex;\\n}\\n\\n.filter-section .radio-button .field-radio-wrapper {\\n  margin-right: 5px;\\n}\\n\\n.filter-section .field-wrapper {\\n  padding-top: 0;\\n}\\n\\n.filter-section .btn {\\n  margin-left: 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9hbGxvY2F0ZS1zbXMvdHJhbnNhY3Rpb25hbC90cmFuc2FjdGlvbmFsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtBQUNuQjs7QUFIQTtFQUtJLDBDQUEwQztBQUU5Qzs7QUFQQTtFQVVNLGVBQWU7RUFDZixnQkFBZ0I7QUFDdEI7O0FBWkE7RUFjUSxjQUFhO0FBRXJCOztBQWhCQTtFQWtCUSxjQUFhO0FBRXJCOztBQXBCQTtFQXFCVSxjQUFhO0FBR3ZCOztBQXhCQTtFQThCSSxxQkFBcUI7QUFGekI7O0FBT0E7RUFDSSxhQUFhO0VBQ2IsYUFBYTtFQUNiLHNCQUFzQjtBQUoxQjs7QUFDQTtFQUtNLGlCQUFpQjtFQUNqQixvQkFBb0I7RUFDcEIsNkJBQTZCO0FBRm5DOztBQU1FO0VBQ0UscUJBQXFCO0FBSHpCOztBQU1FO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUh0Qjs7QUFNRTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBSHRCOztBQU1FO0VBQ0UsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYixtQkFBbUI7QUFIdkI7O0FBQUU7RUFLSSxnQkFBZ0I7RUFDaEIsb0JBQW9CO0FBRDFCOztBQUxFO0VBUU0saUJBQWlCO0FBQ3pCOztBQVRFO0VBWUksY0FBYztBQUNwQjs7QUFiRTtFQWVJLGNBQWM7QUFFcEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2FsbG9jYXRlLXNtcy90cmFuc2FjdGlvbmFsL3RyYW5zYWN0aW9uYWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWZsdWlkIHtcbiAgY29sb3I6ICM3OTc5Nzk7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuXG4gIC5ib3JkZXItY3NzIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDIxMSwgMjEyLCAyMTMsIDAuNSk7XG4gIH1cblxuICB0YWJsZSB7XG4gICAgdGhlYWQge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIHRyIHtcbiAgICAgICAgICB0aHtcbiAgICAgICAgY29sb3I6Izc5Nzk3OTtcbiAgICAgIH1cblxuICAgICAgdGR7XG4gICAgICAgIGNvbG9yOiNkYmRiZGI7XG4gICAgICB9XG4gICAgICAudG90YWxfcHJpY2V7XG4gICAgICAgICAgY29sb3I6IzU4NTU3NDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB9XG4gIH1cblxuICAuYnRuLWJ1eXtcbiAgICAvLyB3aWR0aDogMjAwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogLjI1cmVtO1xuICB9XG59XG5cblxuLmNvbnRhaW5lci1zbXMge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIC5hbGxvY2F0ZS1zbXMge1xuICAgICAgcGFkZGluZy10b3A6IDEwcHg7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBncmF5O1xuICAgICAgfVxuICB9XG5cbiAgLmJ0biB7XG4gICAgYm9yZGVyLXJhZGl1czogLjI1cmVtO1xuICB9XG5cbiAgLmZpcnN0VGh7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBwYWRkaW5nLWxlZnQ6IDE4cHg7XG4gIH1cblxuICAuc21zLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBwYWRkaW5nLWxlZnQgOjFyZW07XG4gIH1cblxuICAuZmlsdGVyLXNlY3Rpb24ge1xuICAgIHBhZGRpbmc6IDEwcHggMHB4O1xuICAgIG1hcmdpbjogNXB4IDA7XG4gICAgYmFja2dyb3VuZDogI2VmZWZlZjtcbiAgICAucmFkaW8tYnV0dG9uIHtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgIC5maWVsZC1yYWRpby13cmFwcGVyIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICB9XG4gICAgfVxuICAgIC5maWVsZC13cmFwcGVyIHtcbiAgICAgIHBhZGRpbmctdG9wOiAwO1xuICAgIH1cbiAgICAuYnRuIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgIH1cbiAgfVxuIl19 */\";","import { Component, NgZone, OnInit } from '@angular/core';\nimport { AuthenticatorService } from '../../../services/authenticator.service';\nimport { HttpService } from '../../../services/http.service';\nimport { MessageShowService } from '../../../services/message-show.service';\ndeclare var Razorpay;\n\n@Component({\n  selector: 'app-transactional',\n  templateUrl: './transactional.component.html',\n  styleUrls: ['./transactional.component.scss']\n})\nexport class TransactionalComponent implements OnInit {\n\n\n  type: string = 'Transactional';\n  radioSelected: any = 0;\n  institute_id: any;\n  transactionSMS: any = [\n    { total_sms: 5000, price: 15, tax: 18, total_price: 885 },//767\n    { total_sms: 10000, price: 15, tax: 18, total_price: 1770 },\n    { total_sms: 25000, price: 15, tax: 18, total_price: 4425 },\n    { total_sms: 50000, price: 15, tax: 18, total_price: 8850 },\n    { total_sms: 100000, price: 14, tax: 18, total_price: 16520 }];\n\n  constructor(private apiService: HttpService,\n    private auth: AuthenticatorService,\n    public _msgService: MessageShowService,\n    private zone: NgZone) {\n    this.auth.currentInstituteId.subscribe(id => {\n      this.institute_id = id;\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  changeType(type) {\n    this.type = type;;\n  }\n\n\n\n  openRazorpayCheckout() {\n    var self = this;\n    let merchant_acc = [{ key_id: \"rzp_live_ZAmgveArrf1mQO\" }] //rzp_test_vuWxy6G3R70M8C\n    // console.log(merchant_acc[0]);\n    let total_amount = this.transactionSMS[this.radioSelected].total_price * 100;\n    let options = {\n      key: merchant_acc[0].key_id,\n      amount: total_amount,\n      name: \"Proctur \",\n      description: \"Eduspace Technologies Pvt. Ltd\",\n      theme: {\n        color: \"blue\"\n      },\n      handler: this.paymentResponseHander.bind(this),\n      modal: {\n        \"ondismiss\": function (this) {\n          self.paymentCancelled();\n        }\n      }\n    }\n\n    let rzp = new Razorpay(options);\n    rzp.open();\n  }\n\n  paymentCancelled() {\n    // Transaction Cancelled\n    console.log('Payment Cancelled Called');\n    // this._msgService.showErrorMessage('error', '', \"due to some problem your transaction is cancel \");\n\n  }\n\n  paymentResponseHander(response) {\n    let data = {\n      \"sms_quota_allocated\": this.transactionSMS[this.radioSelected].total_sms,\n      \"sms_type\": this.type // Promotional\n    };\n\n    this.apiService.putData('/api/v1/institute/SMS/transaction/buyOnline/' + this.institute_id, data).subscribe(\n      (resp: any) => {\n        console.log(resp)\n        this.zone.run(() => { // <== added\n          this._msgService.showErrorMessage('success', '', \"SMS successfully added in your account\");\n        });\n      },\n      (err) => {\n        console.log(err)\n        this.zone.run(() => { // <== added\n          this._msgService.showErrorMessage('error', '', \"Something went wrong please try again and if your payment deducted from your account it will be added in your account within 5 to 6 days \");\n        });\n      }\n    );\n  }\n}\n\n"]}