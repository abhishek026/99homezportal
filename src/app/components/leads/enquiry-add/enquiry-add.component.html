<section class="homewrap  clearFix">
    <form novalidate class="scroll-content" #myForm="ngForm" (ngSubmit)="submitForm(myForm)">
        <!-- Left Side Form -->
        <aside class="pull-left middle-left " id="addNewEnquiry">
            <!-- Header -->
            <section class="middle-top clearFix">
                <div class="row">
                    <h1 class="pull-left">
                        Add New Enquiry
                    </h1>
                    <aside class="pull-right" *ngIf="permission != true && BulkEnqHide">
                        <input type="button" value="Upload Enquiry" routerLink="/view/leads/enquiry/upload"
                            class="uploadBtn" id="btnUpload">
                    </aside>
                </div>
            </section>
            <!-- Accordian Menu Element -->
            <section class="middle-main clearFix" id="middleMain">
                <aside>
                <div class="add-new-enquiry-form accordian-section">
                    <ul class="accordian">
                        <!-- Basic Form -->
                        <li class="active data-filled" id="basicDetails">
                            <!-- Accordian Toggler -->
                            <div class="accordian-heading">
                                <h4>
                                    <span class="circle-accor">1</span> Basic Details
                                    <span class="open-accor" id="openBasic" (click)="toggleForm($event)">+</span>
                                    <span class="close-accor" id="closeBasic" (click)="toggleForm($event)">-</span>
                                </h4>
                            </div>
                            <!-- Accordian Form 1 -->
                            <div class="accordian-content AdFilter-field middle-left-auto">
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Source -->
                                        <div class="field-wrapper">
                                            <label for="source">Source<span class="text-danger">*</span></label>
                                            <select id="source" class="form-ctrl" [(ngModel)]="newEnqData.source_id"
                                                name="source" style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let source of sourceLead" [value]="source.id">
                                                    {{source.name}}</option>
                                            </select>
                                            <span (click)="showAddSourcePops()" class="sourceI iconPlus"
                                                style="left: 20rem;">+</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">

                                    <!-- Name -->
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="name">Name
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="text" value="" id="name" #name="ngModel" class="form-ctrl"
                                                [(ngModel)]="newEnqData.name" name="name" maxlength="50" required
                                                style="border-radius: 4px;width: 20rem;" />

                                            <div *ngIf="name.invalid && (name.dirty || name.touched)"
                                                class="alert invalid-alert">
                                                <div class="text-danger" *ngIf="name.errors.required">
                                                    name is required.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Phone No -->
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="phone">Phone No<span class="text-danger">*</span></label><br>
                                            <span class="countryCallingCode" style="width: 22%">
                                                <select id="country_id" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.country_id" name="country_id"
                                                    [disabled]="countryDetails.length<=1"
                                                    (change)="onChangeObj($event.target.value)"
                                                    style="height: 29px;padding: 0;border-radius: 4px;">
                                                    <option value=""></option>
                                                    <option [value]="data.id" selected
                                                        *ngFor='let data of countryDetails'>
                                                        {{data.country_code}} +{{data.country_calling_code}}
                                                    </option>
                                                </select>
                                            </span>
                                            <input type="text" value="" id="phone" class="form-ctrl"
                                                [(ngModel)]="newEnqData.phone" name="phone"
                                                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
                                                style="border-radius: 4px;width: 14rem;" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row" *ngIf="schoolModel">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- standard Course-->
                                        <div *ngIf="!isProfessional" class="field-wrapper">
                                            <label for="editStandard">Standard</label>
                                            <select id="editStandard" class="form-ctrl" [(ngModel)]="course_standard_id"
                                                (ngModelChange)="fetchSubject($event)" name="editStandard"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let std of enqStd" [value]="std.standard_id">
                                                    {{std.standard_name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Academic Yr -->
                                        <div class="field-wrapper">
                                            <label for="editMc">Academic Year</label>
                                            <select id="editMc" class="form-ctrl" name="editMc"
                                                [(ngModel)]="newEnqData.inst_acad_year_id"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let data of instAcademicYrList"
                                                    [value]="data.inst_acad_year_id">
                                                    {{data.inst_acad_year}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="c-lg-9 c-md-9 c-sm-9">

                                    </div>
                                    <!-- fetch more details -->
                                    <div class="c-lg-3 c-md-3 c-sm-3">
                                        <div class="more-detail">
                                            <a (click)="getLeadDetails()" style="cursor:pointer" id="getLeadAnch8">Fetch
                                                Lead Details</a>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- email enq -->
                                        <div class="field-wrapper">
                                            <label for="email">Email ID</label>
                                            <input type="text" value="" id="email" #email="ngModel" class="form-ctrl"
                                                [(ngModel)]="newEnqData.email" name="email"
                                                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z]+\.[a-zA-Z.]{2,5}$"
                                                style="border-radius: 4px;width: 20rem;" />

                                            <div *ngIf="email.invalid && (email.dirty || email.touched)"
                                                class="alert invalid-alert">
                                                <div class="text-danger" *ngIf="email.errors.pattern">
                                                    Enter email in format eg. someone@xyz.com
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- gender -->
                                        <div class="field-wrapper">
                                            <label for="gender">Gender</label>
                                            <select class="form-ctrl" [(ngModel)]="newEnqData.gender" name="gender"
                                                id="gender" style="border-radius: 4px;width: 20rem;">
                                                <option value=""></option>
                                                <option value="M">Male</option>
                                                <option value="F">Female</option>
                                                <option value="NA">NA</option>
                                            </select>

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper datePickerBox2">
                                            <label for="dob">Date of Birth</label>
                                            <input type="text" value="" id="dob" class="form-ctrl bsDatepicker"
                                                [(ngModel)]="newEnqData.dob" name="dob" readonly='true' bsDatepicker
                                                style="border-radius: 4px;width: 20rem;">
                                                <span name="clear" (click)="newEnqData.dob = ''" class="date-clear" style="margin-right: 5%;top: 58px;right: 0;">clear</span>
                                            <!-- <span class="date-clear" name="dob" (click)="newEnqData.dob = ''"
                        style="left: 18rem;top: 3.5rem;">clear</span> -->
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="state">
                                                State
                                                <span *ngIf="isStateMandatory == 1"><span
                                                        class="text-danger">*</span></span>
                                            </label>
                                            <select id="state" class="form-ctrl" [(ngModel)]="newEnqData.state_id"
                                                name="state" (ngModelChange)="getNewCityList()"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="">Select State</option>
                                                <option title="{{state.state_name}}" [value]="state.state_id"
                                                    *ngFor="let state of stateList">
                                                    {{ (state.state_name.length > 30) ? (state.state_name | slice:0:30)
                                                    + '...' : state.state_name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- City -->
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="city">
                                                City
                                                <span *ngIf="isCityMandatory == 1"><span
                                                        class="text-danger">*</span></span>
                                            </label>
                                            <select id="city" class="form-ctrl" [(ngModel)]="newEnqData.city_id"
                                                name="city" (ngModelChange)="getNewAreaList()"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="">Select City</option>
                                                <option title="{{city.city_name}}" [value]="city.city_id"
                                                    *ngFor="let city of cityList">
                                                    {{ (city.city_name.length > 30) ? (city.city_name | slice:0:30) +
                                                    '...' : city.city_name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6" style="width: 47%;">
                                        <!-- area -->
                                        <div class="field-wrapper">
                                            <label for="addArea">Area</label>
                                            <select id="area_id" class="form-ctrl" [(ngModel)]="newEnqData.area_id"
                                                name="area_id" style="border-radius: 4px;width: 20rem;">
                                                <option value="">Select Area</option>
                                                <option title="{{area.area}}" [value]="area.id"
                                                    *ngFor="let area of areaList">
                                                    {{ (area.area.length > 30) ? (area.area | slice:0:30) + '...' :
                                                    area.area }}
                                                </option>
                                            </select>
                                            <span (click)="toggleAddArea()" class="sourceI iconPlus">+</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="pin_code">Pin code</label>
                                            <input type="text" value="" onkeypress="return (event.charCode >= 48 && event.charCode <= 57)" id="pin_code" class="form-ctrl"
                                                [(ngModel)]="newEnqData.pin_code" name="pin_code" #pin_code="ngModel"
                                                style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="userAddress">Current Address</label>
                                            <textarea type="text" value="" id="userAddress" class="form-ctrl" row="5"
                                                cols="5" [(ngModel)]="newEnqData.curr_address" name="address"
                                                style="border-radius: 4px;width: 20rem;height: 13vh;"></textarea>

                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="address">Residential Address </label>
                                            <textarea type="text" value="" id="address" class="form-ctrl" row="5"
                                                cols="5" [(ngModel)]="newEnqData.address" name="address"
                                                style="border-radius: 4px;width: 20rem;height: 13vh;"></textarea>

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Phone -->
                                        <div class="field-wrapper">
                                            <label for="altContact">Alternate Contact</label><br>

                                            <span class="countryCallingCode">
                                                <select id="country_id" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.country_id" name="country_id"
                                                    [disabled]="countryDetails.length<=1"
                                                    (change)="onChangeObj($event.target.value)"
                                                    style="height: 29px;padding: 0">
                                                    <option value=""></option>
                                                    <option [value]="data.id" selected
                                                        *ngFor='let data of countryDetails'>
                                                        {{data.country_code}} +{{data.country_calling_code}}
                                                    </option>
                                                </select>
                                            </span>
                                            <input type="text" value="" id="altContact" #phone2="ngModel"
                                                class="form-ctrl" [(ngModel)]="newEnqData.phone2" name="phone2"
                                                style="border-radius: 4px;width: 15.5rem;"
                                                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)" />

                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Email -->
                                        <div class="field-wrapper">
                                            <label for="email2">Alternate Email ID</label>
                                            <input type="text" value="" id="email2" #email2="ngModel" class="form-ctrl"
                                                [(ngModel)]="newEnqData.email2" name="email2"
                                                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z]+\.[a-zA-Z.]{2,5}$"
                                                style="border-radius: 4px;width: 20rem;" />

                                            <div *ngIf="email2.invalid && (email2.dirty || email2.touched)"
                                                class="alert invalid-alert">
                                                <div class="text-danger"*ngIf="email2.errors.pattern">
                                                    Enter email in format eg. someone@xyz.com
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- School related new field -->
                                <div>
                                    <div class="row">
                                        <div class="c-lg-6 c-md-6 c-sm-6">
                                            <div class="field-wrapper">
                                                <label for="nationality">Nationality</label>
                                                <input type="text" value="" id="nationality" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.nationality" name="nationality"
                                                    #nationality="ngModel" style="border-radius: 4px;width: 20rem;" />
                                            </div>
                                        </div>
                                        <div class="c-lg-6 c-md-6 c-sm-6">
                                            <div class="field-wrapper">
                                                <label for="birth_place">Birth Place</label>
                                                <input type="text" value="" id="birth_place" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.birth_place" name="birth_place"
                                                    #birth_place="ngModel" style="border-radius: 4px;width: 20rem;" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="c-lg-6 c-md-6 c-sm-6">
                                            <div class="field-wrapper">
                                                <label for="feeCommitted">Mother Tongue</label>
                                                <select id="mother_tounge" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.mother_tounge" name="mother_tounge"
                                                    style="border-radius: 4px;width: 20rem;">
                                                    <option value="-1"></option>
                                                    <option *ngFor="let data of masterDataList.MOTHER_TOUNGE"
                                                        [value]="data.data_key">
                                                        {{data.data_value}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="c-lg-6 c-md-6 c-sm-6">
                                            <div class="field-wrapper">
                                                <label for="discount">Category</label>
                                                <select id="category" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.category" name="category"
                                                    style="border-radius: 4px;width: 20rem;">
                                                    <option value="-1"></option>
                                                    <option *ngFor="let data of masterDataList.CASTE_CATEGORY"
                                                        [value]="data.data_key">
                                                        {{data.data_value}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="c-lg-6 c-md-6 c-sm-6">
                                            <div class="field-wrapper">
                                                <label for="religion">Religion</label>
                                                <input type="text" value="" id="religion" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.religion" name="religion"
                                                    #religion="ngModel" style="border-radius: 4px;width: 20rem;" />
                                            </div>
                                        </div>
                                        <div class="c-lg-6 c-md-6 c-sm-6">
                                            <div class="field-wrapper">
                                                <label for="discount">Blood Group</label>
                                                <select id="blood_group" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.blood_group" name="blood_group"
                                                    style="border-radius: 4px;width: 20rem;">
                                                    <option value="-1"></option>
                                                    <option *ngFor="let data of masterDataList.BLOOD_GROUP"
                                                        [value]="data.data_key">
                                                        {{data.data_value}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="c-lg-6 c-md-6 c-sm-6">
                                            <div class="field-wrapper">
                                                <label for="student_adhar_no">Aadhar No.</label>
                                                <input type="text" value="" id="feeCommitted" class="form-ctrl" maxlength="12"
                                                    [(ngModel)]="newEnqData.student_adhar_no" name="student_adhar_no"
                                                    #student_adhar_no="ngModel"
                                                    onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
                                                    style="border-radius: 4px;width: 20rem;" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Name -->
                                        <div class="field-wrapper">
                                            <label for="guardianName">Parent Name</label>
                                            <input type="text" value="" id="guardianName" class="form-ctrl"
                                                [(ngModel)]="newEnqData.parent_name" name="guardianName" maxlength="50"
                                                #guardianName="ngModel" style="border-radius: 4px;width: 20rem;" />
                                            <div *ngIf="guardianName.invalid && (guardianName.dirty || guardianName.touched)"
                                                class="alert invalid-alert">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Phone -->
                                        <div class="field-wrapper">
                                            <label for="guardianContact">Parent Contact</label><br>
                                            <span class="countryCallingCode">
                                                <select id="country_id" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.country_id" name="country_id"
                                                    [disabled]="countryDetails.length<=1"
                                                    (change)="onChangeObj($event.target.value)"
                                                    style="height: 29px;padding: 0">
                                                    <option value=""></option>
                                                    <option [value]="data.id" selected
                                                        *ngFor='let data of countryDetails'>
                                                        {{data.country_code}} +{{data.country_calling_code}}
                                                    </option>
                                                </select>
                                            </span>
                                            <input type="text" value="" id="guardianContact" class="form-ctrl"
                                                [(ngModel)]="newEnqData.parent_phone" name="guardianContact"
                                                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
                                                style="border-radius: 4px;width: 15.5rem;" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="guardianEmail">Parent Email ID</label>
                                            <input type="text" value="" id="guardianEmail" class="form-ctrl"
                                                [(ngModel)]="newEnqData.parent_email" name="guardianEmail"
                                                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z]+\.[a-zA-Z.]{2,5}$"
                                                #guardianEmail="ngModel" style="border-radius: 4px;width: 20rem;" />

                                            <div *ngIf="guardianEmail.invalid && (guardianEmail.dirty || guardianEmail.touched)"
                                                class="alert invalid-alert">
                                                <div class="text-danger" *ngIf="guardianEmail.errors.pattern">
                                                    Enter email in format eg. someone@xyz.com
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="enquirerLink">Parent profession</label>
                                            <select id="parent_profession" class="form-ctrl"
                                                [(ngModel)]="newEnqData.parent_profession" name="parent_profession"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let data of masterDataList.PROFESSION"
                                                    [value]="data.data_key">
                                                    {{data.data_value}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="guardianEmail">Parent Aadhar No.</label>
                                            <input type="text" value="" id="parent_adhar_no" class="form-ctrl" maxlength="12"
                                                [(ngModel)]="newEnqData.parent_adhar_no" name="parent_adhar_no"
                                                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
                                                #parent_adhar_no="ngModel" style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="guardian_name">Guardian Name</label>
                                            <input type="text" value="" id="guardian_name" class="form-ctrl"
                                                [(ngModel)]="newEnqData.guardian_name" name="guardian_name"
                                                #guardian_name="ngModel" style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Phone -->
                                        <div class="field-wrapper">
                                            <label for="guardian_phone">Guardian Contact</label><br>
                                            <span class="countryCallingCode">
                                                <select id="country_id" class="form-ctrl"
                                                    [(ngModel)]="newEnqData.country_id" name="country_id"
                                                    [disabled]="countryDetails.length<=1"
                                                    (change)="onChangeObj($event.target.value)"
                                                    style="height: 29px;padding: 0">
                                                    <option value=""></option>
                                                    <option [value]="data.id" selected
                                                        *ngFor='let data of countryDetails'>
                                                        {{data.country_code}} +{{data.country_calling_code}}
                                                    </option>
                                                </select>
                                            </span>
                                            <input type="text" value="" id="guardian_phone" class="form-ctrl"
                                                [(ngModel)]="newEnqData.guardian_phone" name="guardian_phone"
                                                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
                                                style="border-radius: 4px;width: 15.5rem;" />
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="guardian_email">Guardian Email ID</label>
                                            <input type="text" value="" id="guardian_email" class="form-ctrl"
                                                [(ngModel)]="newEnqData.guardian_email" name="guardian_email"
                                                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z]+\.[a-zA-Z.]{2,5}$"
                                                #guardian_email="ngModel" style="border-radius: 4px;width: 20rem;" />
                                                <div *ngIf="guardian_email.invalid && (guardian_email.dirty || guardianEmail.touched)"
                                                class="alert invalid-alert">
                                                <div class="text-danger" *ngIf="guardian_email.errors.pattern">
                                                    Enter email in format eg. someone@xyz.com
                                                </div>
                                            </div>

                                            </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Link -->
                                        <div class="field-wrapper">
                                            <label for="enquirerLink">Link Details</label>
                                            <input type="text" value="" id="enquirerLink" class="form-ctrl"
                                                [(ngModel)]="newEnqData.link" name="enquirerLink"
                                                style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- Fee Commited -->
                                        <div class="field-wrapper">
                                            <label for="feeCommitted">Fees Committed Details</label>
                                            <input type="text" value="" id="feeCommitted" class="form-ctrl"
                                                [(ngModel)]="newEnqData.fee_committed" name="feeCommitted"
                                                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
                                                #feeCommitted="ngModel" style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>
                                    <!-- Discount -->
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="discount">Discount Offered Details</label>
                                            <input type="text" value="" id="discount" class="form-ctrl"
                                                [(ngModel)]="newEnqData.discount_offered" name="discount"
                                                #discount="ngModel" style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </li>
                        <!-- Academic Form 2-->
                        <li class="data-filled" id="academicDetails" style="padding-bottom: 60px;">
                            <div class="accordian-heading">
                                <h4>
                                    <span class="circle-accor">2</span> {{schoolModel?'Other Details':'Academics
                                    Details'}}
                                    <span class="close-accor" id="closeAcademic" (click)="toggleForm($event)">-</span>
                                    <span class="open-accor" id="openAcademic" (click)="toggleForm($event)">+</span>
                                </h4>
                            </div>
                            <div class="accordian-content middle-left-auto">
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- school -->
                                        <div class="field-wrapper">
                                            <label for="institutionName">{{schoolModel ? 'School' : 'Institution'}} Name</label>
                                            <select id="institutionName" class="form-ctrl"
                                                [(ngModel)]="newEnqData.school_id" name="institutename"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let institute of school" [value]="institute.school_id">
                                                    {{institute.school_name}}
                                                </option>
                                            </select>
                                            <a (click)="openAddInstitute()" class="create-institution"
                                                style="cursor: pointer;margin-right: -20%;" id="openinstAnchor4">+</a>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                    </div>
                                </div>
                                <div class="row" *ngIf="!schoolModel">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- standard Course-->
                                        <div *ngIf="!isProfessional" class="field-wrapper">
                                            <label for="editStandard">Standard</label>
                                            <select id="editStandard" class="form-ctrl" [(ngModel)]="course_standard_id"
                                                (ngModelChange)="fetchSubject($event)" name="editStandard"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let std of enqStd" [value]="std.standard_id">
                                                    {{std.standard_name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- masterCourse course -->
                                        <div *ngIf="!isProfessional" class="field-wrapper">
                                            <!-- changes by Nalini - to handle school model conditions -->
                                            <label for="editMc">{{schoolModel ? 'Standard' : 'Master Course'}}</label>
                                            <select id="editMc" class="form-ctrl" name="editMc"
                                                [(ngModel)]="course_mastercourse_id"
                                                (ngModelChange)="courseMasterChange($event)"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let master of masterCourseData"
                                                    [value]="master.master_course">
                                                    {{master.master_course}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="educational_group">Group</label>
                                            <input type="text" value="" id="educational_group" class="form-ctrl"
                                                [(ngModel)]="newEnqData.educational_group" name="educational_group"
                                                #educational_group="ngModel" style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <div class="field-wrapper">
                                            <label for="extra_curricular_activities">Extra Curricular Activities</label>
                                            <input type="text" value="" id="extra_curricular_activities"
                                                class="form-ctrl" [(ngModel)]="newEnqData.extra_curricular_activities"
                                                name="extra_curricular_activities"
                                                #extra_curricular_activities="ngModel"
                                                style="border-radius: 4px;width: 20rem;" />
                                        </div>
                                    </div>

                                </div>

                                <div class="row" *ngIf='!schoolModel'>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- subject Course -->
                                        <div *ngIf="!isProfessional" class="field-wrapper">
                                            <label for="forSubject">Subject</label>
                                            <select multiple id="forSubject" class="form-ctrl form-ctrl-multiple"
                                                [(ngModel)]="selectedSubjectIds" name="subject"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let subject of enqSub" [value]="subject.subject_id">
                                                    {{subject.subject_name}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- course course-->
                                        <div *ngIf="!isProfessional" class="field-wrapper">
                                            <label for="editCC">Course</label>
                                            <select id="editCC" class="form-ctrl form-ctrl-multiple"
                                                [(ngModel)]="selectedCourseIds" name="editCC" multiple
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let cc of course_course" [value]="cc.course_id">
                                                    {{cc.course_name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- master Professional -->
                                        <div *ngIf="isProfessional" class="field-wrapper">
                                            <label for="editStandard">Master Course</label>
                                            <select id="editStandard" class="form-ctrl"
                                                [(ngModel)]="newEnqData.standard_id"
                                                (ngModelChange)="fetchSubject($event)" name="editStandard"
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let std of enqStd" [value]="std.standard_id">
                                                    {{std.standard_name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="c-lg-6 c-md-6 c-sm-6">
                                        <!-- course Professional -->
                                        <div *ngIf="isProfessional" class="field-wrapper">
                                            <label for="forSubject">Course</label>
                                            <select id="forSubject" class="form-ctrl form-ctrl-multiple"
                                                [(ngModel)]="newEnqData.subjectIdArray" name="subject" multiple
                                                style="border-radius: 4px;width: 20rem;">
                                                <option value="-1"></option>
                                                <option *ngFor="let subject of enqSub" [value]="subject.subject_id">
                                                    {{subject.subject_name}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <!-- custom -->
                                <ng-template [ngIf]="true" *ngFor="let component of customComponents; let i= index;">
                                    <div class="row" *ngIf="checkCustomeComponentElement(i)">
                                        <ng-template [ngIf]="true"
                                            *ngFor="let component of customComponents |slice:i:i+3">
                                            <div class="c-lg-6 c-md-6 c-sm-6" *ngIf="component.type == 1" input-def>
                                                <div class="field-wrapper"
                                                    [ngClass]="{'has-value': component.value != ''}">
                                                    <label *ngIf="component.is_required == 'Y'"
                                                        for="{{component.id}}">{{component.label}}<span
                                                            class="text-danger">*</span></label>
                                                    <label *ngIf="component.is_required == 'N'"
                                                        for="{{component.id}}">{{component.label}}
                                                    </label>
                                                    <input type="text" value="" id="{{component.id}}"
                                                        [(ngModel)]="component.value" class="form-ctrl"
                                                        style="border-radius: 4px;width: 20rem;"
                                                        name="{{component.label}}" />
                                                </div>
                                            </div>

                                            <div class="c-lg-6 c-md-6 c-sm-6" *ngIf="component.type == 2" input-def>
                                                <br>
                                                <div class="field-checkbox-wrapper">
                                                    <input class="form-checkbox" id="{{component.id}}" type="checkbox"
                                                        [(ngModel)]="component.value"
                                                        style="border-radius: 4px;width: 20rem;"
                                                        name="{{component.label}}" value="">
                                                    <label *ngIf="component.is_required == 'Y'"
                                                        for="{{component.id}}">{{component.label}}<span
                                                            class="text-danger">*</span></label>
                                                    <label style="margin-top: -7px;" *ngIf="component.is_required == 'N'"
                                                        for="{{component.id}}">{{component.label}}
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="c-lg-6 c-md-6 c-sm-6" *ngIf="component.type == 3" input-def>
                                                <div class="field-wrapper"
                                                    [ngClass]="{'has-value': component.value != ''}">
                                                    <label *ngIf="component.is_required == 'Y'"
                                                        for="{{component.id}}">{{component.label}}<span
                                                            class="text-danger">*</span></label>
                                                    <label *ngIf="component.is_required == 'N'"
                                                        for="{{component.id}}">{{component.label}}
                                                    </label>
                                                    <select id="{{component.id}}" class="form-ctrl"
                                                        [(ngModel)]="component.value"
                                                        style="border-radius: 4px;width: 20rem;"
                                                        name="{{component.label}}">
                                                        <option value=""></option>
                                                        <option *ngFor="let opt of component.prefilled_data"
                                                            value="{{opt.data}}">
                                                            {{opt.data}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="c-lg-6 c-md-6 c-sm-6" *ngIf="component.type == 4 " input-def>
                                                <div id="{{component.id}}wrapper" class="field-wrapper"
                                                    (click)="multiselectVisible($event.target.id)">
                                                    <label *ngIf="component.is_required == 'Y'"
                                                        for="{{component.id}}">{{component.label}}<span
                                                            class="text-danger">*</span></label>
                                                    <label *ngIf="component.is_required == 'N'"
                                                        for="{{component.id}}">{{component.label}}
                                                    </label>
                                                    <input id="{{component.id}}" type="text"
                                                        [ngModel]="component.selectedString"
                                                        style="border-radius: 4px;width: 20rem;"
                                                        name="{{component.label}}" class="form-ctrl" readonly="true" />
                                                </div>
                                                <div id="{{component.id}}multi" class="hide multiselect-wrapper"
                                                    (mouseleave)="multiselectVisible(component.id)">
                                                    <div class="multiselect-wrapper-inner">
                                                        <ul class="">
                                                            <li *ngFor="let opt of component.prefilled_data">
                                                                <div class="field-checkbox-wrapper">
                                                                    <input type="checkbox" value="" name="{{opt.data}}"
                                                                        [(ngModel)]="opt.checked"
                                                                        style="border-radius: 4px;width: 20rem;"
                                                                        (ngModelChange)="updateMultiSelect(opt, component.id)"
                                                                        class="form-checkbox" id="{{opt.data}}">
                                                                    <label for="opt.data">{{opt.data}}</label>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="c-lg-6 c-md-6 c-sm-6" *ngIf="component.type == 5 " input-def>
                                                <div class="field-wrapper datePickerBox1"
                                                    [ngClass]="{'has-value': component.value != 'Invalid date'}">
                                                    <label *ngIf="component.is_required == 'Y'"
                                                        for="{{component.id}}">{{component.label}}<span
                                                            class="text-danger">*</span></label>
                                                    <label *ngIf="component.is_required == 'N'"
                                                        for="{{component.id}}">{{component.label}}
                                                    </label>
                                                    <input type="text" value="" readonly="true" id="{{component.id}}"
                                                        [(ngModel)]="component.value"
                                                        style="border-radius: 4px;width: 20rem;"
                                                        class="form-ctrl bsDatepicker" name="{{component.label}}"
                                                        bsDatepicker />
                                                </div>
                                            </div>
                                        </ng-template>
                                    </div>
                                </ng-template>
                            </div>
                            <div class="row">
                                <div class="c-lg-6 c-md-6 c-sm-6">
                                </div>
                                <div class="c-lg-6 c-md-6 c-sm-6">
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </aside>
            </section>
            <!-- Footer for Accordian Menu -->
            <section class="middle-bottom clearFix">
                <div class="pull-left" style="margin-left: 25px;">
                    <div class="clear-detail" style="padding: 10px 10px;">
                        <a (click)="clearFormData()" style="color: red;font-weight: 600;cursor:pointer"
                            id="clearFormAnch7">Clear
                            Details</a>
                    </div>
                </div>
                <aside class="pull-right">
                    <div style="display: inline-block;" class="field-checkbox-wrapper">

                        <input type="checkbox" value="" [(ngModel)]="addNextCheck" class="form-checkbox"
                            id="addNextEnquiry" name="addNextEnquiry">
                        <label for="addNextEnquiry">Add Next Enquiry</label>
                    </div>
                    <input style="display: inline-block;" type="button" value="Cancel" class="btn cancle"
                        (click)="cancelForm()" id="btnCancel2">
                    <input *ngIf="newEnqData.status != 12 && newEnqData.status != 1" style="display: inline-block;"
                        type="button" value="Add & Admit Enquiry" class="btn fullBlue" (click)="submitRegisterForm()"
                        id="btnAddUpdate">
                    <input style="display: inline-block;" type="button" value="Add Enquiry" class="btn fullBlue"
                        (click)="submitForm(myForm)" id="btnSubmitForm">
                </aside>
            </section>
        </aside>
        <!-- Right side form for Office purrpose only -->
        <aside class="pull-right middle-right" id="rightSideBar">
            <!--Last enquiry information-->
            <section class="shadow-box clearfix">
                <div class="last-added-info">
                    <ul>
                        <li>
                            <span class="last-user-name">
                                <strong>Last Added Name -</strong>
                                <dfn>{{getLastAddName()}}</dfn>
                            </span>
                            <span class="view-details">
                                <a style="cursor:pointer" (click)="navigateToEdit()" id="navigateAnch10">View
                                    details</a>
                            </span>
                        </li>
                        <li>
                            <span class="last-Enquiry-no">
                                <strong>Enquiry No. -</strong>
                                <dfn>{{getLastEnqNum()}}</dfn>
                            </span>
                            <span class="enquiry-time">{{getLastUpdateTime()}}</span>
                        </li>
                    </ul>
                </div>
            </section>
            <!-- Enquiry Details official use-->
            <section class="enquiry-detail common-right-section">
                <h4>
                    <strong>Enquiry Details</strong> (Official Use)
                </h4>
                <div class="box-shadow-lite">
                    <div class="row">
                        <div class="c-lg-6 c-md-6 c-sm-6">
                            <div class="field-wrapper datePickerBox"
                                [ngClass]="{'has-value': newEnqData.enquiry_date != 'Invalid date'}">
                                <label for="">Enquiry Date</label>
                                <input type="text" value="" id="idNewEnqData" class="form-ctrl bsDatepicker"
                                    [(ngModel)]="newEnqData.enquiry_date" name="enqDate"
                                    value="{{ newEnqData.enquiry_date | date:'yyyy-MM-dd' }}" readonly="true"
                                    bsDatepicker style="width: 9rem;border-radius: 4px;">
                            </div>

                        </div>
                        <div class="c-lg-6 c-md-6 c-sm-6">
                            <div class="field-wrapper" [ngClass]="{'has-value': newEnqData.status != '-1'}">
                                <label for="eStatus">Enquiry Status</label>
                                <select id="eStatus" class="form-ctrl" [(ngModel)]="newEnqData.status" name="status"
                                    style="width: 8rem;border-radius: 4px;" disabled>
                                    <option value="-1"></option>
                                    <option *ngFor="let status of enqstatus" [value]="status.data_key"
                                        [attr.selected]="status.data_value == 'Open' ? '' : null"
                                        [hidden]="status.data_key == 12 ? true : false">{{status.data_value}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="c-lg-6 c-md-6 c-sm-6">
                            <div class="field-wrapper" [ngClass]="{'has-value': newEnqData.priority != '-1'}">
                                <label for="priority">Enquiry Priority</label>
                                <select id="priority" class="form-ctrl" [(ngModel)]="newEnqData.priority"
                                    style="width: 9rem;border-radius: 4px;" name="priority">
                                    <option value="-1"></option>
                                    <option *ngFor="let priority of enqPriority" [value]="priority.data_key"
                                        [attr.selected]="priority.data_value == 'cold_call'? '' : null">
                                        {{priority.data_value}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="c-lg-6 c-md-6 c-sm-6">
                            <div class="field-wrapper">
                                <label for="followUpType">Follow Up Type <span class="text-danger">*</span>
                                </label>
                                <select id="followUpType" class="form-ctrl" [(ngModel)]="newEnqData.follow_type"
                                    name="followtype" style="width: 8rem;border-radius: 4px;">
                                    <option value="-1"></option>
                                    <option *ngFor="let followUp of enqFollowType" [value]="followUp.data_key">
                                        {{followUp.data_value}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="c-lg-6 c-md-6 c-sm-6">
                            <div class="field-wrapper datePickerBox">
                                <label for="followUpDate">Follow Up Date</label>
                                <input type="text" value="" id="followUpDate" class="form-ctrl bsDatepicker"
                                    name="followUpDate" [(ngModel)]="newEnqData.followUpDate" readonly="true"
                                    bsDatepicker style="width: 9rem;border-radius: 4px;"
                                    (ngModelChange)="notifyMeCheckBoxChangesDetect()">
                                <span class="date-clear" name="followupdate" (click)="newEnqData.followUpDate = '';"
                                    style="left: 7rem;top: 56px;">clear</span>
                            </div>
                        </div>
                        <div class="c-lg-3 c-md-3 c-sm-3">
                            <div class="field-wrapper" id="hourpar">
                                <label for="hour">Hour</label>
                                <select id="hour" class="form-ctrl ng-valid ng-touched ng-dirty"
                                    [(ngModel)]="followUpTime" name="hour" style="width: 71px;border-radius: 4px;"
                                    (ngModelChange)="timeChanges($event)">
                                    <option *ngFor="let time of times" [value]="time">
                                        {{time}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="c-lg-3 c-md-3 c-sm-3" style="margin-left: -6px;">
                            <div class="field-wrapper" id="minutepar">
                                <label for="minute">Minute</label>
                                <select id="minute" class="form-ctrl ng-valid ng-touched ng-dirty" [(ngModel)]="minute"
                                    name="minute" style="width: 50px;border-radius: 4px;"
                                    (ngModelChange)="notifyMeCheckBoxChangesDetect()">
                                    <option *ngFor="let minute of minArr" [value]="minute">
                                        {{minute}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="c-lg-6 c-md-6 c-sm-6">
                            <div class="change-wrapper">
                                <div class="field-checkbox-wrapper"
                                    *ngIf="followUpTime != '' && minute != '' && newEnqData.followUpDate.length != 0">
                                    <input type="checkbox" class="form-checkbox" id="notify"
                                        [(ngModel)]="newEnqData.is_follow_up_time_notification" name="person">
                                    <label for="notify">Notify Me</label>
                                </div>
                            </div>
                        </div>
                        <div class="c-lg-6 c-md-6 c-sm-6">
                        </div>
                    </div>
                    <div class="row">
                        <div class="c-lg-6 c-md-6 c-sm-6">
                            <div class="field-wrapper datePickerBox" *ngIf="newEnqData.follow_type == 'Walkin'">
                                <label for="WalkinDate">Walkin Date<span class="text-danger">*</span></label>
                                <input type="text" value="" id="WalkinDate" class="form-ctrl bsDatepicker"
                                    name="WalkinDate" [(ngModel)]="newEnqData.walkin_followUpDate" readonly="true"
                                    bsDatepicker style="width: 9rem;border-radius: 4px;">
                                <span class="date-clear" name="walkin_followUpDate"
                                    (click)="newEnqData.walkin_followUpDate = ''"
                                    style="left: 7rem;top: 56px;">clear</span>
                            </div>
                        </div>
                        <div class="c-lg-3 c-md-3 c-sm-3" *ngIf="newEnqData.follow_type == 'Walkin'">
                            <div class="field-wrapper" id="hourpar" style="padding-right: 10px;">
                                <label for="hour">Hour<span class="text-danger">*</span></label>
                                <select id="hour" class="form-ctrl ng-valid ng-touched ng-dirty"
                                    [(ngModel)]="walkinTime.hour" name="hour" style="width: 71px;border-radius: 4px;">
                                    <option *ngFor="let time of times" [value]="time">
                                        {{time}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="c-lg-3 c-md-3 c-sm-3" *ngIf="newEnqData.follow_type == 'Walkin'">
                            <div class="field-wrapper" id="minutepar" style="padding-right: 10px;">
                                <label for="minute">Minute<span class="text-danger">*</span></label>
                                <select id="minute" class="form-ctrl ng-valid ng-touched ng-dirty"
                                    [(ngModel)]="walkinTime.minute" name="minute"
                                    style="width: 50px;border-radius: 4px;">
                                    <option *ngFor="let minute of minArr" [value]="minute">
                                        {{minute}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="field-wrapper" [ngClass]="{'has-value': newEnqData.referred_by != '-1'}"
                        style="margin-top: 4%;">
                        <label for="refferedBy">Referred By</label>
                        <select id="refferedBy" class="form-ctrl" [(ngModel)]="newEnqData.referred_by" name="reffered"
                            style="border-radius: 4px;">
                            <option value="-1"></option>
                            <option *ngFor="let refer of referList" [value]="refer.id">{{refer.name}}</option>
                        </select>

                        <span style="right: 5px;" class="sourceI iconPlus" (click)="showAddReferPops()">+</span>
                    </div>

                    <div class="field-wrapper"
                        *ngIf="(isMainBranch == 'Y' || subBranchSelected == true) && isEnquiryAdmin"
                        [ngClass]="{'has-value': newEnqData.source_instituteId != '-1'}">
                        <label for="selectBranch">Branch</label>
                        <select id="selectBranch" class="form-ctrl" [(ngModel)]="newEnqData.source_instituteId"
                            name="selectBranch" (ngModelChange)="branchUpdated($event)" style="border-radius: 4px;">
                            <option *ngFor="let data of branchesList" [value]="data.institute_id">
                                {{data.institute_name}}</option>
                        </select>
                    </div>

                    <div class="field-wrapper" *ngIf="isEnquiryAdmin"
                        [ngClass]="{'has-value': newEnqData.assigned_to != '-1'}">
                        <label for="assignedTo">Assigned To</label>
                        <select id="assignedTo" class="form-ctrl" [(ngModel)]="newEnqData.assigned_to"
                            name="assigned_to" style="border-radius: 4px;">
                            <option value="-1"></option>
                            <option *ngFor="let assign of enqAssignTo" [value]="assign.userid">{{assign.name}}</option>
                        </select>

                    </div>
                    <div class="field-wrapper" [ngClass]="{'has-value': newEnqData.enquiry != ''}">
                        <label for="Remarks">Comment</label>
                        <textarea type="text" value="" id="Remarks" class="form-ctrl" [(ngModel)]="newEnqData.enquiry"
                            name="remarks" style="border-radius: 4px;height: 14vh;"></textarea>

                    </div>
                </div>
            </section>
        </aside>
    </form>
</section>


<!-- Confirmation PopUp -->
<section id="popup" class="popupWrapper fadeIn" *ngIf="confimationPop">
    <div class="popup pos-abs" style="top: 13%;">
        <div class="popup-wrapper pos-rel">
            <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closePopUp()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
                    <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                        <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                            <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798"
                                transform="translate(992.81 305.77) rotate(45)" />
                            <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798"
                                transform="translate(978.81 305.77) rotate(45)" />
                        </g>
                        <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                            height="16" transform="translate(1012 297)" />
                    </g>
                </svg>
            </span>
            <div class="popup-content">
                <h2>Confirmation</h2>
                <div class="confirmation-popup-content">
                    <div class="">
                        <p>Thank you for submitting New Enquiry.</p>
                        <p>If you like to make any changes to the last submitted enquiry, kindly click
                            <a style="cursor:pointer" (click)="navigateToEdit()" id="navigateanch11">Edit</a>
                        </p>
                    </div>
                    <div class="">
                        <p>You have submitted
                            <strong>{{enquiryConfirm?.otherDetails?.total_new_enquiries}} New Enquiry </strong> as on
                            <strong>{{todayDate | date }}</strong>
                        </p>
                        <p>If you like to view complete Enquiry List now, click
                            <a style="cursor:pointer" routerLink="/view/leads/enquiry" id="enquiryAnch6">More Info</a>
                        </p>
                    </div>
                    <div>
                        <div class="pull-right add-form-btns">
                            <a style="cursor:pointer" (click)="reloadEnquiryForm()" id="reloadEnquiryAnch12">Add new
                                enquiry</a>
                            <a style="cursor:pointer" *ngIf="permission != true && BulkEnqHide"
                                routerLink="/view/leads/enquiry/upload" id="uploadAnch13">Add Bulk enquiry</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<app-add-city-area *ngIf=addArea (closePopup)="toggleAddArea($event)" [selectedData]="selectedData">
</app-add-city-area>

<!-- Add New institute -->
<proctur-popup [hidden]="!isInstitutePop">

    <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeInstituteAdder()" close-button>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
            <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                    <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798"
                        transform="translate(992.81 305.77) rotate(45)" />
                    <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798"
                        transform="translate(978.81 305.77) rotate(45)" />
                </g>
                <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                    height="16" transform="translate(1012 297)" />
            </g>
        </svg>
    </span>

    <h2 popup-header>Institute Editor</h2>

    <div class="institute-editor" popup-content>

        <div class="row clearFix add-edit">
            <a class="expend-box" (click)="toggleInstituteAdd()" id="addInstAnch14">
                <i id="add-institute-icon">-</i>
                <span>Create New Institute</span>
            </a>
        </div>

        <section class="row clearFix input-section" *ngIf="isNewInstitute">

            <div class="c-lg-4 c-md-4 c-sm-4 c-xs-4">
                <div class="field-wrapper">
                    <label for="instituteName">Institute Name</label>
                    <input type="text" value="" id="instituteName" class="form-ctrl"
                        [(ngModel)]="createInstitute.instituteName" name="instituteName" />
                </div>
            </div>

            <div class="c-lg-4 c-md-4 c-sm-4 c-xs-4 btn-grp">
                <input type="button" value="Cancel" class="btn" (click)="closeAddInstitute()" id="cancel3">
                <input type="button" value="Add" class="fullBlue btn" (click)="addInstituteData()" id="add3">
            </div>

        </section>

        <div class="row">
            <div class="table-responsive institute-table">
                <table>
                    <thead>
                        <tr>
                            <th>Institute Id</th>
                            <th>Institute Name</th>
                            <th> </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let sch of instituteList">

                            <td *ngIf="!sch.edit">
                                <div class="inst-id">
                                    {{sch.school_id}}
                                </div>
                            </td>

                            <td *ngIf="sch.edit">
                                <div class="inst-id">
                                    {{sch.school_id}}
                                </div>
                            </td>


                            <td *ngIf="!sch.edit">
                                <div class="inst-name">
                                    {{sch.school_name}}
                                </div>
                            </td>

                            <td *ngIf="sch.edit">
                                <div class="field-wrapper">
                                    <input type="text" [(ngModel)]="sch.school_name" class="form-ctrl"
                                        name="instituteName" id="schoolName" />
                                </div>
                            </td>

                            <td class="edit-view-btn" *ngIf="!sch.edit">
                                <div class="">
                                    <a (click)="editInstitute(sch.school_id)" style="cursor:pointer" id="anchEdit">
                                        <i class="edit-icon cursor-icon" aria-hidden="true" id="iconEdit"></i>Edit
                                    </a>
                                </div>
                                <div class="">
                                    <a (click)="deleteInstitute(sch.school_id)" style="cursor:pointer" id="deletedAnch">
                                        <i class="view-icon cursor-icon" aria-hidden="true" id="iconView"></i>Delete
                                    </a>
                                </div>
                            </td>

                            <td class="edit-view-btn" *ngIf="sch.edit">
                                <div class="">
                                    <a (click)="cancelEditInstitute(sch.school_id)" style="cursor:pointer"
                                        id="cancxelAnch">
                                        <i class="edit-icon" aria-hidden="true" class="icon2"></i>Cancel
                                    </a>
                                </div>
                                <div class="">
                                    <a (click)="updateInstitute(sch.school_id)" style="cursor:pointer" id="updateAnch">
                                        <i class="view-icon update-icon" aria-hidden="true" id="icon3"></i>Update
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</proctur-popup>



<!-- Add New Source -->
<proctur-popup [hidden]="!isSourcePop">
    <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="hideAddSourcePops()" close-button>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
            <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                    <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798"
                        transform="translate(992.81 305.77) rotate(45)" />
                    <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798"
                        transform="translate(978.81 305.77) rotate(45)" />
                </g>
                <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                    height="16" transform="translate(1012 297)" />
            </g>
        </svg>
    </span>
    <h2 popup-header> Source Editor</h2>

    <div class="institute-editor" popup-content>

        <div class="row clearFix add-edit">
            <a class="expend-box" (click)="toggleSourceAdd()" id="icon4">
                <i id="add-source-icon">-</i>
                <span>Create New Source</span>
            </a>
        </div>

        <section class="row clearFix input-section" *ngIf="isNewSource">
            <div class="c-lg-4 c-md-4 c-sm-4 c-xs-4">
                <div class="field-wrapper">
                    <label for="sourceName">Source Name</label>
                    <input type="text" value="" id="sourceName" class="form-ctrl" [(ngModel)]="createSource.name"
                        name="sourceName" />
                </div>
            </div>
            <div class="c-lg-4 c-md-4 c-sm-4 c-xs-4 btn-grp">
                <input type="button" value="Cancel" class="btn" (click)="closeAddSource()" id="btnCancel4">
                <input type="button" value="Add" class="fullBlue btn" (click)="addSourceData()" id="btnAdd4">
            </div>
        </section>

        <div class="row">
            <div class="table-responsive institute-table">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 70%;">Source</th>
                            <th>Action </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let sch of sourceList">
                            <td *ngIf="!sch.edit" style="width: 70%;">
                                <div class="inst-name">
                                    {{sch.name}}
                                </div>
                            </td>

                            <td *ngIf="sch.edit" style="width: 70%;">
                                <div class="field-wrapper ">
                                    <input type="text" [(ngModel)]="sch.new_source_name" class="form-ctrl"
                                        name="sourceName" id="schName" />
                                </div>
                            </td>

                            <td class="edit-view-btn" *ngIf="!sch.edit">
                                <div class="" style="width: 20%;">
                                    <a (click)="editSource(sch.id)" style="cursor:pointer" id="editAnchor">
                                        <i class="cursor-icon fa fa-edit" title="Edit" aria-hidden="true"></i>
                                    </a>
                                </div>
                                <div class="">
                                    <a (click)="deleteSource(sch.id)" style="cursor:pointer;color: red;"
                                        id="deleteAnchor">
                                        <i class="view-icon cursor-icon fa fa-trash" title="Delete" aria-hidden="true"
                                            id="deleteIcon3"></i>
                                    </a>
                                </div>
                            </td>

                            <td class="edit-view-btn" *ngIf="sch.edit">
                                <div class="">
                                    <a (click)="cancelEditSource(sch.id)" style="cursor:pointer" id="cancelEditAnch4">
                                        <i aria-hidden="true" id="icon5"></i>Cancel
                                    </a>
                                </div>
                                <div class="">
                                    <a (click)="updateSource(sch.id)" style="cursor:pointer" id="anch5">
                                        <i class="view-icon update-icon" aria-hidden="true"></i>Update
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</proctur-popup>
<!-- Add New Reference -->
<proctur-popup [hidden]="!isReferPop">

    <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="hideAddReferPops()" close-button>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
            <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                    <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798"
                        transform="translate(992.81 305.77) rotate(45)" />
                    <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798"
                        transform="translate(978.81 305.77) rotate(45)" />
                </g>
                <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                    height="16" transform="translate(1012 297)" />
            </g>
        </svg>
    </span>
    <h2 popup-header>Add Referrer </h2>

    <div class="institute-editor" popup-content>

        <div class="row clearFix add-edit">
            <a class="expend-box" (click)="toggleReferAdd()" id="toggleAnch">
                <i id="add-refer-icon">-</i>
                <span>Create New Reference</span>
            </a>
        </div>

        <section class="row clearFix input-section" *ngIf="isNewRefer">
            <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
                <div class="field-wrapper">
                    <label for="referName">Referrer Name</label>
                    <input type="text" value="" id="referName" class="form-ctrl" [(ngModel)]="createReferer.name"
                        name="referName" />
                </div>
            </div>

            <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6 btn-grp">
                <input type="button" value="Cancel" class="btn" (click)="closeAddRefer()" id="btnCancel5">
                <input type="button" value="Add" class="fullBlue btn" (click)="addReferData()" id="btnAdd5">
            </div>
        </section>

        <div class="row">
            <div class="table-responsive institute-table">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 70%;">Referrer Name</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let sch of referList">
                            <td *ngIf="!sch.edit" style="width:70%">
                                <div class="inst-name">
                                    {{sch.name}}
                                </div>
                            </td>

                            <td *ngIf="sch.edit" style="width: 70%;">
                                <div class="field-wrapper ">
                                    <input type="text" [(ngModel)]="sch.new_referrer_name" class="form-ctrl"
                                        name="sourceName" id="sourceName" />
                                </div>
                            </td>

                            <td class="edit-view-btn" *ngIf="!sch.edit">
                                <div class="" style="width: 20%;">
                                    <a (click)="editRefer(sch.id)" style="cursor:pointer" id="editAnch5">
                                        <i class="cursor-icon fa fa-edit" title="Edit" aria-hidden="true"
                                            id="editIcon5"></i>
                                    </a>
                                </div>
                                <div class="">
                                    <a (click)="deleteRefer(sch.id, sch.name)" style="cursor:pointer;color: red;"
                                        id="deleteAnch5">
                                        <i class="view-icon cursor-icon fa fa-trash" title="Delete" aria-hidden="true"
                                            id="deleteIcon5"></i>
                                    </a>
                                </div>
                            </td>

                            <td class="edit-view-btn" *ngIf="sch.edit">
                                <div class="">
                                    <a (click)="cancelEditRefer(sch.id)" style="cursor:pointer" id="cancelAnch6">
                                        <i aria-hidden="true" id="cancelIcon6"></i>Cancel
                                    </a>
                                </div>
                                <div class="">
                                    <a (click)="updateRefer(sch.id)" style="cursor:pointer" id="updateAnch7">
                                        <i class="view-icon update-icon" aria-hidden="true" id="updateIcon7"></i>Update
                                    </a>
                                </div>
                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>

</proctur-popup>

<!-- Add New City Area -->
<proctur-popup *ngIf="addCityAreaPopUp.showPopUp">

    <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeCityAreaPopup()" close-button>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
            <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                    <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798"
                        transform="translate(992.81 305.77) rotate(45)" />
                    <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798"
                        transform="translate(978.81 305.77) rotate(45)" />
                </g>
                <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                    height="16" transform="translate(1012 297)" />
            </g>
        </svg>
    </span>

    <h2 popup-header>Add Area And City </h2>

    <div class="institute-editor" popup-content>

        <div class="row clearFix add-edit">
            <a class="expend-box" (click)="toggleCityAreaAdd()" id="toggleAnch">
                <i id="add-areaCity-icon">+</i>
                <span>Create New Area And City</span>
            </a>
        </div>

        <section class="row clearFix input-section" *ngIf="addCityAreaPopUp.addNew">
            <div class="c-lg-3 c-md-3 c-sm-3 c-xs-3">
                <div class="field-wrapper">
                    <label for="CityName">City<span class="text-danger">*</span></label>
                    <input type="text" value="" id="CityName" class="form-ctrl"
                        [(ngModel)]="addCityAreaPopUp.newCity.city" name="CityName" />
                </div>
            </div>

            <div class="c-lg-3 c-md-3 c-sm-3 c-xs-3">
                <div class="field-wrapper">
                    <label for="AreaName">Area</label>
                    <input type="text" value="" id="AreaName" class="form-ctrl"
                        [(ngModel)]="addCityAreaPopUp.newCity.area" name="AreaName" />
                </div>
            </div>

            <div class="c-lg-3 c-md-3 c-sm-3 c-xs-3 hide">
                <div class="field-wrapper">
                    <label for="selectBranchPop">Branch</label>
                    <select id="selectBranchPop" class="form-ctrl" [(ngModel)]="addCityAreaPopUp.newCity.branch"
                        name="selectBranchPop">
                        <option *ngFor="let data of branchesList" [value]="data.institute_id">{{data.institute_name}}
                        </option>
                    </select>
                </div>
            </div>

            <div class="c-lg-3 c-md-3 c-sm-3 c-xs-3 btn-grp">
                <input type="button" value="Add" class="fullBlue btn" (click)="addNewCityArea()" id="btnAdd5">
            </div>
        </section>

        <div class="row">
            <div class="table-responsive institute-table">
                <table>
                    <thead>
                        <tr>
                            <th>City</th>
                            <th>Area</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let sch of cityListDataSource">
                            <td>{{sch.city}}</td>
                            <td>{{sch.area}}</td>
                        </tr>

                        <tr *ngIf="cityListDataSource.length ==0">
                            <td colspan="2" style="text-align: center">
                                No City Area List Available
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

    </div>

</proctur-popup>