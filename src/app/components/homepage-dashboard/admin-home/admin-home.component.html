<!--
  Purpose: This is used for Homepage after user login to Proctur. This will be used by Institute Owners, Faculty and custom users.

  Version History
  13.8.2020 (Nishant Agarwal)- Label Changes done at multiple places. No logic change.

-->

<section class="mainHomePage" style="background: white;">

    <section class="activity-page">
        <section class="clearFix row">

            <div class="activity-left pull-left">
                <div class="act-top clearfix">

                    <h1 class="pull-left">Dashboard</h1>

                    <div class="pull-right act-right-sec">
                        <button class="btn hide add_send_noti"
                            [ngClass]="{hide : checkIfUserHadAccess(role_feature.DASHBOARD_MENU)}"
                            (click)="addSendNotification()" *ngIf="isProfessional">

                            <i class="fa fa-plus" aria-hidden="true"></i>
                            &nbsp;
                            Add/Send Notification
                        </button>

                        <button class="btn hide add_send_noti"
                        [ngClass]="{hide : checkIfUserHadAccess(role_feature.DASHBOARD_MENU)}"
                        (click)="sendNotifyPage()"  *ngIf="!isProfessional">

                        <i class="fa fa-plus" aria-hidden="true"></i>
                        &nbsp;
                        Send SMS/Email/Push
                    </button>

                    </div>
                </div>

                <div class="act-bottom clearfix">
                    <div class="grid-container">
                        <ul class="actb-wrapper grid" style="height: 1473px;">

                            <li class="enquiry-state item" style="width: 45%;"
                                [ngClass]="{'hide' : checkIfUserHadAccess(role_feature.DASHBOARD_LEAD_STATS) || (userType==3)}"
                                data-id="2">
                                <div class="item-content">
                                    <enquiry-widget></enquiry-widget>
                                </div>
                            </li>

                            <li class="fees-state item" style="width:41%"
                                [ngClass]="{'hide' : checkIfUserHadAccess(role_feature.DASHBOARD_FEE_STATS) || (userType==3)}"
                                data-id="3">
                                <div class="item-content">
                                    <fee-widget></fee-widget>
                                </div>
                            </li>

                            <li class="fees-state item" style="width:45%"
                                [ngClass]="{'hide' : checkIfUserHadAccess(role_feature.DASHBOARD_BIRTHDAY)}"
                                data-id="4">
                                <div class="item-content">
                                    <app-student-birthday></app-student-birthday>
                                </div>
                            </li>

                            <li class="schedule-state item"
                                [ngClass]="{'hide' : checkIfUserHadAccess(role_feature.DASHBOARD_SCHEDULE)}"
                                data-id="1">
                                <div class="item-content">
                                    <div>
                                        <div class="actb-top-header clearfix">
                                            <span class="heading">
                                                Schedule
                                            </span>
                                            <div class="schedSwitcher" *ngIf="!isProfessional">
                                                <ul>
                                                    <!-- changes by Nalini - to handle school model conditions -->
                                                    <li (click)="onChanged('course')" id="courseSelectButton"
                                                        [ngClass]="{active : !isSubjectView}">{{schoolModel ? 'Section' : 'Course'}}</li>
                                                    <li (click)="onChanged('subject')" *ngIf="!schoolModel || mark_attendance_subject_wise" id="subjectSelectButton"
                                                        [ngClass]="{active : isSubjectView}">Subject</li>
                                                </ul>
                                                <!-- <p-selectButton [options]="types" [(ngModel)]="selectedType" (onChange)="onChanged($event)"></p-selectButton> -->
                                            </div>                                            <ul class="sche-top-det">
                                                <li class="schedule-det" *ngIf="!isProfessional && isSubjectView">
                                                    <div>
                                                        <label>Total Classes :</label>
                                                        <span>{{classScheduleCount}}</span>
                                                        <input style="margin-left:10%;" type="text" value=""
                                                            id="schedWidDate" class="widgetDatepicker bsDatepicker"
                                                            name="schedWidDate" [(ngModel)]="schedDate"
                                                            (ngModelChange)="updateschedByDate($event)" readonly="true"
                                                            bsDatepicker />
                                                    </div>
                                                </li>
                                                <li class="schedule-det" *ngIf="!isProfessional && !isSubjectView">
                                                    <div>
                                                        <label>Total {{schoolModel ? 'Section' : 'Course'}} :</label>
                                                        <span> {{courseLevelSchedule.length}}</span>
                                                        <input style="margin-left:10%;" type="text" value=""
                                                            id="schedWidDate" class="widgetDatepicker bsDatepicker"
                                                            name="schedWidDate" [(ngModel)]="courseLevelSchedDate"
                                                            (ngModelChange)="updateCourseLevelSched($event)"
                                                            readonly="true" bsDatepicker />
                                                    </div>
                                                </li>
                                                <li class="schedule-det" *ngIf="isProfessional">
                                                    <div>
                                                        <label>Total Classes :</label>
                                                        <span>{{classScheduleCount}}</span>
                                                        <input style="margin-left:10%;" type="text" value=""
                                                            id="schedWidDate" class="widgetDatepicker bsDatepicker"
                                                            name="schedWidDate" [(ngModel)]="schedDate"
                                                            (ngModelChange)="updateschedByDate($event)" readonly="true"
                                                            bsDatepicker />
                                                    </div>
                                                </li>
                                                <li>
                                                    <button class="pull-right drag-button hide">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                            viewBox="0 0 24 24">
                                                            <path fill="#0C8AF6" fill-rule="nonzero"
                                                                d="M19.723 11.927a.487.487 0 0 0-.107-.16l-1.683-1.684a.493.493 0 1 0-.698.697l.842.842h-5.7v-5.7l.878.879a.492.492 0 1 0 .698-.698l-1.72-1.72a.493.493 0 0 0-.697-.001L9.85 6.066a.494.494 0 0 0 .697.698l.843-.842-.001 5.7H5.692l.84-.842a.493.493 0 0 0-.697-.697l-1.683 1.684a.49.49 0 0 0 0 .697l1.72 1.72a.49.49 0 0 0 .698 0 .493.493 0 0 0 0-.697l-.88-.879h5.7v5.7l-.842-.841a.494.494 0 0 0-.697.697l1.684 1.684a.49.49 0 0 0 .697 0l1.721-1.721a.493.493 0 1 0-.698-.698l-.879.88v-5.7h5.702l-.88.878a.494.494 0 0 0 .698.698l1.72-1.72.004-.005a.506.506 0 0 0 .141-.345.496.496 0 0 0-.038-.188z" />
                                                        </svg>
                                                    </button>
                                                    <button class="pull-right" (click)="openCalendar('schedWidDate')">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                            viewBox="0 0 24 24">
                                                            <g fill="#0084F6" fill-rule="nonzero">
                                                                <path
                                                                    d="M18.667 5.5H16.5v-1a.5.5 0 1 0-1 0v1h-3v-1a.5.5 0 1 0-1 0v1h-3v-1a.5.5 0 1 0-1 0v1H5.333C4.598 5.5 4 6.096 4 6.833v11.833C4 19.403 4.597 20 5.333 20h13.334c.736 0 1.333-.597 1.333-1.334V6.833c0-.737-.596-1.333-1.333-1.333zM19 18.666c0 .184-.15.334-.333.334H5.333A.334.334 0 0 1 5 18.666V6.833c0-.184.15-.333.333-.333H7.5v1a.5.5 0 1 0 1 0v-1h3v1a.5.5 0 1 0 1 0v-1h3v1a.5.5 0 1 0 1 0v-1h2.167c.183 0 .333.15.333.333v11.833z" />
                                                                <path
                                                                    d="M7.5 10h2v1.5h-2zM7.5 12.5h2V14h-2zM7.5 15h2v1.5h-2zM11 15h2v1.5h-2zM11 12.5h2V14h-2zM11 10h2v1.5h-2zM14.5 15h2v1.5h-2zM14.5 12.5h2V14h-2zM14.5 10h2v1.5h-2z" />
                                                            </g>
                                                        </svg>
                                                    </button>
                                                    <span class="enquiry-state-date pull-right"
                                                        *ngIf="!isProfessional && isSubjectView">
                                                        {{getSchedStartDate()| date: 'dd MMM yyyy'}}
                                                    </span>
                                                    <span class="enquiry-state-date pull-right"
                                                        *ngIf="!isProfessional && !isSubjectView">
                                                        {{getSchedDateForCourse()| date: 'dd MMM yyyy'}}
                                                    </span>
                                                    <span class="enquiry-state-date pull-right" *ngIf="isProfessional">
                                                        {{getSchedStartDate()| date: 'dd MMM yyyy'}}
                                                    </span>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="schedule-bottom">
                                            <ul class="subjectViewHead"
                                                *ngIf="!isProfessional && isSubjectView && !schoolModel">
                                                <li class="timings" style="width: 16%;">Timings</li>
                                                <!-- changes by Nalini - to handle school model conditions -->
                                                <li class="course-name" style="width: 21%;">
                                                    Course</li>
                                                <li class="subject">Subject</li>
                                                <li class="faculty-name">Teacher</li>
                                                <li class="topic-link">Linked Topic</li>
                                                <li class="action pull-right" style="text-align: center;">Action</li>
                                            </ul>
                                            <ul class="subjectViewHead"
                                                *ngIf="!isProfessional && isSubjectView && schoolModel">
                                                <li class="batch">Timings</li>
                                                <!-- changes by Nalini - to handle school model conditions -->
                                                <li class="course-name" style="width: 21%;">
                                                    Section</li>
                                                <li class="batch">Subject</li>
                                                <li class="batch">Teacher</li>
                                                <li class="action" style="text-align: center;">Action</li>
                                            </ul>
                                            <ul class="sche-head"
                                                *ngIf="!isProfessional && !isSubjectView && !schoolModel">
                                                <!-- changes by Nalini - to handle school model conditions -->
                                                <li class="batch">Master Course</li>
                                                <li class="cls-type batch">Courses</li>
                                                <li class="batch cls-type">Timings</li>
                                                <li class="batch">Type</li>
                                                <li class="action" style="text-align: center;">Action</li>
                                            </ul>
                                            <ul class="sche-head"
                                                *ngIf="schoolModel && !isProfessional && !isSubjectView">
                                                <!-- changes by Nalini - to handle school model conditions -->
                                                <li class="class_room">Standard</li>
                                                <li class="batch">Section</li>
                                                <li class="batch">Subject</li>
                                                <li class="batch">Exam Type</li>
                                                <li class="batch">Timings</li>
                                                <li class="class_exam_type">Type</li>
                                                <li class="action" style="text-align: center;">Action</li>
                                            </ul>
                                            <ul class="sche-head" *ngIf="isProfessional">
                                                <li class="timings">Timings</li>
                                                <li class="cls-type">Class Type</li>
                                                <li class="batch">Batch</li>
                                                <li class="class_room">Linked Topic</li>
                                                <li class="faculty">Teacher</li>
                                                <li class="action" style="text-align: center;">Action</li>
                                            </ul>
                                            <div class="schedule-scroller"
                                                *ngIf="!isProfessional && isSubjectView && !schoolModel">
                                                <div class="subjectViewContent"
                                                    *ngFor="let class of getClassListDetails();let i = index;">
                                                    <ul class="ct-ongoing" [class.active]="i == selectedRow"
                                                        (click)="userScheduleSelected(i, class)">
                                                        <li class="timings" style="width: 16%;">
                                                            <div *ngIf="!class.isExam">
                                                                {{class.start_time}} - {{class.end_time}}
                                                            </div>
                                                            <p>{{class.class_room_name}}</p>
                                                        </li>
                                                        <li class="course-name" style="width: 21%;">
                                                            <div title="{{class.course_name}}">
                                                                <span title="{{class.course_name}}">
                                                                    {{(class.course_name?.length > 25)?
                                                                    (class.course_name |
                                                                    slice:0:25)+'..':(class.course_name) }}
                                                                </span>
                                                            </div>
                                                        </li>
                                                        <!-- <li class="exam">
                              <div title="{{class.course_name}}">{{class.course_name}}</div>
                            </li> -->
                                                        <li class="subject">
                                                            <div title="{{class.subject_name}}">
                                                                {{(class.subject_name?.length > 15)? (class.subject_name
                                                                | slice:0:15)+'..':(class.subject_name) }}
                                                                <span *ngIf="class.is_optional_subject">(Optional)</span>
                                                            </div>
                                                        </li>
                                                        <li class="faculty-name">
                                                            <div title="{{class.teacher_name}}">
                                                                {{(class.teacher_name?.length > 10)? (class.teacher_name
                                                                | slice:0:10)+'..':(class.teacher_name) }}
                                                            </div>
                                                        </li>
                                                        <li class="topic-link">
                                                            <div title="{{class.topicName}}" *ngIf="class.topicName">
                                                                {{(class.topicName.length > 15) ? (class.topicName |
                                                                slice:0:15)+'..':(class.topicName) }}
                                                            </div>
                                                            <div *ngIf="!class.topicName">-</div>
                                                        </li>
                                                        <li class="action">
                                                            <div title="" class="pull-right">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    alt="Mark Attendance" title="Update Attendance"
                                                                    [ngClass]="markAttendaceHide(class.class_date, class.start_time)"
                                                                    *ngIf="class.is_attendance_marked =='Y' "
                                                                    (click)="initiateMarkAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <img src="./assets/images/att.svg" alt="Mark Attendance"
                                                                    title="Mark Attendance"
                                                                    [ngClass]="markAttendaceHide(class.class_date, class.start_time)"
                                                                    *ngIf="class.is_attendance_marked !='Y' "
                                                                    (click)="initiateMarkAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <img src="./assets/images/reschedule.svg"
                                                                    alt="reschedule" title="Reschedule"
                                                                    *ngIf="getVisibility(class) && class.is_attendance_marked!='Y'"
                                                                    (click)="initiateRescheduleClass(i, class)">
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4" title="Notify"
                                                                    *ngIf='getVisibility(class) && class.is_attendance_marked!="Y"'
                                                                    (click)="initiateRemiderClass(i, class)"></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel"
                                                                    *ngIf='class.is_attendance_marked!="Y"'
                                                                    (click)="initiateCancelClass(i, class)"></i>
                                                            </div>
                                                        </li>

                                                    </ul>

                                                </div>
                                            </div>
                                            <div class="schedule-scroller"
                                                *ngIf="!isProfessional && isSubjectView && schoolModel">
                                                <div class="subjectViewContent"
                                                    *ngFor="let class of getClassListDetails();let i = index;">
                                                    <ul class="ct-ongoing" [class.active]="i == selectedRow"
                                                        (click)="userScheduleSelected(i, class)">
                                                        <li class="batch">
                                                            <div *ngIf="!class.isExam">
                                                                {{class.start_time}} - {{class.end_time}}
                                                            </div>
                                                            <p>{{class.class_room_name}}</p>
                                                        </li>
                                                        <li class="batch">
                                                            <div title="{{class.course_name}}">
                                                                <span title="{{class.course_name}}">
                                                                    {{(class.course_name?.length > 25)?
                                                                    (class.course_name |
                                                                    slice:0:25)+'..':(class.course_name) }}
                                                                </span>
                                                            </div>
                                                        </li>

                                                        <li class="batch">
                                                            <div title="{{class.subject_name}}">
                                                                {{(class.subject_name?.length > 20)? (class.subject_name
                                                                | slice:0:20)+'..':(class.subject_name) }}
                                                                <span *ngIf="class.is_optional_subject">(Optional)</span>
                                                            </div>
                                                        </li>
                                                        <li class="batch">
                                                            <div title="{{class.teacher_name}}">
                                                                {{(class.teacher_name?.length > 20)? (class.teacher_name
                                                                | slice:0:10)+'..':(class.teacher_name) }}
                                                            </div>
                                                        </li>
                                                        <li class="action">
                                                            <div title="" class="pull-right">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    alt="Mark Attendance" title="Update Attendance"
                                                                    [ngClass]="markAttendaceHide(class.class_date, class.start_time)"
                                                                    *ngIf="class.is_attendance_marked =='Y' "
                                                                    (click)="initiateMarkAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <img src="./assets/images/att.svg" alt="Mark Attendance"
                                                                    title="Mark Attendance"
                                                                    [ngClass]="markAttendaceHide(class.class_date, class.start_time)"
                                                                    *ngIf="class.is_attendance_marked !='Y' "
                                                                    (click)="initiateMarkAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <!-- <img src="./assets/images/reschedule.svg"
                                                                    alt="reschedule" title="Reschedule"
                                                                    *ngIf="getVisibility(class) && class.is_attendance_marked!='Y'"
                                                                    (click)="initiateRescheduleClass(i, class)">
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4" title="Notify"
                                                                    *ngIf='getVisibility(class) && class.is_attendance_marked!="Y"'
                                                                    (click)="initiateRemiderClass(i, class)"></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel"
                                                                    *ngIf='class.is_attendance_marked!="Y"'
                                                                    (click)="initiateCancelClass(i, class)"></i> -->
                                                            </div>
                                                        </li>

                                                    </ul>

                                                </div>
                                            </div>

                                            <div class="schedule-scroller"
                                                *ngIf=" !schoolModel && !isProfessional && !isSubjectView">
                                                <div class="ct-disable-wrapper pos-rel"
                                                    *ngFor="let class of courseLevelSchedule;let i = index;">
                                                    <ul class="ct-ongoing" [class.active]="i == selectedRow"
                                                        (click)="userScheduleSelected(i, class)">
                                                        <li class="batch" title="{{class.master_course}}">
                                                            <div title="{{class.master_course}}">
                                                                {{ (class.master_course?.length > 20) ?
                                                                (class.master_course |
                                                                slice:0:20)+'..':(class.master_course) }}
                                                            </div>
                                                        </li>
                                                        <li class="batch cls-type" *ngIf="!class.isExam"
                                                            title="{{class.coursee_names}}">
                                                            <div>
                                                                <span title="{{class.coursee_names}}">{{
                                                                    (class.coursee_names?.length > 20) ?
                                                                    (class.coursee_names |
                                                                    slice:0:20)+'..':(class.coursee_names) }}
                                                                </span>
                                                            </div>
                                                            <!-- <div *ngIf="class.isExam">
                                <span title="{{class.course_name}}">{{ (class.course_name.length > 15) ? (class.course_name | slice:0:15)+'..':(class.course_name) }} </span>
                              </div> -->
                                                        </li>
                                                        <li class="batch cls-type" *ngIf="class.isExam"
                                                            title="{{class.course_name}}">
                                                            <!-- <div *ngIf="!class.isExam">
                                <span title="{{class.coursee_names}}">{{ (class.coursee_names.length > 15) ? (class.coursee_names | slice:0:15)+'..':(class.coursee_names) }} </span>
                              </div> -->
                                                            <div *ngIf="class.isExam">
                                                                <span title="{{class.course_name}}">{{
                                                                    (class.course_name?.length > 20) ?
                                                                    (class.course_name |
                                                                    slice:0:20)+'..':(class.course_name) }}
                                                                </span>
                                                            </div>
                                                        </li>
                                                        <li class="batch cls-type">
                                                            <div>
                                                                {{class.exam_start_time}} - {{class.exam_end_time}}
                                                            </div>
                                                        </li>
                                                        <li class="batch">
                                                            <div *ngIf="!class.isExam">
                                                                <span style="color: #1283f4">Class</span>
                                                            </div>
                                                            <div *ngIf="class.isExam">
                                                                <span style="color: #f41237">Exam</span>
                                                            </div>
                                                        </li>
                                                        <li class="action">
                                                            <div *ngIf="!class.isExam" class="che-action pull-right">
                                                                <img src="./assets/images/att.svg" alt="Mark Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    title="Mark Attendance" style="cursor:pointer"
                                                                    *ngIf="class.is_attendance_marked != 'Y' &&(userType!=3)"
                                                                    (click)="initiateCourseMarkAttendance(i, class)">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    style="cursor:pointer" alt="Update Attendance"
                                                                    title="Update Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    *ngIf="class.is_attendance_marked == 'Y'"
                                                                    (click)="initiateCourseMarkAttendance(i, class)">
                                                                <i class="fa fa-eye" aria-hidden="true"
                                                                    style="color: #1283f4;ursor:pointer"
                                                                    (click)="viewClassDetails(i, class)"
                                                                    title="View Details"></i>
                                                                <!-- <img src="./assets/images/exam-update.svg" style="cursor:pointer" alt="Update Exam Marks" title="Update Exam Marks" *ngIf="class.is_attendance_marked == 'Y'" (click)="initiateCourseMarkAttendance(i, class)"> -->
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4;ursor:pointer" title="Notify"
                                                                    (click)="initiateRemiderClass(i, class)"
                                                                    *ngIf='hideVisibilty() && class.is_attendance_marked!="Y"'></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel class"
                                                                    *ngIf='class.is_attendance_marked!="Y"'
                                                                    (click)="initiateCourseCancelClass(i, class)"></i>
                                                            </div>

                                                            <div *ngIf="class.isExam" class="che-action pull-right">
                                                                <img src="./assets/images/att.svg"
                                                                    alt="Mark Exam Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    title="Mark Exam Attendance" style="cursor:pointer"
                                                                    *ngIf="class.course_marks_update_level == '0' &&(userType!=3)"
                                                                    (click)="markAttendanceExamCourse(class)">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    style="cursor:pointer" alt="Update Exam Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    title="Update Exam Attendance"
                                                                    *ngIf="class.course_marks_update_level != '0'"
                                                                    (click)="markAttendanceExamCourse(class)">
                                                                <img src="./assets/images/exam-non.svg" alt="Exam Marks"
                                                                    title="Exam Marks" style="cursor:pointer"
                                                                    *ngIf="class.course_marks_update_level != '0' && class.course_marks_update_level != '1' && class.course_marks_update_level != '2'"
                                                                    (click)="examMarksUpdateCourse(class)">
                                                                <img src="./assets/images/exam-update.svg"
                                                                    alt="Update Exam Marks" title="Update Exam Marks"
                                                                    style="cursor:pointer"
                                                                    *ngIf="class.course_marks_update_level == '1' || class.course_marks_update_level == '2'"
                                                                    (click)="examMarksUpdateCourse(class)">
                                                                <i class="fa fa-eye" aria-hidden="true"
                                                                    style="color: #1283f4;cursor:pointer"
                                                                    (click)="viewExamDetails(i, class)"
                                                                    title="View Details"></i>
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4;ursor:pointer" title="Notify"
                                                                    (click)="sendReminderForCourse(class)"
                                                                    *ngIf='class.course_marks_update_level == "0"'></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel Exam"
                                                                    *ngIf="class.course_marks_update_level == '0'"
                                                                    (click)="onCancelExamClickCourse(class)"></i>
                                                            </div>

                                                        </li>
                                                    </ul>


                                                </div>
                                            </div>
                                            <div class="schedule-scroller"
                                                *ngIf="schoolModel && !isProfessional && !isSubjectView">
                                                <div class="ct-disable-wrapper pos-rel"
                                                    *ngFor="let class of courseLevelSchedule;let i = index;">
                                                    <ul class="ct-ongoing" [class.active]="i == selectedRow"
                                                        (click)="userScheduleSelected(i, class)">
                                                        <li class="class_room" title="{{class.master_course}}">
                                                            <div title="{{class.master_course}}">
                                                                {{ (class.master_course?.length > 20) ?
                                                                (class.master_course |
                                                                slice:0:20)+'..':(class.master_course) }}
                                                            </div>
                                                        </li>
                                                        <li class="batch" *ngIf="!class.isExam"
                                                            title="{{class.coursee_names}}">
                                                            <div>
                                                                <span title="{{class.coursee_names}}">{{
                                                                    (class.coursee_names?.length > 20) ?
                                                                    (class.coursee_names |
                                                                    slice:0:20)+'..':(class.coursee_names) }}
                                                                </span>
                                                            </div>

                                                        </li>
                                                        <li class="batch" *ngIf="class.isExam"
                                                            title="{{class.course_name}}">
                                                            <div *ngIf="class.isExam">
                                                                <span title="{{class.course_name}}">{{
                                                                    (class.course_name?.length > 20) ?
                                                                    (class.course_name |
                                                                    slice:0:20)+'..':(class.course_name) }}
                                                                </span>
                                                            </div>
                                                        </li>
                                                        <li class="batch" title="{{class.subject}}">
                                                            <span title="{{class.subject}}">{{
                                                                class.isExam?(class.subject?.length > 10) ?
                                                                (class.subject | slice:0:10)+'..':(class.subject):'--'
                                                                }}
                                                                <span *ngIf="class.is_optional_subject">(Optional)</span>
                                                            </span>
                                                        </li>

                                                        <li class="batch" title="{{class.exam_type}}">
                                                            <span title="{{class.exam_type}}">{{
                                                                class.isExam?(class.exam_type?.length > 20) ?
                                                                (class.exam_type |
                                                                slice:0:20)+'..':(class.exam_type):'--' }}
                                                            </span>
                                                        </li>
                                                        <li class="batch">
                                                            <div>
                                                                {{class.exam_start_time}} - {{class.exam_end_time}}
                                                            </div>
                                                        </li>

                                                        <li class="class_exam_type">
                                                            <div *ngIf="!class.isExam">
                                                                <span style="color: #1283f4">Class</span>
                                                            </div>
                                                            <div *ngIf="class.isExam">
                                                                <span style="color: #f41237">Exam</span>
                                                            </div>
                                                        </li>
                                                        <li class="action">
                                                            <div *ngIf="!class.isExam" class="che-action pull-right">
                                                                <img src="./assets/images/att.svg" alt="Mark Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    title="Mark Attendance" style="cursor:pointer"
                                                                    *ngIf="class.is_attendance_marked != 'Y' &&(userType!=3)"
                                                                    (click)="initiateCourseMarkAttendance(i, class)">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    style="cursor:pointer" alt="Update Attendance"
                                                                    title="Update Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    *ngIf="class.is_attendance_marked == 'Y'"
                                                                    (click)="initiateCourseMarkAttendance(i, class)">
                                                                <i class="fa fa-eye" aria-hidden="true"
                                                                    style="color: #1283f4;ursor:pointer"
                                                                    (click)="viewClassDetails(i, class)"
                                                                    title="View Details"></i>
                                                                <!-- <img src="./assets/images/exam-update.svg" style="cursor:pointer" alt="Update Exam Marks" title="Update Exam Marks" *ngIf="class.is_attendance_marked == 'Y'" (click)="initiateCourseMarkAttendance(i, class)"> -->
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4;cursor:pointer" title="Notify"
                                                                    (click)="initiateRemiderClass(i, class)"
                                                                    *ngIf='!schoolModel && hideVisibilty() && class.is_attendance_marked!="Y"'></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel class"
                                                                    *ngIf='class.is_attendance_marked!="Y"'
                                                                    (click)="initiateCourseCancelClass(i, class)"></i>
                                                            </div>

                                                            <div *ngIf="class.isExam" class="che-action pull-right">
                                                                <img src="./assets/images/att.svg"
                                                                    alt="Mark Exam Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    title="Mark Exam Attendance" style="cursor:pointer"
                                                                    *ngIf="class.course_marks_update_level == '0' &&(userType!=3)"
                                                                    (click)="markAttendanceExamCourse(class)">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    style="cursor:pointer" alt="Update Exam Attendance"
                                                                    [ngClass]="markAttendaceHide(courseLevelSchedDate, class.exam_start_time)"
                                                                    title="Update Exam Attendance"
                                                                    *ngIf="class.course_marks_update_level != '0'"
                                                                    (click)="markAttendanceExamCourse(class)">
                                                                <img src="./assets/images/exam-non.svg" alt="Exam Marks"
                                                                    title="Exam Marks" style="cursor:pointer"
                                                                    *ngIf="class.course_marks_update_level != '0' && class.course_marks_update_level != '1' && class.course_marks_update_level != '2'"
                                                                    (click)="examMarksUpdateCourse(class)">
                                                                <img src="./assets/images/exam-update.svg"
                                                                    alt="Update Exam Marks" title="Update Exam Marks"
                                                                    style="cursor:pointer"
                                                                    *ngIf="class.course_marks_update_level == '1' || class.course_marks_update_level == '2'"
                                                                    (click)="examMarksUpdateCourse(class)">
                                                                <i class="fa fa-eye" aria-hidden="true"
                                                                    style="color: #1283f4;cursor:pointer"
                                                                    (click)="viewExamDetails(i, class)"
                                                                    title="View Details"></i>
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4;cursor:pointer" title="Notify"
                                                                    (click)="sendReminderForCourse(class)"
                                                                    *ngIf='!schoolModel && class.course_marks_update_level == "0"'></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel Exam"
                                                                    *ngIf="!schoolModel && class.course_marks_update_level == '0'"
                                                                    (click)="onCancelExamClickCourse(class)"></i>
                                                            </div>

                                                        </li>
                                                    </ul>


                                                </div>
                                            </div>

                                            <div class="schedule-scroller" *ngIf="isProfessional">
                                                <div class="ct-disable-wrapper pos-rel"
                                                    *ngFor="let class of getClassListDetails(); let i = index;">
                                                    <ul class="ct-ongoing" [class.active]="i == selectedRow"
                                                        (click)="userScheduleSelected(i, class)">
                                                        <li class="timings">
                                                            <div *ngIf="!class.isExam">{{class.start_time}} -
                                                                {{class.end_time}}
                                                            </div>
                                                            <div *ngIf="class.isExam">{{class.start_time}} -
                                                                {{class.end_time}}</div>
                                                        </li>
                                                        <li class="cls-type">
                                                            <div *ngIf="!class.isExam">
                                                                <span
                                                                    *ngIf="(class.freq == 'WEEK' && class.custom_class_type == '') || class.custom_class_type == 'Regular(Custom)' || class.custom_class_type=='Regular'"
                                                                    style="color: #1283f4">Regular</span>
                                                                <span
                                                                    *ngIf="!((class.freq == 'WEEK' && class.custom_class_type == '') || class.custom_class_type == 'Regular(Custom)' || class.custom_class_type=='Regular')"
                                                                    style="color: #ff6600">Extra</span>
                                                            </div>
                                                            <div *ngIf="class.isExam">
                                                                <span style="color: #f41237">Exam</span>
                                                            </div>
                                                        </li>

                                                        <li class="batch">
                                                            <div><span title="{{class.batch_name}}">{{
                                                                    (class.batch_name.length > 15) ? (class.batch_name |
                                                                    slice:0:15)+'..':(class.batch_name) }}
                                                                </span></div>
                                                        </li>
                                                        <li class="class_room">

                                                            <div title="{{class.topicName}}"
                                                                *ngIf="class.topicName != null && class.topicName != ''">
                                                                {{(class.topicName.length > 15) ? (class.topicName |
                                                                slice:0:15)+ '..':(class.topicName)}}
                                                            </div>
                                                            <div
                                                                *ngIf="class.topicName == '' || class.topicName == null">
                                                                -</div>
                                                        </li>
                                                        <li class="faculty">
                                                            <div>{{class.teacher_name}}</div>
                                                        </li>
                                                        <li class="action">
                                                            <div *ngIf="class.isExam" class="che-action pull-right"
                                                                [ngClass]="{hide : checkIfUserHadAccess(role_feature.DASHBOARD_SCHEDULE)}">
                                                                <img src="./assets/images/att.svg"
                                                                    alt="Mark Exam Attendance"
                                                                    title="Mark Exam Attendance" style="cursor:pointer"
                                                                    *ngIf="class.isReferenced == 'N'"
                                                                    [ngClass]="markAttendaceHide(class.exam_date, class.start_time)"
                                                                    (click)="markExamAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    style="cursor:pointer" alt="Update Exam Attendance"
                                                                    title="Update Exam Attendance"
                                                                    *ngIf="class.isReferenced == 'Y'"
                                                                    [ngClass]="markAttendaceHide(class.exam_date, class.start_time)"
                                                                    (click)="markExamAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <img src="./assets/images/exam-non.svg" alt="Exam Marks"
                                                                    title="Exam Marks" style="cursor:pointer"
                                                                    *ngIf="class.isReferenced == 'Y' && class.is_exam_marks=='N'"
                                                                    (click)="examMarksUpdate(class)">
                                                                <img src="./assets/images/exam-update.svg"
                                                                    alt="Update Exam Marks " title="Update Exam Marks"
                                                                    style="cursor:pointer"
                                                                    *ngIf="class.isReferenced == 'Y' && class.is_exam_marks=='Y'"
                                                                    (click)="examMarksUpdate(class)">
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4;cursor:pointer" title="Notify"
                                                                    (click)="notifyExamSchedule(i, class)"
                                                                    *ngIf='class.isReferenced != "Y"'></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel Exam"
                                                                    *ngIf="class.isReferenced != 'Y'"
                                                                    (click)="onCancelExamClick(class)"></i>
                                                            </div>
                                                            <div *ngIf="!class.isExam" class="che-action pull-right"
                                                                [ngClass]="{hide : checkIfUserHadAccess(role_feature.DASHBOARD_SCHEDULE)}">
                                                                <img src="./assets/images/att.svg" alt="Mark Attendance"
                                                                    title="Mark Attendance"
                                                                    *ngIf="class.is_attendance_marked != 'Y'"
                                                                    style="cursor:pointer"
                                                                    [ngClass]="markAttendaceHide(class.class_date, class.start_time)"
                                                                    (click)="initiateMarkAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <img src="./assets/images/checked-att.svg"
                                                                    style="cursor:pointer" alt="Update Attendance"
                                                                    title="Update Attendance"
                                                                    [ngClass]="markAttendaceHide(class.class_date, class.start_time)"
                                                                    *ngIf="class.is_attendance_marked == 'Y'"
                                                                    (click)="initiateMarkAttendance(i, class, class.subject_id, class.topics_covered)">
                                                                <img src="./assets/images/reschedule.svg"
                                                                    alt="reschedule" title="Reschedule"
                                                                    [ngClass]="getReminderAndCancel(class)"
                                                                    *ngIf="getVisibility(class) && class.is_attendance_marked!='Y'"
                                                                    (click)="initiateRescheduleClass(i, class)">
                                                                <i class="fa fa-bell" aria-hidden="true"
                                                                    style="color: #1283f4;ursor:pointer" title="Notify"
                                                                    (click)="initiateRemiderClass(i, class)"
                                                                    [ngClass]="getReminderAndCancel(class)"
                                                                    *ngIf='getVisibility(class) && class.is_attendance_marked!="Y"'></i>
                                                                <i class="fa fa-times-circle" aria-hidden="true"
                                                                    style="color: red;" title="Cancel Class"
                                                                    *ngIf="class.is_attendance_marked != 'Y'"
                                                                    (click)="initiateCourseCancelClass(i, class)"></i>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>

                            <li [ngClass]="{'hide' : checkIfUserHadAccess(role_feature.DASHBOARD_ACCOUNT_STATS) }"
                                class="general-state item" style="height: 150px;" data-id="4">
                                <div class="item-content">
                                    <general-widget [storageData]="storageData"></general-widget>
                                </div>
                            </li>

                            <li [ngClass]="{'hide' : checkVdoCipherRole() }" class="general-state item"
                                style="height: 250px;width: 41%;" data-id="4">
                                <div class="item-content">
                                    <app-vdocipher [storageData]="storageData"></app-vdocipher>
                                </div>
                            </li>

                            <li class="schedule-state item widthChange" [ngClass]="{'hide' : biometricEnable != '1' }"
                                data-id="5" #ref>
                                <div class="biometric-content">
                                    <biometric-widget (changeWidth)="recieveData($event)"></biometric-widget>
                                </div>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </section>

    <proctur-widget *ngIf="isAttendancePop" [size]="'85%'">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeAttendance()" close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81 305.77)
                              rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81 305.77)
                              rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>

        <h2 widget-header>Mark / Update Attendance
            <span style="font-weight: normal; font-size: 0.8em">: {{classMarkedForAction.batch_name}}</span>
        </h2>

        <hr>

        <div class="attendanceWrapper" widget-content>
            <div class="row">
                <aside class="tableSection">


                    <div *ngIf="showTopicList">
                    </div>

                    <div class="row filterSection">
                        <div class="c-sm-2 c-md-2 c-lg-2">
                            <h3>Total : {{studentAttList.length}} </h3>
                        </div>

                        <div class="c-sm-4 c-md-4 c-lg-4 legendSection">
                            <div class="divSection">
                                <span class="leave">{{leaveCount}}</span>
                                <span class="legendSpan">Leave</span>
                            </div>

                            <div class="divSection">
                                <span class="absent">{{absentCount}}</span>
                                <span class="legendSpan">Absent</span>
                            </div>

                            <div class="divSection">
                                <span class="present">{{presentCount}}</span>
                                <span class="legendSpan">Present</span>
                            </div>


                        </div>

                        <div class="c-sm-3 c-md-3 c-lg-3">
                            <div class="field-checkbox-wrapper"
                                *ngIf="classMarkedForAction.is_attendance_marked != 'Y'">
                                <input type="checkbox" value="" class="form-checkbox" id="MarkAllPresent"
                                    [checked]="AllPresent" (change)="markAllPresent($event)">
                                <label for="MarkAllPresent" class="txt-font">Mark All Present</label>
                            </div>

                        </div>

                        <div class="c-sm-3 c-md-3 c-lg-3" style="margin-top: -10px">
                            <div class="field-wrapper" [ngClass]="{ 'has-value': teacher_id !='' }">
                                <label for="feeType" style="color:#4191da"> Teacher </label>
                                <select id="teachers" class="form-ctrl" [(ngModel)]="teacher_id" style="background: transparent;
                  border-bottom: 1px solid #4191da">
                                    <option value='-1'>Select Teacher</option>
                                    <option [value]="teacher.teacher_id" *ngFor="let teacher of teacherListArr">
                                        {{teacher.teacher_name}}
                                    </option>
                                </select>

                            </div>
                        </div>
                    </div>

                    <div class="row studentTableWrapper" style="padding: 0px 5px 0px 0px;margin-left: 5px;">
                        <div class="schedule-bottom">
                            <ul class="sche-head" *ngIf="settingInfo.home_work_feature_enable==1">
                                <li style="width: 20%; font-weight: 400">Student ID</li>
                                <li style="width: 20%; font-weight: 400">Student Name</li>
                                <li style="width: 35%; font-weight: 400">Mark Attendance</li>
                                <li style="width: 25%; font-weight: 400">Homework Status</li>
                            </ul>
                            <ul class="sche-head" *ngIf="settingInfo.home_work_feature_enable !=1">
                                <li style="width: 30%; font-weight: 400">Student ID</li>
                                <li style="width: 30%; font-weight: 400">Student Name</li>
                                <li style="width: 40%; font-weight: 400">Mark Attendance</li>
                            </ul>
                            <div class="schedule-scroller" style="max-height: 250px;min-height: 250px;">
                                <div class="ct-disable-wrapper pos-rel" *ngFor="let s of studentAttList;let i=index;"
                                    [ngClass]="{ homeWorkNotFoundClass: settingInfo.home_work_feature_enable !=1 }">
                                    <ul class="ct-ongoing subject">
                                        <li style="width: 20%; font-weight: 800">
                                            <div class="no-margin top5">{{s.student_disp_id}}</div>
                                        </li>

                                        <li class="" style="width: 20% ; font-weight: 800">
                                            <div class="no-margin top5">
                                                {{s.student_name}}
                                            </div>
                                        </li>

                                        <li style="width: 35%">
                                            <div class="btnGroup  btns">
                                                <button id="leaveBtn{{s.student_id}}"
                                                    [disabled]="s.dateLi[0].serverStatus == 'L'"
                                                    (click)="markAttendaceBtnClick($event , s , i)" class="btn"
                                                    [ngClass]="{'classLeaveBtn' : s.dateLi[0].status == 'L'}">L</button>
                                                <button id="absentBtn{{s.student_id}}"
                                                    [disabled]="s.dateLi[0].serverStatus == 'L'"
                                                    (click)="markAttendaceBtnClick($event , s, i)" class="btn"
                                                    [ngClass]="{'classAbsentBtn' : s.dateLi[0].status == 'A'}">A</button>
                                                <button id="presentBtn{{s.student_id}}"
                                                    [disabled]="s.dateLi[0].serverStatus == 'L'"
                                                    (click)="markAttendaceBtnClick($event , s, i)" class="btn"
                                                    [ngClass]="{'classPresentBtn' : s.dateLi[0].status == 'P'}">P</button>
                                            </div>

                                        <li style="width: 20%;" *ngIf="settingInfo.home_work_feature_enable==1">
                                            <div style="margin: 0px;" class="customDropdown top5">
                                                <select [disabled]="s.dateLi[0].status=='L' || s.dateLi[0].status=='A'"
                                                    id="hw_status_11755" class=""
                                                    [(ngModel)]="s.dateLi[0].home_work_status"
                                                    (ngModelChange)="isHomeworkStatusChanged(i)">
                                                    <option value="Y" selected=" ">Completed</option>
                                                    <option value="N">Not Done</option>
                                                    <option value="NC">Incomplete</option>
                                                </select>
                                            </div>
                                        </li>

                                    </ul>
                                </div>
                                <div class="ct-disable-wrapper pos-rel" *ngIf="studentAttList.length == 0">
                                    <ul class="ct-ongoing subject">
                                        <li style="width: 100%; font-weight: 800">No Student Records</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </aside>

                <aside class="detailsSection">

                    <div class="checkboxGroup">
                        <div class="field-checkbox-wrapper"
                            [ngClass]="{'hide': settingInfo.home_work_feature_enable != 1}">
                            <input type="checkbox" value="" class="form-checkbox" id="EnableHomeWorkSms"
                                [checked]="home_work_notifn==1 ? true: false" (change)="updateHomework($event)">
                            <label for="EnableHomeWorkSms">Send Homework SMS
                                <div class="questionInfo lefts" style="margin-left: 30px;">
                                    <span class="qInfoIcon">?</span>
                                    <div class="tooltip-box-field">
                                        Send message for todays homework OR If Last class Homework is Not
                                        Done/Incomplete
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="field-checkbox-wrapper hide">
                            <input type="checkbox" value="" class="form-checkbox" id="EnableSmsTopic"
                                [checked]="topics_covered_notifn==1 ? true: false"
                                (change)="updateTopicCovered($event)">
                            <label for="EnableSmsTopic">Enable SMS For Covered Topic</label>
                        </div>

                    </div>

                    <div style="margin-top: 0px">
                        <h3 style="display: inline-flex;">Attendance Note</h3>
                        <div class="questionInfo" style="position:relative; left:37%;margin-left: 25px;">
                            <span class="qInfoIcon">?</span>
                            <span class="tooltip-box-field">
                                Special characters are not allowed
                            </span>
                        </div>
                        <div class="field-wrapper">
                            <textarea style="width: 92%;" class="form-ctrl textBox" value=""
                                [(ngModel)]="attendanceNote">
              </textarea>
                        </div>
                    </div>

                    <div *ngIf="settingInfo.home_work_feature_enable==1">
                        <h3 style="display: inline-flex;">Homework</h3>
                        <div class="questionInfo" style="position:relative; left:25%;margin-left: 25px;">
                            <span class="qInfoIcon">?</span>
                            <span class="tooltip-box-field">
                                Details of homework given to student (special characters are not allowed)
                            </span>
                        </div>
                        <div class="field-wrapper" [ngClass]="{ 'has-value': homework !='' }">
                            <textarea class="form-ctrl textBox" value="" [(ngModel)]="homework">
                </textarea>
                        </div>
                    </div>

                    <div *ngIf="settingInfo.home_work_feature_enable==1">
                        <h3 style="display: inline-flex;">Last Class Homework</h3>
                        <div class="questionInfo lefts">
                            <span class="qInfoIcon">?</span>
                            <div class="tooltip-box-field">
                                Details of homework given in last class
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <textarea disabled="true" class="form-ctrl textBox" style="background: #efefef" value=""
                                [ngModel]="studentAttList[0].dateLi[0].homework_assigned">
              </textarea>
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        <div style="padding-top: 10px;" class="clearfix" widget-footer>
            <aside class="pull-right popup-btn" style=" display: inline-flex; ">
                <input type="button" value="Cancel" class="btn" (click)="closeAttendance()">
                <input type="button" *ngIf="isProfessional && classMarkedForAction.is_attendance_marked != 'Y'"
                    value="Mark Attendance" (click)="updateAttendance()" class="fullBlue btn">
                <input type="button" *ngIf="isProfessional && classMarkedForAction.is_attendance_marked != 'N' "
                    value="Update Attendance" (click)="updateAttendance()" class="fullBlue btn">
                <input type="button" *ngIf="(!isProfessional)&&(userType!=3) " value="Mark Attendance"
                    (click)="updateAttendance()" class="fullBlue btn">
            </aside>
        </div>

    </proctur-widget>

    <proctur-widget *ngIf="isCancelExamPop" [size]="'40%'">

        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeCancelClass()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>

        <h2 widget-header>Cancel Class
            <span style="font-weight: 300">{{classMarkedForAction.batch_name}}</span>
        </h2>

        <div class="CancelWrapper" widget-content>
            <div class="row cancelField">
                <div class="c-lg-12 c-md-12 c-sm-12">
                    <div class="field-wrapper">
                        <textarea class="form-ctrl textBox" style="height: 100px;" placeholder="Cancellation Reason:"
                            value="" [(ngModel)]="cancellationReason">
            </textarea>
                    </div>
                </div>
                <div class="c-lg-12 c-md-12 c-sm-12" style="margin-top: 20px">
                    <div class="field-checkbox-wrapper">
                        <input type="checkbox" value="" class="form-checkbox" id="notifyCancel"
                            [checked]="getCheckedStatus('notifyCancel')" (change)="notifyCancelUpdate($event)">
                        <label for="notifyCancel">Notify Students For Class Cancellation</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="" widget-footer>
            <div class="clearfix">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closeCancelClass()">
                    <input type="button" value="Cancel Class" (click)="cancelClass()"
                        [disabled]="auth.isRippleLoad.getValue()" class="btn fullBlue">
                </aside>
            </div>
        </div>

    </proctur-widget>

    <proctur-widget *ngIf="isReminderPop" [size]="'50%'" style="border-radius: 4px;">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeRemiderClass()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>


        <h2 widget-header>Send Reminder For
            <span *ngIf="isProfessional">{{classMarkedForAction.batch_name}}</span>
            <span *ngIf="!isProfessional && isSubjectView">{{classMarkedForAction.batch_name}}</span>
            <span *ngIf="!isProfessional && !isSubjectView">{{classMarkedForAction.master_course}} |
                {{classMarkedForAction.coursee_names}}
            </span>
        </h2>

        <div class="reminderWrapper" widget-content>
            <div class="row" style="margin: 20px 0px;">
                The reminder for the selected schedule will be sent! Click continue to proceed.
            </div>
        </div>

        <div class="add_remarks" widget-content>
            <div class="" style="margin-left: 38%">
                <span>Limit</span>
                <span class="button_type">{{remarksLimit}}</span>
            </div>
            <div class="field-wrapper" style="width: 50%;">
                <textarea type="text" style="height:50px; border: 1px solid #d3d4d5;" id="reminderRemarks"
                    name="reminderRemarks" [(ngModel)]="reminderRemarks" value="" placeholder="Remarks"
                    class="form-ctrl textbox" maxlength="50" (ngModelChange)="countRemarksLimit()">
        </textarea>
            </div>
        </div>

        <div class="" widget-footer>
            <div class="clearfix">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closeRemiderClass()">
                    <input type="button" value="Continue" (click)="sendReminder()" class="btn fullBlue"
                        [disabled]="auth.isRippleLoad.getValue()">
                </aside>
            </div>
        </div>


    </proctur-widget>

    <proctur-widget *ngIf="isReschedulePop" [size]="'50%'">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeRescheduleClass()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>

        <h2 widget-header>{{classMarkedForAction.batch_name}}</h2>

        <div class="rescheduleWrapper" style="padding-left: 1%" widget-content>

            <div class="row dueDate" style="margin-left: -15px;">

                <div class="field-wrapper datePickerBox c-sm-4 c-md-4 c-lg-4" style="padding-top:0px">
                    <label for="reschDate">Reschedule Date</label>
                    <input type="text" id="reschDate" name="reschDate" readonly="true" class="form-ctrl bsDatepicker"
                        [(ngModel)]="reschedDate" bsDatepicker style="height:30px">
                </div>

                <div class="c-sm-4 c-md-4 c-lg-4" style="margin-top:-15px;">
                    <div class="form-wrapper timepick rescheduleTime" style="padding-left: 15px;">
                        <label for="startTime">Start Time</label>
                        <div class="tbox">
                            <div class="times ">
                                <select id="" class="mins side-form-ctrl" [(ngModel)]="timepicker.reschedStartTime.hour"
                                    name="startTime" style="height:38px;">
                                    <option [value]="time" *ngFor="let time of times">
                                        {{time}}
                                    </option>
                                </select>
                            </div>
                            <div class="times">
                                <select id="" class="mers side-form-ctrl"
                                    [(ngModel)]="timepicker.reschedStartTime.minute" name="minute" style="height:38px;">
                                    <option *ngFor="let minute of minArr" [value]="minute">
                                        {{minute}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="c-sm-4 c-md-4 c-lg-4" style="margin-top:-15px;">
                    <div class="form-wrapper timepick rescheduleTime">
                        <label for="endtime">End Time</label>
                        <div class="tbox">
                            <div class="times">
                                <select id="" class="mins side-form-ctrl" [(ngModel)]="timepicker.reschedEndTime.hour"
                                    name="endtime" style="height:38px;">
                                    <option [value]="time" *ngFor="let time of times">
                                        {{time}}
                                    </option>
                                </select>
                            </div>
                            <div class="times">
                                <select id="" class="mers side-form-ctrl" [(ngModel)]="timepicker.reschedEndTime.minute"
                                    name="minute" style="height:38px;">
                                    <option *ngFor="let minute of minArr" [value]="minute">
                                        {{minute}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="row">
                <div class="field-wrapper" style="width: 50%;">
                    <textarea type="text" style="height:50px;" id="reschreason" name="reschreason"
                        [(ngModel)]="reschedReason" value="" placeholder="Reschedule Reason" class="form-ctrl textbox">
          </textarea>
                </div>
            </div>
        </div>

        <div class="" widget-footer>
            <div class="clearfix">
                <aside class="pull-left">
                    <div class="field-checkbox-wrapper" style="margin-top: 5px">
                        <input type="checkbox" value="" class="form-checkbox" id="is_reshedule_notified"
                            [checked]="getCheckedStatus('resheduleNotified')" (change)="notifyRescheduleUpdate($event)">
                        <label for="is_reshedule_notified">Notify Students</label>
                    </div>
                </aside>
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closeRescheduleClass()">
                    <input type="button" value="Reschedule Class" (click)="rescheduleClass()" class="fullBlue btn"
                        [disabled]="auth.isRippleLoad.getValue()">
                </aside>
            </div>
        </div>


    </proctur-widget>

    <proctur-widget *ngIf="isCourseAttendance">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeCourseLevelAttendance()"
            close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81
                  305.77) rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81
                  305.77) rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>
        <h2 widget-header>Mark Attendance
            <span style="font-weight: normal"> - {{classMarkedForAction.master_course}}</span>
        </h2>

        <div class="attendanceWrapperCourse" widget-content>

            <div class="row filterSection">
                <div class="c-sm-3 c-md-3 c-lg-3">
                    <h3>Total Students : {{courseLevelStudentAtt.length}} </h3>
                </div>

                <div class="c-sm-6 c-md-6 c-lg-6">

                    <span class="leave">{{leaveCount}}</span>
                    <h5>Leave</h5>

                    <span class="absent">{{absentCount}}</span>
                    <h5>Absent</h5>

                    <span class="present">{{presentCount}}</span>
                    <h5>Present</h5>
                </div>

            </div>

            <div class="attendanceMain">
                <div class="table-scroll-wrapper">
                    <div class="table table-responsive">
                        <table>
                            <thead>
                                <tr style="height: 35px;">
                                    <th style="font-size: 14px;font-weight: 600;">Student Id</th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Name</th>
                                    <th style="font-size: 14px;font-weight: 600;">Attendance</th>
                                    <th style="font-size: 14px;font-weight: 600;"
                                        *ngIf="settingInfo.home_work_feature_enable==1">HomeWork Status
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let s of courseLevelStudentAtt; let i=index;">
                                    <td>
                                        {{s.student_disp_id}}
                                    </td>
                                    <td>
                                        {{s.student_name}}
                                    </td>

                                    <td>
                                        <div class="btnGroup">
                                            <button id="leaveBtnCourse{{s.student_id}}"
                                                [disabled]="s.dateLi[0].serverStatus == 'L'"
                                                (click)="markAttendaceBtnClickCourse($event , s , i)" class="btn"
                                                [ngClass]="{'classLeaveBtn' : s.dateLi[0].status == 'L'}">L</button>
                                            <button id="absentBtnCourse{{s.student_id}}"
                                                [disabled]="s.dateLi[0].serverStatus == 'L'"
                                                (click)="markAttendaceBtnClickCourse($event , s, i)" class="btn"
                                                [ngClass]="{'classAbsentBtn' : s.dateLi[0].status == 'A'}">A</button>
                                            <button id="presentBtnCourse{{s.student_id}}"
                                                [disabled]="s.dateLi[0].serverStatus == 'L'"
                                                (click)="markAttendaceBtnClickCourse($event , s, i)" class="btn"
                                                [ngClass]="{'classPresentBtn' : s.dateLi[0].status == 'P'}">P</button>
                                        </div>
                                    </td>
                                    <td *ngIf="settingInfo.home_work_feature_enable==1">
                                        <div class="form-wrapper">
                                            <select [disabled]="s.dateLi[0].status=='L' || s.dateLi[0].status=='A'"
                                                id="hw_status" class="form-ctrl" [ngModel]="getCourseHomeworkData(i)"
                                                (ngModelChange)="isCourseHomeworkStatusChanged($event,i)">
                                                <option value="Y" selected>Completed</option>
                                                <option value="N">Not Done</option>
                                                <option value="NC">Incomplete</option>
                                            </select>
                                        </div>
                                    </td>

                                </tr>
                                <tr *ngIf="courseLevelStudentAtt.length == 0">
                                    <td colspan="3">
                                        No Student Records
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="" widget-footer>
            <div class="clearfix" style="padding-top: 15px">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closeCourseLevelAttendance()">
                    <input type="button" value="Mark Attendance" (click)="updateCourseAttendance()"
                        class="fullBlue btn">
                </aside>
            </div>
        </div>
    </proctur-widget>

    <proctur-widget *ngIf="isCourseCancel" [size]="'40%'">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeCourseCancelClass()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>

        <h2 widget-header>Cancel Schedule:
            <span *ngIf="!isProfessional"
                style="font-weight: 600; color: #9b9b9b;">{{classMarkedForAction.master_course}} &#8594;
                {{classMarkedForAction.coursee_names}} </span>
            <span *ngIf="isProfessional"
                style="font-weight: 600; color: #9b9b9b;">{{classMarkedForAction.batch_name}}</span>
        </h2>

        <div class="CancelWrapper" widget-content>
            <div class="row cancelField">
                <div class="c-lg-12 c-md-12 c-sm-12">
                    <div class="field-wrapper">
                        <textarea class="form-ctrl textBox" style="height: 100px;" placeholder="Cancellation Reason:"
                            value="" [(ngModel)]="cancellationReason"></textarea>
                    </div>
                </div>
                <div class="c-lg-12 c-md-12 c-sm-12" style="margin-top: 20px">
                    <div class="field-checkbox-wrapper">
                        <input type="checkbox" value="" class="form-checkbox" id="notifyCancel"
                            [checked]="getCheckedStatus('notifyCancel')" (change)="notifyCancelUpdate($event)">
                        <label for="notifyCancel">Notify Students For Class Cancellation</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="" widget-footer>
            <div class="clearfix">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closeCourseCancelClass()">
                    <input *ngIf="!isProfessional" type="button" value="Update Schedule" (click)="cancelCourseClass()"
                        class="fullBlue btn" [disabled]="auth.isRippleLoad.getValue()">
                    <input *ngIf="isProfessional" type="button" value="Cancel Class" (click)="cancelBatchClass()"
                        class="fullBlue btn" [disabled]="auth.isRippleLoad.getValue()">
                </aside>
            </div>
        </div>

    </proctur-widget>

    <proctur-widget *ngIf="notificationPopUp">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeNotificationPopUp()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>


        <h2 style="margin-left: 15px;margin-bottom: 5px; font-size: 14px;" widget-header>Send Notification
            <div class="questionInfo lefts send-notificaton-tooltip">
                <span class="qInfoIcon">?</span>
                <div class="tooltip-box-field" style="left: 35px !important;top: -30px !important;">
                    1. Select Audience
                    <br>then click on Next
                    <br>2. Select Message and
                    <br> send.
                </div>
            </div>
        </h2>

        <div class="notificationCOntent" widget-content>
            <div class="notification-content-wrapper">

                <div class="add-notificaton-wrapper" *ngIf="addNotification">
                    <div class="row">
                        <div class="c-sm-9 c-md-9 c-lg-9">
                            <div class="field-wrapper" style="padding-top:0px;">
                                <textarea *ngIf="!showEmailSubject" class="form-ctrl textBox" value=""
                                    [(ngModel)]="newMessageText" (ngModelChange)="countNumberOfMessage()"
                                    placeholder="Message/SMS"></textarea>
                                <editor [init]="editorConf" *ngIf="showEmailSubject"
                                    apiKey="xix5hq71alw64jp2ufl9fo6nddnhg91n6h7w2afn043v538t"
                                    [(ngModel)]="newMessageText" (ngModelChange)="countNumberOfMessage()"></editor>
                                <div style="width:100%; display:flex; justify-content:space-between;">
                                    <span>Character Count : {{newMessageText.length}}</span>
                                    <span>Message Count : <span
                                            [ngClass]="{'red' : messageCount >= 2}">{{messageCount}}</span></span>
                                </div>
                            </div>
                        </div>

                        <div class="c-sm-3 c-md-3 c-lg-3 btn-Group">
                            <button class="btn" (click)="closeNewMessageDiv()">Cancel</button>
                            <button class="btn fullBlue" *ngIf="!jsonFlag.editMessage"
                                (click)="saveNewMessage()">Save</button>
                            <button class="btn fullBlue" *ngIf="jsonFlag.editMessage"
                                (click)="updateMessage()">Update</button>
                        </div>
                    </div>
                </div>

                <div class="content-section-wrapper">


                    <div class="common-tab">
                        <ul>
                            <li id="idAudience" (click)="selectTabMenu('idAudience','divAudience')" class="active"
                                style="width:150px">
                                <a>Select Audience</a>
                            </li>
                            <li id="idSendMessage" (click)="selectTabMenu('idSendMessage','divSendMessage')"
                                style="width:150px;margin-left: 3%;">
                                <a>Send Message</a>
                            </li>
                            <li id="liAdd" class="pull-right hide" (click)="addNewNotification()">
                                <a>Add</a>
                            </li>
                        </ul>
                    </div>

                    <div class="main-content-wrapper">

                        <div id="divAudience" class="active">

                            <div class="row filter-section" *ngIf="isProfessional">

                                <div class="form-wrapper c-sm-3 c-md-3 c-lg-3">
                                    <label for="masterCourse">Master Course</label>
                                    <div class="" style="padding: 0px;">
                                        <select id="walkintime" class="side-form-ctrl"
                                            [(ngModel)]="sendNotification.standard_id"
                                            (ngModelChange)="onMasterCourseSelection($event)" name="masterCourse">
                                            <option value="-1"></option>
                                            <option *ngFor="let opt of masterCourseList" [value]="opt.standard_id">
                                                {{opt.standard_name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-wrapper c-sm-3 c-md-3 c-lg-3">
                                    <label for="course">Course</label>
                                    <div class="" style="padding: 0px;">
                                        <select id="walkintime" class="side-form-ctrl"
                                            [(ngModel)]="sendNotification.subject_id"
                                            (ngModelChange)="onCourseSelection($event)" name="course">
                                            <option value="-1"></option>
                                            <option *ngFor="let opt of courseList" [value]="opt.subject_id">
                                                {{opt.subject_name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-wrapper c-sm-3 c-md-3 c-lg-3">
                                    <label for="batch">Batch</label>
                                    <div class="" style="padding: 0px;">
                                        <select id="walkintime" class="side-form-ctrl"
                                            [(ngModel)]="sendNotification.batch_id"
                                            (ngModelChange)="fetchDataOnBatchBasis(event)" name="batch">
                                            <option value="-1"></option>
                                            <option *ngFor="let opt of batchList" [value]="opt.batch_id">
                                                {{opt.batch_name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>



                                <div *ngIf="studentList.length > 0" class="pull-right" style="margin-top: 15px">
                                    <div class="search-filter">
                                        <input type="text" [(ngModel)]="searchData" class="normal-field"
                                            placeholder="Search" name="searchData" #searchVal>
                                    </div>
                                </div>

                            </div>

                            <div class="row filter-section" *ngIf="!isProfessional">

                                <div class="form-wrapper c-sm-3 c-md-3 c-lg-3">
                                    <label for="masterCourse">{{schoolModel? 'Standard' : 'Master Course'}}</label>
                                    <div class="" style="padding: 0px;">
                                        <select *ngIf="!schoolModel" id="walkintime" class="side-form-ctrl"
                                            [(ngModel)]="sendNotificationCourse.master_course"
                                            (ngModelChange)="onMasterCourseChange($event)" name="masterCourse">
                                            <option value="-1"></option>
                                            <option *ngFor="let opt of masterCourseList" [value]="opt.master_course">
                                                {{opt.master_course}}
                                            </option>
                                        </select>
                                        <select *ngIf="schoolModel" id="walkintime" class="side-form-ctrl"
                                        [(ngModel)]="sendNotificationCourse.standard_id"
                                        (ngModelChange)="onMasterCourseChange($event)" name="masterCourse">
                                        <option value=""></option>
                                        <option *ngFor="let opt of masterCourseList" [value]="opt.standard_id">
                                            {{opt.masterCourse}}
                                        </option>
                                    </select>
                                    </div>
                                </div>

                                <div class="form-wrapper c-sm-3 c-md-3 c-lg-3">
                                    <label for="course">{{schoolModel? 'Section' : 'Course'}}</label>
                                    <div class="" style="padding: 0px;">
                                        <select id="walkintime" class="side-form-ctrl"
                                            [(ngModel)]="sendNotificationCourse.course_id" (ngModelChange)="($event)"
                                            name="course">
                                            <option value="-1"></option>
                                            <option *ngFor="let opt of courseList" [value]="opt.course_id">
                                                {{opt.course_name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="c-sm-3 c-md-3 c-lg-3">
                                    <button class="btn fullBlue" style=" margin-top: 15px;"
                                        (click)="fetchDataFromFields()">Go</button>
                                </div>

                                <div *ngIf="studentList.length > 0" class="pull-right" style="margin-top: 15px">
                                    <div class="search-filter">
                                        <input type="text" [(ngModel)]="searchData" class="normal-field"
                                            placeholder="Search" name="searchData" #searchVal>
                                    </div>
                                </div>

                            </div>

                            <span class="borderWithText">
                                <h2>
                                    <span>OR</span>
                                </h2>
                            </span>

                            <div class="row checkbox-Group">
                                <div class="field-checkbox-wrapper c-sm-3 c-md-3 c-lg-3" style="width: 20%;">
                                    <input type="checkbox" value="" (click)="chkBoxAllActiveStudent($event)"
                                        name="activeStudent" class="form-checkbox" id="chkBoxActiveSelection">
                                    <label for="activeStudent" style=" margin-left: 10px;">All Active Students</label>
                                </div>

                                <div class="field-checkbox-wrapper c-sm-3 c-md-3 c-lg-3" style="width: 20%;">
                                    <input type="checkbox" value="" name="tutorName" (click)="chkBoxAllTeacher($event)"
                                        class="form-checkbox" id="chkBoxTutorSelection">
                                    <label for="tutorName" style=" margin-left: 10px;">All Teacher</label>
                                </div>

                                <div class="field-checkbox-wrapper c-sm-3 c-md-3 c-lg-3" style="width: 20%;">
                                    <input type="checkbox" value="" name="inactiveStudent"
                                        (click)="chkBoxAllInActiveStudent($event)" class="form-checkbox"
                                        id="chkBoxInActiveSelection">
                                    <label for="inactiveStudent" style=" margin-left: 10px;">All Inactive
                                        Students</label>
                                </div>

                                <div class="field-checkbox-wrapper c-sm-3 c-md-3 c-lg-3" style="width: 20%;">
                                    <input type="checkbox" value="" name="aluminiStudent"
                                        (click)="chkBoxAllAluminiStudent($event)" class="form-checkbox"
                                        id="chkBoxAluminiSelection">
                                    <label for="aluminiStudent" style=" margin-left: 10px;">All Alumni Students</label>
                                </div>

                                <div class="field-checkbox-wrapper c-sm-3 c-md-3 c-lg-3" style="width: 20%;">
                                    <input type="checkbox" value="" name="openAppUser"
                                        (click)="chkBoxAllOpenAppUsers($event)" class="form-checkbox"
                                        id="chkBoxOpenAppSelection">
                                    <label for="openAppUser" style=" margin-left: 10px;">All Registered Users</label>
                                </div>
                            </div>

                            <div *ngIf="showTableFlag" class="table-content-wrapper">
                                <table *ngIf="selectedOption != 'showTutor'" class="table-wrapper">
                                    <thead>
                                        <tr>
                                            <th>
                                                <div class="field-checkbox-wrapper">
                                                    <input type="checkbox" class="form-checkbox"
                                                        [checked]="checkCheckAllChkboxStatus()"
                                                        (click)="checkAllChechboxes($event , studentList)">
                                                    <label></label>
                                                </div>
                                            </th>
                                            <th>
                                                ID
                                            </th>
                                            <th>
                                                Name
                                            </th>
                                            <th>
                                                Contact No
                                            </th>
                                            <th>
                                                Standard
                                            </th>
                                            <th>
                                                Joining Date
                                            </th>
                                            <th>
                                                Email
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="!openAppUserSelected">
                                        <tr
                                            *ngFor="let row of (studentList | searchPipe:searchData); let i = index; trackBy: i; ">
                                            <td>
                                                <div class="field-checkbox-wrapper">
                                                    <input type="checkbox" class="form-checkbox"
                                                        (ngModelChange)="onCheckBoxEvent($event , row)"
                                                        [(ngModel)]="row.assigned">
                                                    <label></label>
                                                </div>
                                            </td>
                                            <td>
                                                {{row.student_disp_id}}
                                            </td>
                                            <td>
                                                {{row.student_name}}
                                            </td>
                                            <td>
                                                {{row.student_phone}}
                                            </td>
                                            <td>
                                                {{row.student_class}}
                                            </td>
                                            <td>
                                                {{row.doj}}
                                            </td>
                                            <td>
                                                {{row.student_email}}
                                            </td>
                                        </tr>
                                        <tr *ngIf="studentList.length == 0">
                                            <td colspan="7">
                                                No Student Found
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tbody *ngIf="openAppUserSelected">
                                        <tr
                                            *ngFor="let row of (studentList | searchPipe:searchData); let i = index; trackBy: i; ">
                                            <td>
                                                <div class="field-checkbox-wrapper">
                                                    <input type="checkbox" class="form-checkbox"
                                                        (ngModelChange)="onCheckBoxEvent($event , row)"
                                                        [(ngModel)]="row.assigned">
                                                    <label></label>
                                                </div>
                                            </td>
                                            <td>
                                                {{row.user_id}}
                                            </td>
                                            <td>
                                                {{row.name}}
                                            </td>
                                            <td>
                                                {{row.phone}}
                                            </td>
                                            <td>
                                                {{row.student_class}}
                                            </td>
                                            <td>
                                                {{row.doj}}
                                            </td>
                                            <td>
                                                {{row.email_id}}
                                            </td>
                                        </tr>
                                        <tr *ngIf="studentList.length == 0">
                                            <td colspan="7">
                                                No Student Found
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                <!-- Special Case OF Tutor -->
                                <table *ngIf="selectedOption == 'showTutor'" class="table-wrapper">
                                    <thead>
                                        <tr>
                                            <th>
                                                <div class="field-checkbox-wrapper">
                                                    <input type="checkbox" class="form-checkbox"
                                                        [checked]="checkCheckAllChkboxStatus()"
                                                        (click)="checkAllChechboxes($event , studentList)">
                                                    <label></label>
                                                </div>
                                            </th>
                                            <th>
                                                Name
                                            </th>
                                            <th>
                                                Contact No
                                            </th>
                                            <th>
                                                Subject
                                            </th>
                                            <th>
                                                IsActive
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let row of (studentList | searchPipe:searchData); let i = index; trackBy: i;">
                                            <td>
                                                <div class="field-checkbox-wrapper">
                                                    <input type="checkbox" class="form-checkbox"
                                                        (ngModelChange)="onCheckBoxEvent($event , row)"
                                                        [(ngModel)]="row.assigned">
                                                    <label></label>
                                                </div>
                                            </td>
                                            <td>
                                                {{row.teacher_name}}
                                            </td>
                                            <td>
                                                {{row.teacher_phone}}
                                            </td>
                                            <td>
                                                {{row.teacher_subjects}}
                                            </td>
                                            <td>
                                                {{row.is_active}}
                                            </td>
                                        </tr>
                                        <tr *ngIf="studentList.length == 0">
                                            <td colspan="5">
                                                No Teacher Found
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div *ngIf="showTableFlag">
                                <input type="button" value="Next" class="btn fullBlue pull-right"
                                    (click)="selectTabMenu('idSendMessage','divSendMessage')" id="next_tab">
                            </div>
                        </div>

                        <div id="divSendMessage" class="hide">
                            <div class="row" *ngIf="!openAppUserSelected">
                                <div class="field-checkbox-wrapper">
                                    <input type="checkbox" (click)="changeCurrentView($event)" value=""
                                        name="loginMessage" class="form-checkbox" id="sendLoginChkbx">
                                    <label for="sendLoginChkbx" style=" margin-left: 10px;">Send Login Message</label>
                                </div>
                            </div>

                            <div id="divDeliveryMode" class="show">
                                <div class="row" style="margin-left: -15px">
                                    <div class="c-sm-4 c-md-4 c-lg-4">
                                        <h3>Delivery Mode</h3>
                                    </div>
                                    <div id="sendToHead" class="c-sm-6 c-md-6 c-lg-6" *ngIf="!openAppUserSelected">
                                        <h3>Send To</h3>
                                    </div>
                                </div>

                                <div class="row deliverModeSection">
                                    <div id="divSendOption" class="c-sm-4 c-md-4 c-lg-4">
                                        <div class="field-checkbox-wrapper c-sm-6 c-md-6 c-lg-6">
                                            <input type="checkbox" checked="true" value="" name="sms"
                                                (click)="smsCheckBoxClick($event)" class="form-checkbox"
                                                id="chkbxSmsSend">

                                            <label for="chkbxSmsSend" style=" margin-left: 10px;">SMS</label>
                                        </div>
                                        <div class="field-checkbox-wrapper c-sm-6 c-md-6 c-lg-6">

                                            <input type="checkbox" value="" (click)="emailCheckBoxClick($event)"
                                                name="mail" class="form-checkbox" id="chkbxEmailSend">
                                            <label for="chkbxEmailSend" style=" margin-left: 10px;">Mail</label>
                                        </div>
                                    </div>
                                    <div id="divParentOrGaurdian" class="c-sm-6 c-md-6 c-lg-6"
                                        *ngIf="!openAppUserSelected">
                                        <div class="field-checkbox-wrapper c-sm-3 c-md-3 c-lg-3">
                                            <input type="checkbox" checked="true" value="" name="student"
                                                class="form-checkbox" id="chkBoxStudent">
                                            <label for="chkBoxStudent" style=" margin-left: 10px;">Student</label>
                                        </div>
                                        <div class="field-checkbox-wrapper c-sm-3 c-md-3 c-lg-3">
                                            <input type="checkbox" value="" name="parent" class="form-checkbox"
                                                id="chkBoxParent">
                                            <label for="chkBoxParent" style=" margin-left: 10px;">Parent</label>
                                        </div>

                                    </div>
                                </div>

                                <div class="row" *ngIf="showEmailSubject">

                                    <div class="form-wrapper datepicker c-sm-6 c-xs-6">
                                        <label for="subject"
                                            style=" font-size: 14px; font-weight: 400; font-family: inherit; color: rgba(0, 0, 0, 0.73); padding-bottom: 10px; text-transform:uppercase; ">Subject</label>
                                        <input type="text" [(ngModel)]="messageSubject" name="subject"
                                            class="side-form-ctrl" value="" placeholder=""
                                            style=" background: #fff; border: 2px solid #77777770; width: 100%; padding: 8px 5px;"
                                            id="divSubjectMessage" />
                                    </div>

                                </div>

                                <div class="row"
                                    *ngIf="studentSelected && (selectedOption == 'showTable' || selectedOption == 'filter' || selectedOption == 'showTutor' || openAppUserSelected)">

                                    <div class="schedSwitcher row">
                                        <ul>
                                            <li (click)="onTabChange('approved')" id="approvedSMSTab" class="active">
                                                Approved</li>
                                            <li (click)="onTabChange('open')" id="openSMSTab" class="">Open</li>
                                        </ul>
                                    </div>

                                    <div class="row" *ngIf="!jsonFlag.openMessageFlag">
                                        <span>
                                            <b style="font-weight: 600;">Added Notification Messages</b>
                                            <b *ngIf="!jsonFlag.showAllMessage">&nbsp;&nbsp;(showing last 30 days added
                                                messages)</b>:</span>
                                        <a class="pull-right" style="cursor: pointer; margin-right: 10px;"
                                            (click)="getAllSavedMessages()">See All Messages</a>
                                    </div>

                                    <div class="row message-table-wrapper" *ngIf="!jsonFlag.openMessageFlag">
                                        <table class="message-table">
                                            <thead>
                                                <tr>
                                                    <th>

                                                    </th>
                                                    <th class="dateSection">
                                                        Date
                                                    </th>
                                                    <th style="text-align: left">
                                                        Message
                                                    </th>
                                                    <th>
                                                        Action
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody *ngIf="!showEmailSubject">
                                                <tr *ngFor="let row of messageList; let i = index; trackBy : i;">
                                                    <td>
                                                        <div class="field-checkbox-wrapper">
                                                            <input type="checkbox" class="form-checkbox"
                                                                [(ngModel)]="row.assigned"
                                                                (ngModelChange)="onCheckBoxSelection(index , row)">
                                                            <label></label>
                                                        </div>
                                                    </td>
                                                    <td class="dateSection">
                                                        {{row.date}}
                                                    </td>
                                                    <td style="text-align: left;    word-wrap: break-word;">
                                                        <span [innerHTML]="row.message"></span>
                                                    </td>
                                                    <td>
                                                        <i class="fa fa-pencil edit-icon-pencil"
                                                            (click)="editSMS(row )"></i> &nbsp;
                                                    </td>
                                                </tr>
                                                <tr *ngIf="messageList.length == 0">
                                                    <td colspan="4">
                                                        No Notification Available
                                                    </td>
                                                </tr>
                                            </tbody>
                                            <!-- Added by Ashwini Kumar Gupta for differeciate between sms and email msg -->
                                            <tbody *ngIf="showEmailSubject">
                                                <tr *ngFor="let row of emailMessageList; let i = index; trackBy: i;">
                                                    <td>
                                                        <div class="field-checkbox-wrapper">
                                                            <input type="checkbox" class="form-checkbox"
                                                                [(ngModel)]="row.assigned"
                                                                (ngModelChange)="onCheckBoxSelection(index , row)">
                                                            <label></label>
                                                        </div>
                                                    </td>
                                                    <td class="dateSection">
                                                        {{row.date}}
                                                    </td>
                                                    <td style="text-align: left;    word-wrap: break-word;">
                                                        <span [innerHTML]="row.message"></span>
                                                    </td>
                                                    <td>
                                                        <i class="fa fa-pencil edit-icon-pencil"
                                                            (click)="editSMS(row )"></i> &nbsp;
                                                    </td>
                                                </tr>
                                                <tr *ngIf="emailMessageList.length == 0">
                                                    <td colspan="4">
                                                        No Notification Available
                                                    </td>
                                                </tr>
                                            </tbody>
                                            <!-- End -->
                                        </table>
                                    </div>

                                    <div class="row message-table-wrapper" *ngIf="jsonFlag.openMessageFlag">
                                        <table class="message-table " style="table-layout: fixed;
                    width: 100%">
                                            <thead>
                                                <tr>
                                                    <th class="dateSection">
                                                        Date
                                                    </th>
                                                    <th style="text-align: left ;     width: 46rem;">
                                                        Message
                                                    </th>
                                                    <th>
                                                        Action
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody *ngIf="!showEmailSubject">
                                                <tr *ngFor="let row of openMessageList; let i = index; trackBy: i;">
                                                    <td class="dateSection">
                                                        {{row.date}}
                                                    </td>
                                                    <td style="text-align: left; width: 46rem; word-wrap: break-word;">
                                                        <span [innerHTML]="row.message"></span>
                                                    </td>
                                                    <td>
                                                        <div>
                                                            <span style="padding: 5px">
                                                                <i class="fa fa-pencil edit-icon-pencil"
                                                                    (click)="editSMS(row )"></i>
                                                            </span> &nbsp;
                                                            <span style="padding: 5px">
                                                                <i class="fas fa-check" *ngIf="showApproveButtons(row)"
                                                                    (click)="approveRejectSms(row , '1')"
                                                                    style="font-family: FontAwesome;font-size: 16px;color: green;"></i>
                                                            </span>&nbsp;
                                                            <span style="padding: 5px">
                                                                <i class="fa fa-times"
                                                                    (click)="approveRejectSms(row,'400')"
                                                                    style="font-family: FontAwesome;font-size: 16px;margin-left: 5px;"></i>
                                                            </span>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr *ngIf="openMessageList.length == 0">
                                                    <td colspan="3">
                                                        No Notification Available
                                                    </td>
                                                </tr>
                                            </tbody>
                                            <!-- Added by Ashwini Gupta to differenciate between sms and email message -->
                                            <tbody *ngIf="showEmailSubject">
                                                <tr
                                                    *ngFor="let row of openEmailMessageList; let i = index; trackBy: i;">
                                                    <td class="dateSection">
                                                        {{row.date}}
                                                    </td>
                                                    <td style="text-align: left; width: 46rem; word-wrap: break-word;">
                                                        <span [innerHTML]="row.message"></span>

                                                    </td>
                                                    <td>
                                                        <div>
                                                            <span style="padding: 5px">
                                                                <i class="fa fa-pencil edit-icon-pencil"
                                                                    (click)="editSMS(row )"></i>
                                                            </span> &nbsp;
                                                            <span style="padding: 5px">
                                                                <i class="fas fa-check" *ngIf="showApproveButtons(row)"
                                                                    (click)="approveRejectSms(row , '1')"
                                                                    style="font-family: FontAwesome;font-size: 16px;color: green;"></i>
                                                            </span>&nbsp;
                                                            <span style="padding: 5px">
                                                                <i class="fa fa-times"
                                                                    (click)="approveRejectSms(row,'400')"
                                                                    style="font-family: FontAwesome;font-size: 16px;margin-left: 5px;"></i>
                                                            </span>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr *ngIf=" openEmailMessageList.length ==0">
                                                    <td colspan="3">
                                                        No Notification Available
                                                    </td>
                                                </tr>
                                            </tbody>
                                            <!-- End -->
                                        </table>
                                    </div>

                                </div>

                                <div class="row" *ngIf="studentSelected && selectedOption == 'showTextBox'">
                                    <div class="form-wrapper datepicker c-sm-6 c-xs-6">
                                        <label for="subject"
                                            style=" font-size: 14px; font-weight: 400; font-family: inherit; color: rgba(0, 0, 0, 0.73); padding-bottom: 10px; text-transform:uppercase; ">Message
                                            <span class="text-danger">*</span>
                                        </label>
                                        <input type="text" [(ngModel)]="messageArea" name="subject"
                                            class="side-form-ctrl" value="" placeholder=""
                                            style=" background: #fff; border: 2px solid #77777770; width: 100%; padding: 8px 5px;"
                                            id="divMessageTextbox" />
                                    </div>
                                </div>

                                <div class="pull-right" *ngIf="studentSelected">
                                    <button class="btn" *ngIf="!showEmailSubject"
                                        (click)="sendNotificationMessage()">Send</button>
                                    <button class="btn" *ngIf="showEmailSubject"
                                        (click)="previewMessage()">Preview</button>
                                    <proctur-widget *ngIf="previowBox" [size]="'50%'">
                                        <h2 widget-header>Email Preview
                                        </h2>
                                        <div class="" widget-content>
                                            <textarea [(ngModel)]="subject" style="width: 100%;" disabled></textarea>

                                            <editor apiKey="xix5hq71alw64jp2ufl9fo6nddnhg91n6h7w2afn043v538t"
                                                [disabled]="true" [(ngModel)]="previewedMessage"></editor>
                                        </div>
                                        <div widget-content style="margin-top: 2%;">
                                            <button class="btn" (click)="sendNotificationMessage()">Send</button>
                                            <button class="btn" (click)="close()">Close</button>
                                        </div>
                                    </proctur-widget>
                                    <button class="btn"
                                        *ngIf="(selectedOption == 'showTable' || selectedOption == 'filter' || openAppUserSelected) && !showEmailSubject"
                                        (click)="sendPushNotification()">Send Push Notification</button>
                                </div>

                            </div>

                            <div id="divLoginMode" class="hide">

                                <div class="row">
                                    <div class="radio-options">
                                        <div class="field-radio-wrapper">
                                            <input type="radio" [checked]="(loginField.checkBox == '0')"
                                                [(ngModel)]="loginField.checkBox" value="0" name="student"
                                                class="form-radio">
                                            <label for="student">Student Only</label>
                                        </div>
                                        <div class="field-radio-wrapper">
                                            <input type="radio" value="1" [(ngModel)]="loginField.checkBox"
                                                name="parent" class="form-radio">
                                            <label for="parent">Parent Only</label>
                                        </div>
                                        <div class="field-radio-wrapper">
                                            <input type="radio" value="2" [(ngModel)]="loginField.checkBox" name="both"
                                                class="form-radio">
                                            <label for="both">Both</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="row btn-loginGroup"
                                    *ngIf="studentSelected && (selectedOption == 'showTable' || selectedOption == 'filter')">
                                    <button class="btn" (click)="sendSmsForApp('1',0)">SMS For App Download</button>
                                    <button class="btn" (click)="sendSmsForApp('2',0)">SMS For App Upgrade</button>
                                    <button class="btn" (click)="sendSmsForApp('4',0)">Send Credentials via SMS</button>
                                    <button class="btn" (click)="sendSmsForApp('4',1)">Send Credentials via
                                        Email</button>
                                </div>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

        </div>


    </proctur-widget>

    <proctur-widget *ngIf="viewDetailsPopUp">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeViewDetailsPopUp()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>

        <h2 widget-header>{{schoolModel ? 'Section' : 'Course'}} Details
            <span style="font-weight: 600;color: #9b9b9b;">{{selectedViewDet.master_course}}</span>
            <span style="font-weight: 600;color: #9b9b9b;"></span>
            <span style="font-weight: 600;color: #9b9b9b;">{{selectedViewDet.coursee_names}}</span>
        </h2>

        <div class="viewDeatail-wrapper" widget-content>
            <div class="table-details-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Subject</th>
                            <th>Start Time</th>
                            <th>End Time</th>
                            <th>Teacher</th>
                            <th>Description</th>
                            <th>Room No</th>
                            <th *ngIf="!schoolModel">Class Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of viewDetTable">
                            <td>{{data.subject_name}}</td>
                            <td>{{data.start_time}}</td>
                            <td>{{data.end_time}}</td>
                            <td>{{data.teacher_name}}</td>
                            <td>{{data.class_desc}}</td>
                            <td>{{data.room_no}}</td>
                            <td *ngIf="!schoolModel">{{data.custom_class_type}}</td>
                        </tr>
                        <tr *ngIf="viewDetTable.length == 0">
                            <td colspan="7">
                                No Classes Found
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="divLoginMode" class="hide">

            <div class="row">
                <div class="radio-options">
                    <div class="field-radio-wrapper">
                        <input type="radio" [checked]="(loginField.checkBox == '0')" [(ngModel)]="loginField.checkBox"
                            value="0" name="student" class="form-radio">
                        <label for="student">Student Only</label>
                    </div>
                    <div class="field-radio-wrapper">
                        <input type="radio" value="1" [(ngModel)]="loginField.checkBox" name="parent"
                            class="form-radio">
                        <label for="parent">Parent Only</label>
                    </div>
                    <div class="field-radio-wrapper">
                        <input type="radio" value="2" [(ngModel)]="loginField.checkBox" name="both" class="form-radio">
                        <label for="both">Both</label>
                    </div>
                </div>
            </div>

            <div class="row btn-loginGroup"
                *ngIf="studentSelected && (selectedOption == 'showTable' || selectedOption == 'filter')">
                <button class="btn" (click)="sendSmsForApp('1',0)">SMS For App Download</button>
                <button class="btn" (click)="sendSmsForApp('2',0)">SMS For App Upgrade</button>
                <button class="btn" (click)="sendSmsForApp('4',0)">Send Credentials via SMS</button>
                <button class="btn" (click)="sendSmsForApp('4',1)">Send Credentials via
                    Email</button>
            </div>

        </div>

    </proctur-widget>

    <proctur-widget *ngIf="viewDetailsPopUp">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeViewDetailsPopUp()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>

        <h2 widget-header>{{schoolModel ? 'Section' : 'Course'}} Details
            <span style="font-weight: 600;color: #9b9b9b;">{{selectedViewDet.master_course}}</span>
            <span style="font-weight: 600;color: #9b9b9b;"></span>
            <span style="font-weight: 600;color: #9b9b9b;">{{selectedViewDet.coursee_names}}</span>
        </h2>

        <div class="viewDeatail-wrapper" widget-content>
            <div class="table-details-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Subject</th>
                            <th>Start Time</th>
                            <th>End Time</th>
                            <th>Teacher</th>
                            <th>Description</th>
                            <th>Room No</th>
                            <th *ngIf="!schoolModel">Class Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of viewDetTable">
                            <td>{{data.subject_name}}</td>
                            <td>{{data.start_time}}</td>
                            <td>{{data.end_time}}</td>
                            <td>{{data.teacher_name}}</td>
                            <td>{{data.class_desc}}</td>
                            <td>{{data.room_no}}</td>
                            <td *ngIf="!schoolModel">{{data.custom_class_type}}</td>
                        </tr>
                        <tr *ngIf="viewDetTable.length == 0">
                            <td colspan="7">
                                No Classes Found
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="" widget-footer>
            <div class="clearfix">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Close" class="btn" (click)="closeViewDetailsPopUp()">
                </aside>
            </div>
        </div>

    </proctur-widget>

    <proctur-widget *ngIf="viewExamDetailsPopUp">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeExamViewDetailsPopUp()"
            close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>

        <h2 widget-header>Exam Details
            <span style="font-weight: 600;color: #9b9b9b;">{{selectedViewDet.master_course}}</span>
            <span style="font-weight: 600;color: #9b9b9b;"></span>
            <span style="font-weight: 600;color: #9b9b9b;">{{selectedViewDet.course_name}}</span>
        </h2>

        <div class="viewDeatail-wrapper" widget-content>
            <div class="table-details-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Subject</th>
                            <th>Start Time</th>
                            <th>End Time</th>
                            <th>Marks</th>
                            <th *ngIf="!schoolModel">Topic</th>
                            <th>Description</th>
                            <th>Room No</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of viewExamDetTable">
                            <td>{{data.subject_name}}</td>
                            <td>{{data.start_time}}</td>
                            <td>{{data.end_time}}</td>
                            <td>{{data.total_marks}}</td>
                            <td *ngIf="!schoolModel">{{data.topic_name}}</td>
                            <td>{{data.exam_description}}</td>
                            <td>{{data.room_no}}</td>
                        </tr>
                        <tr *ngIf="viewExamDetTable.length == 0">
                            <td colspan="7">
                                No Classes Found
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="" widget-footer>
            <div class="clearfix">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Close" class="btn" (click)="closeExamViewDetailsPopUp()">
                </aside>
            </div>
        </div>

    </proctur-widget>
    <!-- Exam Popup Section -->



    <proctur-widget *ngIf="cancelExamPopUP" [size]="'50%'">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeExamPopup()" close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81
                    305.77) rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81
                    305.77) rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>

        <h2 widget-header *ngIf="isLangInstitute">Batch Exam Schedule ({{cancelExamData.exam_date}}
            ({{cancelExamData.start_time}} - {{cancelExamData.end_time}})) Cancellation
        </h2>
        <h2 widget-header *ngIf="!isLangInstitute">
            Course Exam Schedule Cancellation
        </h2>

        <div class="" widget-content>
            <div class="cancel-Class-Wrapper">

                <div class="row attendance-Note">
                    <div class="c-sm-6 c-md-6 c-lg-6">
                        <div class="form-wrapper">
                            <label for="cancelTxtBx">Cancellation Reason</label>
                            <textarea class="side-form-ctrl" [(ngModel)]="cancelPopUpData.reason" id="cancelTxtBx"
                                name="cancelTxtBx"></textarea>
                        </div>
                    </div>
                </div>

                <div class="clearfix" style="margin-top: 10px">
                    <aside class="pull-left" style="margin-top: 10px">
                        <div class="field-checkbox-wrapper">
                            <input type="checkbox" value="" id="chkBxNotifyStudent" name="chkBxNotifyStudent"
                                class="form-checkbox" [(ngModel)]="cancelPopUpData.notify">
                            <label for="chkBxNotifyStudent">Notify Students</label>
                        </div>
                    </aside>
                    <aside class="pull-right popup-btn">
                        <input type="button" value="Close" class="btn" (click)="closeExamPopup()">
                        <input type="button" value="Cancel Class" (click)="cancelExamClassSchedule()"
                            class="fullBlue btn" [disabled]="auth.isRippleLoad.getValue()">
                    </aside>
                </div>

            </div>
        </div>

    </proctur-widget>

    <proctur-widget *ngIf="markExamAttendancePopUp">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeExamAttendance()" close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81
                  305.77) rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81
                  305.77) rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>
        <h2 widget-header>Mark/Update Exam Attendance</h2>

        <div class="attendanceWrapperCourse" widget-content>

            <div class="row attendance-Note">
                <div class="c-sm-6 c-md-6 c-lg-6">
                    <div class="form-wrapper">
                        <label for="attedNote">Exam Description</label>
                        <textarea class="side-form-ctrl" [(ngModel)]="attendanceNote" id="attedNote"
                            name="attedNote"></textarea>
                    </div>
                </div>
            </div>

            <div class="row filterSection">
                <div class="c-sm-3 c-md-3 c-lg-3">
                    <h3>Total Students : {{studentList.length}} </h3>
                </div>

                <div class="c-sm-6 c-md-6 c-lg-6">

                    <span class="leave">{{leaveCount}}</span>
                    <h5>Leave</h5>

                    <span class="absent">{{absentCount}}</span>
                    <h5>Absent</h5>

                    <span class="present">{{presentCount}}</span>
                    <h5>Present</h5>
                </div>

                <div class="c-sm-3 c-md-3 c-lg-3" *ngIf="isProfessional">
                    <div class="field-checkbox-wrapper">
                        <input type="checkbox" value="" class="form-checkbox" id="MarkPresent"
                            [checked]="checkCheckAllChkboxStatusExam()" (change)="markAllPresentExam($event)">
                        <label for="MarkAllPresent" class="txt-font">Mark All Present</label>
                    </div>

                </div>

            </div>

            <div class="attendanceMain table-wrapper-exam">
                <div class="table-scroll-wrapper exam-Attendance-Table">
                    <div class="table table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th style="font-size: 14px;font-weight: 600;">Student Id</th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Name</th>
                                    <th style="font-size: 14px;font-weight: 600;">Attendance</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let s of studentList; let i=index;">
                                    <td>
                                        {{s.student_disp_id}}
                                    </td>
                                    <td>
                                        {{s.student_name}}
                                    </td>
                                    <td>
                                        <div class="btnGroup">
                                            <button id="leaveBtnCourse{{s.student_id}}"
                                                [disabled]="(s.dateLi[0].status == 'L' && s.dateLi[0].isStatusModified == 'N')"
                                                (click)="markAttendaceExam($event , s , i)" class="btn"
                                                [ngClass]="{'classLeaveBtn' : s.dateLi[0].status == 'L'}">L</button>
                                            <button id="absentBtnCourse{{s.student_id}}"
                                                [disabled]="(s.dateLi[0].status == 'L' && s.dateLi[0].isStatusModified == 'N')"
                                                (click)="markAttendaceExam($event , s, i)" class="btn"
                                                [ngClass]="{'classAbsentBtn' : s.dateLi[0].status == 'A'}">A</button>
                                            <button id="presentBtnCourse{{s.student_id}}"
                                                [disabled]="(s.dateLi[0].status == 'L' && s.dateLi[0].isStatusModified == 'N')"
                                                (click)="markAttendaceExam($event , s, i)" class="btn"
                                                [ngClass]="{'classPresentBtn' : s.dateLi[0].status == 'P'}">P</button>
                                        </div>
                                    </td>

                                </tr>
                                <tr *ngIf="studentList.length == 0">
                                    <td colspan="3">
                                        No Students Record
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="" widget-footer>
            <div class="clearfix" style="padding-top: 15px">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closeExamAttendance()">
                    <input type="button" *ngIf="tempData.isReferenced == 'N'" value="Mark Attendance"
                        (click)="updateCourseAttendanceExam()" class="fullBlue btn">
                    <input type="button" *ngIf="tempData.isReferenced == 'Y'" value="Update Attendance"
                        (click)="updateCourseAttendanceExam()" class="fullBlue btn">
                </aside>
            </div>
        </div>
    </proctur-widget>

    <proctur-widget *ngIf="examMarksPopup">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closeExamMarks()" close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81
                  305.77) rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81
                  305.77) rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>
        <h2 widget-header>Update Student(s) Exam Marks - {{examData.exam_desc}}</h2>

        <div class="attendanceWrapperCourse" widget-content>

            <div class="row filterSection">
                <div class="c-sm-3 c-md-3 c-lg-3">
                    <h3>Total Students : {{studentList.length}} </h3>
                </div>

                <div *ngIf="examData.is_exam_grad_feature == 0" class="pull-right" style="margin-right: 10px">
                    <h3>Total Marks : {{examData.total_marks}}</h3>
                </div>


            </div>

            <div class="attendanceMain">
                <div class="table-scroll-wrapper">
                    <div class="table table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" value="" class="form-checkbox" id="MarkPresent"
                                                [checked]="checkForMArks()" (change)="markAllCheckBoxClick($event)">
                                            <label></label>
                                        </div>
                                    </th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Id</th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Name</th>
                                    <th style="font-size: 14px;font-weight: 600;">Standard/Class</th>
                                    <th style="font-size: 14px;font-weight: 600;">
                                        <span *ngIf="examData.is_exam_grad_feature == 0">Marks Obtained</span>
                                        <span *ngIf="examData.is_exam_grad_feature == 1">Grades Obtained</span>
                                    </th>
                                    <th style="font-size: 14px;font-weight: 600;">Attendance</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let s of studentList; let i=index;">
                                    <td>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" class="form-checkbox" [(ngModel)]="s.assigned">
                                            <label></label>
                                        </div>
                                    </td>
                                    <td>
                                        {{s.student_disp_id}}
                                    </td>
                                    <td>
                                        {{s.student_name}}
                                    </td>
                                    <td>
                                        {{s.student_class}}
                                    </td>
                                    <td *ngIf="examData.is_exam_grad_feature == 0">
                                        <div class="form-wrapper" style="width:50px;">
                                            <input type="text" class="side-form-ctrl" [disabled]="(s.attendance != 'P')"
                                                [(ngModel)]="s.marks_obtained">
                                        </div>
                                    </td>
                                    <td *ngIf="examData.is_exam_grad_feature == 1">
                                        <div class="form-wrapper" style="width:70px;">
                                            <select id="" class="side-form-ctrl" [disabled]="(s.attendance != 'P')"
                                                [(ngModel)]="s.grade_id" name="grade_id"
                                                [disabled]="(s.attendance == 'L' && s.isAttendanceUpdated == 'N') || (s.attendance == 'L') || (s.attendance == 'A')"
                                                style="padding: 0px 0px">
                                                <option value="-1"></option>
                                                <option [value]="time.grade_id" *ngFor="let time of gradesList">
                                                    {{time.grade}}
                                                </option>
                                            </select>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="btnGroup">
                                            <button id="leaveBtnCourse{{s.student_id}}"
                                                [disabled]="(s.attendance == 'L' && s.isAttendanceUpdated == 'N')"
                                                (click)="markSheetExam($event , s )" class="btn"
                                                [ngClass]="{'classLeaveBtn' : s.attendance == 'L'}">L</button>
                                            <button id="absentBtnCourse{{s.student_id}}"
                                                [disabled]="(s.attendance == 'L' && s.isAttendanceUpdated == 'N')"
                                                (click)="markSheetExam($event , s )" class="btn"
                                                [ngClass]="{'classAbsentBtn' : s.attendance == 'A'}">A</button>
                                            <button id="presentBtnCourse{{s.student_id}}"
                                                [disabled]="(s.attendance == 'L' && s.isAttendanceUpdated == 'N')"
                                                (click)="markSheetExam($event , s)" class="btn"
                                                [ngClass]="{'classPresentBtn' : s.attendance == 'P'}">P</button>
                                        </div>
                                    </td>

                                </tr>
                                <tr *ngIf="studentList.length == 0">
                                    <td colspan="6">
                                        No Students Record
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="" widget-footer>
            <div class="clearfix" style="padding-top: 15px">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closeExamMarks()">
                    <input type="button" value="Update Marks" (click)="updateMarksOnServer('N')" class="fullBlue btn">
                    <input type="button" value="Update All And Send SMS" (click)="updateMarksOnServer('Y')"
                        class="fullBlue btn">
                </aside>
            </div>
        </div>
    </proctur-widget>

    <proctur-widget *ngIf="courseExamAttPopup">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closePopUpCommon()" close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81
                  305.77) rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81
                  305.77) rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>
        <h2 widget-header>Mark Exam Attendance</h2>

        <div class="attendanceWrapperCourse" widget-content>

            <div class="row filterSection">
                <div class="c-sm-3 c-md-3 c-lg-3">
                    <h3>Total Students : {{studentList.length}} </h3>
                </div>

                <div class="c-sm-6 c-md-6 c-lg-6">

                </div>

                <div class="c-sm-3 c-md-3 c-lg-3">

                </div>

            </div>

            <div class="attendanceMain table-wrapper-exam">
                <div class="table-scroll-wrapper exam-Attendance-Table">
                    <div class="table table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" class="form-checkbox" [checked]="checkForMArks()"
                                                (change)="markAllCheckBoxClick($event)">
                                            <label></label>
                                        </div>
                                    </th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Id</th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Name</th>
                                    <th style="font-size: 14px;font-weight: 600;">Attendance</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let s of studentList; let i=index;">
                                    <td>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" class="form-checkbox" [(ngModel)]="s.assigned">
                                            <label></label>
                                        </div>
                                    </td>
                                    <td>
                                        {{s.student_disp_id}}
                                    </td>
                                    <td>
                                        {{s.student_name}}
                                    </td>
                                    <td>
                                        <div class="btnGroup">
                                            <button id="leaveBtnCourse{{s.student_id}}"
                                                [disabled]="(s.attendance == 'L' && s.isAttendanceUpdated == 'N')"
                                                (click)="markAttendaceExamCourse($event , s , i)" class="btn"
                                                [ngClass]="{'classLeaveBtn' : s.attendance == 'L'}">L</button>
                                            <button id="absentBtnCourse{{s.student_id}}"
                                                [disabled]="(s.attendance == 'L' && s.isAttendanceUpdated == 'N')"
                                                (click)="markAttendaceExamCourse($event , s, i)" class="btn"
                                                [ngClass]="{'classAbsentBtn' : s.attendance == 'A'}">A</button>
                                            <button id="presentBtnCourse{{s.student_id}}"
                                                [disabled]="(s.attendance == 'L' && s.isAttendanceUpdated == 'N')"
                                                (click)="markAttendaceExamCourse($event , s, i)" class="btn"
                                                [ngClass]="{'classPresentBtn' : s.attendance == 'P'}">P</button>
                                        </div>
                                    </td>

                                </tr>
                                <tr *ngIf="studentList.length == 0">
                                    <td colspan="4">
                                        No Students Record
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="" widget-footer>
            <div class="clearfix" style="padding-top: 15px">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closePopUpCommon()">
                    <input type="button" value="Mark Attendance" (click)="markAttCourseExam()" class="fullBlue btn">
                </aside>
            </div>
        </div>
    </proctur-widget>

    <proctur-widget *ngIf="courseExamMarkPopup">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closePopUpCommon()" close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="Attendance9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81
                  305.77) rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81
                  305.77) rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>
        <h2 widget-header>Mark Exam Attendance</h2>

        <div class="attendanceWrapperCourse" widget-content>

            <div class="row" style="margin: 5px 0px 5px 15px;">
                <div class="c-sm-8 c-md-8 c-lg-8">
                    <div class="radio-options">
                        <div class="field-radio-wrapper">
                            <input type="radio" [(ngModel)]="examMarksLevel" [checked]="examMarksLevel == '1'"
                                [disabled]="tempData.course_marks_update_level == '1' || tempData.course_marks_update_level == '2'"
                                value="1" name="sujectWise" class="form-radio"
                                (ngModelChange)="onRadioButtonSelction()">
                            <label for="student">Subject Wise</label>
                        </div>
                        <div class="field-radio-wrapper">
                            <input type="radio" value="2" [(ngModel)]="examMarksLevel" [checked]="examMarksLevel == '2'"
                                [disabled]="tempData.course_marks_update_level == '1' || tempData.course_marks_update_level == '2'"
                                name="courseWise" class="form-radio" (ngModelChange)="onRadioButtonSelction()">
                            <label for="both">Course Wise</label>
                        </div>
                    </div>
                </div>


            </div>

            <div class="attendanceMain table-wrapper-exam">
                <div class="table-scroll-wrapper exam-Attendance-Table">
                    <div class="table table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" class="form-checkbox" [checked]="checkForMArks()"
                                                (change)="markAllCheckBoxClick($event)">
                                            <label></label>
                                        </div>
                                    </th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Id</th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Name</th>
                                    <th style="font-size: 14px;font-weight: 600;">Attendance</th>
                                    <th *ngFor="let s of subjectList;" style="font-size: 14px;font-weight: 600;">
                                        {{s.subject_name}}
                                        <span *ngIf="tempData.is_exam_grad_feature == 0">({{s.total_marks}})</span>
                                    </th>
                                    <th style="font-size: 14px;font-weight: 600;">
                                        <span *ngIf="tempData.is_exam_grad_feature == 0">Total Marks
                                            ({{totalExamMarks}})</span>
                                        <span *ngIf="tempData.is_exam_grad_feature == 1">Total Grades</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let s of studentList; let i=index;">
                                    <td>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" class="form-checkbox" [(ngModel)]="s.assigned">
                                            <label></label>
                                        </div>
                                    </td>
                                    <td>
                                        {{s.student_disp_id}}
                                    </td>
                                    <td>
                                        {{s.student_name}}
                                    </td>
                                    <td>
                                        {{s.attendance}}
                                    </td>
                                    <td *ngFor="let subject of s.batchExamMarksLi; let i=index;">

                                        <div *ngIf="tempData.is_exam_grad_feature == 0" class="form-wrapper"
                                            style="width:50px;">
                                            <input type="text" class="side-form-ctrl paddingLess"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel != '1')"
                                                [(ngModel)]="subject.marks_obtained"
                                                (focusout)="checkSubjectMarks(s,subject,$event)">
                                        </div>

                                        <div *ngIf="tempData.is_exam_grad_feature == 1" class="form-wrapper"
                                            style="width:70px;">
                                            <select id="" class="side-form-ctrl" [(ngModel)]="subject.grade_id"
                                                name="grade_id"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel != '1')"
                                                style="padding: 0px 0px">
                                                <option value="-1"></option>
                                                <option [value]="time.grade_id" *ngFor="let time of gradesList">
                                                    {{time.grade}}
                                                </option>
                                            </select>
                                        </div>

                                    </td>
                                    <td>
                                        <div *ngIf="tempData.is_exam_grad_feature == 0" class="form-wrapper"
                                            style="width:50px;">
                                            <input type="text" class="side-form-ctrl paddingLess"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel != '2')"
                                                [(ngModel)]="s.course_exam_marks_obtained"
                                                (focusout)="checkTotalMarks(s , $event)">
                                        </div>
                                        <div *ngIf="tempData.is_exam_grad_feature == 1" class="form-wrapper"
                                            style="width:70px;">
                                            <select id="" class="side-form-ctrl"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel == '0')"
                                                [(ngModel)]="s.grade_id" name="grade_id" style="padding: 0px 0px">
                                                <option value="-1"></option>
                                                <option [value]="time.grade_id" *ngFor="let time of gradesList">
                                                    {{time.grade}}
                                                </option>
                                            </select>
                                        </div>
                                    </td>
                                </tr>
                                <tr *ngIf="studentList.length == 0">
                                    <td colspan="6">
                                        No Students Record
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="" widget-footer>
            <div class="clearfix" style="padding-top: 15px">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closePopUpCommon()">
                    <input type="button" value="Update Marks" (click)="updateMarksOnServerCourse('single')"
                        class="fullBlue btn">
                    <input type="button" value="Update All And Send SMS" (click)="updateMarksOnServerCourse('all')"
                        class="fullBlue btn">
                </aside>
            </div>
        </div>
    </proctur-widget>




    <proctur-widget *ngIf="courseCommonExamCancelPopUP">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closePopUpCommon()" close-button>
            <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet"
                viewBox="0 0 24 24" width="24px" x="0" y="0">
                <path class="large-icon"
                    d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
                    style="fill: currentColor"></path>
            </svg>
        </span>
        <h2 widget-header>Cancel Exam Schedule</h2>

        <div class="cancelExamWrapper" widget-content>

            <div class="details row">
                <div class="c-sm-6 c-md-6 c-lg-6">
                    <h6 style="font-size:14px">Master Course : {{courseTempData.master_course}} </h6>
                </div>
                <div class="c-sm-6 c-md-6 c-lg-6" style="text-align:right;">
                    <h6 style="font-size:14px">Exam Schedule Date : {{courseTempData.course_exam_date | date: 'dd MMM yyyy'}} </h6>
                </div>
            </div>


            <div class="content-wraper">
                <div class="row button-Section">
                    <div class="c-sm-4 c-md-4 c-lg-4">
                        <h6 style="font-size:14px">Course : {{courseTempData.course_name}}</h6>
                    </div>

                </div>
            </div>

            <div class="cancel-section">
                <div class="cancel-Class-Wrapper">
                    <div class="row attendance-Note">
                        <div class="c-sm-6 c-md-6 c-lg-6">
                            <div class="form-wrapper">
                                <label for="cancelTxtBx">Cancellation Reason<span class="text-danger">*</span></label>
                                <textarea class="side-form-ctrl" [(ngModel)]="cancelPopUpData.reason" id="cancelTxtBx"
                                    name="cancelTxtBx"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="clearfix" style="margin-top: 10px">
                        <aside class="pull-left" style="margin-top: 10px">
                            <div class="field-checkbox-wrapper">
                                <input type="checkbox" value="" id="chkBxNotifyStudent" name="chkBxNotifyStudent"
                                    class="form-checkbox" [(ngModel)]="cancelPopUpData.notify">
                                <label for="chkBxNotifyStudent">Notify Students</label>
                            </div>
                        </aside>
                        <aside class="pull-right popup-btn">
                            <input type="button" value="Close" class="btn" (click)="closePopUpCommon()">
                            <input type="button" value="Cancel Exam" (click)="cancelExamCall()" class="fullBlue btn"
                                [disabled]=auth.isRippleLoad.getValue()>
                        </aside>
                    </div>

                </div>
            </div>

        </div>
    </proctur-widget>

    <proctur-widget *ngIf="examMerkMassUpload">
        <span class="closePopup pos-abs fbold show" id="popupCloseBtn" (click)="closePopUpCommon()" close-button>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="Attendance9310 2185 16 16">
                <g id="Group_1228" data-name="Group 1228" transform="translate(8298 1888)">
                    <g id="Group_1213" data-name="Group 1213" transform="translate(34.189 -7.77)">
                        <line id="Line_274" data-name="Line 274" class="cls-1" y2="19.798" transform="translate(992.81
                    305.77) rotate(45)" />
                        <line id="Line_275" data-name="Line 275" class="cls-1" x1="19.798" transform="translate(978.81
                    305.77) rotate(45)" />
                    </g>
                    <rect id="Rectangle_686" data-name="Rectangle 686" style="stroke:none;" class="cls-2" width="16"
                        height="16" transform="translate(1012 297)" />
                </g>
            </svg>
        </span>
        <h2 widget-header>Upload Student Marks</h2>

        <div class="attendanceWrapperCourse" widget-content>

            <div class="row" style="margin: 5px 0px 5px 15px;">
                <div class="c-sm-6 c-md-6 c-lg-6">
                    <div class="radio-options">
                        <div class="field-radio-wrapper">
                            <input type="radio" [(ngModel)]="examMarksLevel" [checked]="examMarksLevel == '1'"
                                [disabled]="tempData.course_marks_update_level == '1' || tempData.course_marks_update_level == '2'"
                                value="1" name="sujectWise" class="form-radio"
                                (ngModelChange)="onRadioButtonSelction()">
                            <label for="student">Subject Wise</label>
                        </div>
                        <div class="field-radio-wrapper">
                            <input type="radio" value="2" [(ngModel)]="examMarksLevel" [checked]="examMarksLevel == '2'"
                                [disabled]="tempData.course_marks_update_level == '1' || tempData.course_marks_update_level == '2'"
                                name="courseWise" class="form-radio" (ngModelChange)="onRadioButtonSelction()">
                            <label for="both">Course Wise</label>
                        </div>
                    </div>
                </div>


            </div>

            <div class="attendanceMain table-wrapper-exam">
                <div class="table-scroll-wrapper exam-Attendance-Table">
                    <div class="table table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" class="form-checkbox" [checked]="checkForMArks()"
                                                (change)="markAllCheckBoxClick($event)">
                                            <label></label>
                                        </div>
                                    </th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Id</th>
                                    <th style="font-size: 14px;font-weight: 600;">Student Name</th>
                                    <th style="font-size: 14px;font-weight: 600;">Attendance</th>
                                    <th *ngFor="let s of subjectList;" style="font-size: 14px;font-weight: 600;">
                                        {{s.subject_name}}
                                        <span *ngIf="tempData.is_exam_grad_feature == 0">({{s.total_marks}})</span>
                                    </th>
                                    <th style="font-size: 14px;font-weight: 600;">
                                        <span *ngIf="tempData.is_exam_grad_feature == 0">Total Marks
                                            ({{totalExamMarks}})</span>
                                        <span *ngIf="tempData.is_exam_grad_feature == 1">Total Grades</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let s of studentList; let i=index;">
                                    <td>
                                        <div class="field-checkbox-wrapper">
                                            <input type="checkbox" class="form-checkbox" [(ngModel)]="s.assigned">
                                            <label></label>
                                        </div>
                                    </td>
                                    <td>
                                        {{s.student_disp_id}}
                                    </td>
                                    <td>
                                        {{s.student_name}}
                                    </td>
                                    <td>
                                        {{s.attendance}}
                                    </td>
                                    <td *ngFor="let subject of s.batchExamMarksLi; let i=index;">

                                        <div *ngIf="tempData.is_exam_grad_feature == 0" class="form-wrapper"
                                            style="width:50px;">
                                            <input type="text" class="side-form-ctrl paddingLess"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel != '1')"
                                                [(ngModel)]="subject.marks_obtained"
                                                (focusout)="checkSubjectMarks(s,subject,$event)">
                                        </div>

                                        <div *ngIf="tempData.is_exam_grad_feature == 1" class="form-wrapper"
                                            style="width:70px;">
                                            <select id="" class="side-form-ctrl" [(ngModel)]="subject.grade_id"
                                                name="grade_id"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel != '1')"
                                                style="padding: 0px 0px">
                                                <option value="-1"></option>
                                                <option [value]="time.grade_id" *ngFor="let time of gradesList">
                                                    {{time.grade}}
                                                </option>
                                            </select>
                                        </div>

                                    </td>
                                    <td>
                                        <div *ngIf="tempData.is_exam_grad_feature == 0" class="form-wrapper"
                                            style="width:50px;">
                                            <input type="text" class="side-form-ctrl paddingLess"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel != '2')"
                                                [(ngModel)]="s.course_exam_marks_obtained"
                                                (focusout)="checkTotalMarks(s , $event)">
                                        </div>
                                        <div *ngIf="tempData.is_exam_grad_feature == 1" class="form-wrapper"
                                            style="width:70px;">
                                            <select id="" class="side-form-ctrl"
                                                [disabled]="(s.attendance != 'P') || (examMarksLevel == '0')"
                                                [(ngModel)]="s.grade_id" name="grade_id" style="padding: 0px 0px">
                                                <option value="-1"></option>
                                                <option [value]="time.grade_id" *ngFor="let time of gradesList">
                                                    {{time.grade}}
                                                </option>
                                            </select>
                                        </div>
                                    </td>
                                </tr>
                                <tr *ngIf="studentList.length == 0">
                                    <td colspan="6">
                                        No Students Record
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="" widget-footer>
            <div class="clearfix" style="padding-top: 15px">
                <aside class="pull-right popup-btn">
                    <input type="button" value="Cancel" class="btn" (click)="closePopUpCommon()">
                    <input type="button" value="Update Marks" (click)="updateMarksOnServerCourse('single')"
                        class="fullBlue btn">
                    <input type="button" value="Update All And Send SMS" (click)="updateMarksOnServerCourse('all')"
                        class="fullBlue btn">
                </aside>
            </div>
        </div>
    </proctur-widget>

    <!-- <div class="plus-icon-container">
        <button type="button" name="button" class="plus-button" (click)="showList()">
            + </button>
    </div> -->

    <div class="more-about-plus-icon" *ngIf="showExpenseToDo">
        <div class="to-do" (click)="showExpensesList()" *ngIf="!userTypeForExpenses">
            <span>Add Expenses</span>
            <i class="fa fa-money toDo"></i>
        </div>
        <div class="to-do" (click)="showToDoList()">
            <span>To Do List</span>
            <i class="fa fa-list-alt toDo"></i>
        </div>
    </div>


    <div class="toDoList-container" id="toDoList-container" *ngIf="showToDo">
        <app-to-do-list (loaderOn)="onOfLoaderFromTodoList($event)"></app-to-do-list>
    </div>

    <div class="expenses-container" id="expenses-container" *ngIf="showExpenses">
        <button type="button" name="button" class="close_button" (click)="closeShowList()">X</button>
        <app-expenses></app-expenses>
    </div>

</section>

<!-- <div class="black-bg" id="black-bg" *ngIf="showExpenseToDo" (click)="closeShowList()"> -->

<!-- Pop up for client due payment  -->
<!--Added By: Ashwini Kumar Gupta  -->
<section id="popup" class="popupWrapper fadeIn" *ngIf="blockClientPopUpFlag" style="z-index: 1113;">
    <!--  -->
    <div class="popup pos-abs popup-body-container">
        <div class="popup-wrapper pos-rel firstDiv">
            <div style="border-bottom: 1px solid lightgrey;padding-bottom: 20px;">
                <h1 style="font-size: 19.5px;"><u style="font-weight: bold;">Gentle Reminder for your due payment</u>
                </h1>
            </div>
            <div style="margin-top: 4%;border-bottom: 1px solid lightgrey;padding-bottom: 20px;">
                <p style="font-size: 15px;">Amount: {{amount}}</p><br>
                <p style="font-size: 15px;">Due Date: {{due_date}}</p><br>
                <p style="font-size: 15px;">UPI: proctur@sbi</p><br>
                <p style="font-size: 15px;">Or pay from link: <a href="https://proctur.com/make-payment"
                        target="_blank">https://proctur.com/make-payment</a></p><br><br>
                <p style="font-size: 15px;">Thanks!</p><br>
                <p style="font-size: 15px;">Team Proctur</p>
            </div>
        </div>
    </div>
</section>
<!-- End Of Code -->
<!-- ================================ -->
<div class="black-bg" id="black-bg" *ngIf="showExpenseToDo || blockClientPopUpFlag" (click)="closeShowList()">


</div>
<div class="modal fade" id="loginSubscription" role="dialog" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="left:10% !important;top: 110px;">
            <div class="modal-header" style="padding-bottom: 20px;">
                <h3 class="modal-title">Dear Partner, your subscription is due for
                    <span *ngIf="daysLeftForSubscriptionExpiry > 0"> renewal in <span
                            class="text-bold">{{daysLeftForSubscriptionExpiry}} days</span>.</span>
                    <span *ngIf="daysLeftForSubscriptionExpiry == 0"> today.</span>
                    <br> Kindly contact our team at <span class="text-bold">9971839153</span> or drop email at <span
                        style="color: blue;">info@proctur.com</span> for renewal.
                </h3>
            </div>
            <div class="modal-footer" style="padding: 8px !important;">
                <button type="button" class="btn btn-primary create-btn"
                    (click)="closeSubscriptionAlert()">Okay</button>
            </div>
        </div>

    </div>
</div>